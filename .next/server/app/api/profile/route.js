"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/profile/route";
exports.ids = ["app/api/profile/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_swyanswartz_Documents_sada_sada29_sada144_app_api_profile_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/profile/route.js */ \"(rsc)/./app/api/profile/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/profile/route\",\n        pathname: \"/api/profile\",\n        filename: \"route\",\n        bundlePath: \"app/api/profile/route\"\n    },\n    resolvedPagePath: \"/home/swyanswartz/Documents/sada/sada29/sada144/app/api/profile/route.js\",\n    nextConfigOutput,\n    userland: _home_swyanswartz_Documents_sada_sada29_sada144_app_api_profile_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/profile/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9maWxlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9maWxlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvZmlsZSUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGc3d5YW5zd2FydHolMkZEb2N1bWVudHMlMkZzYWRhJTJGc2FkYTI5JTJGc2FkYTE0NCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnN3eWFuc3dhcnR6JTJGRG9jdW1lbnRzJTJGc2FkYSUyRnNhZGEyOSUyRnNhZGExNDQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QjtBQUNyRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1zcWxpdGUtdGVtcGxhdGUvPzMwZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvc3d5YW5zd2FydHovRG9jdW1lbnRzL3NhZGEvc2FkYTI5L3NhZGExNDQvYXBwL2FwaS9wcm9maWxlL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZmlsZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2ZpbGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2ZpbGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9zd3lhbnN3YXJ0ei9Eb2N1bWVudHMvc2FkYS9zYWRhMjkvc2FkYTE0NC9hcHAvYXBpL3Byb2ZpbGUvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Byb2ZpbGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/profile/route.js":
/*!**********************************!*\
  !*** ./app/api/profile/route.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/sqlite */ \"(rsc)/./lib/sqlite.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n// Force this route to be dynamic\nconst dynamic = \"force-dynamic\";\n// GET - Get user profile\nasync function GET() {\n    try {\n        const client = await _lib_sqlite__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n        const db = client.db(\"sada\");\n        // Get profile data for the current user (berdoz)\n        const profile = await db.collection(\"user_profiles\").findOne({\n            username: \"berdoz\"\n        });\n        if (!profile) {\n            // Return default profile if none exists\n            const now = new Date().toISOString();\n            const defaultProfile = {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n                username: \"berdoz\",\n                displayName: \"Berdoz Administrator\",\n                email: \"admin@berdoz.edu.krd\",\n                bio: \"System Administrator for Berdoz Educational Institution Management System\",\n                phone: \"+964 750 123 4567\",\n                location: \"Erbil, Kurdistan Region, Iraq\",\n                institution: \"Berdoz Educational Institution\",\n                role: \"System Administrator\",\n                joinDate: \"2024-01-01\",\n                avatar: \"\",\n                language: \"kurdish\",\n                theme: \"system\",\n                emailNotifications: 1,\n                systemAlerts: 1,\n                backupReminders: 1,\n                created_at: now,\n                updated_at: now,\n                createdAt: now,\n                updatedAt: now\n            };\n            // Create default profile in database\n            await db.collection(\"user_profiles\").insertOne(defaultProfile);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(defaultProfile);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(profile);\n    } catch (error) {\n        console.error(\"Error fetching profile:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch profile\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT - Update user profile\nasync function PUT(request) {\n    try {\n        const profileData = await request.json();\n        const client = await _lib_sqlite__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n        const db = client.db(\"sada\");\n        // Update profile data\n        const updateData = {\n            ...profileData,\n            updated_at: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n        };\n        // Remove sensitive fields that shouldn't be updated via this endpoint\n        delete updateData._id;\n        delete updateData.id;\n        delete updateData.created_at;\n        delete updateData.createdAt;\n        const result = await db.collection(\"user_profiles\").updateOne({\n            username: \"berdoz\"\n        }, {\n            $set: updateData\n        }, {\n            upsert: true\n        });\n        if (result.acknowledged) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Profile updated successfully\"\n            });\n        } else {\n            throw new Error(\"Failed to update profile\");\n        }\n    } catch (error) {\n        console.error(\"Error updating profile:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update profile\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Byb2ZpbGUvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBDO0FBQ0Y7QUFDTDtBQUVuQyxpQ0FBaUM7QUFDMUIsTUFBTUksVUFBVSxnQkFBZTtBQUV0Qyx5QkFBeUI7QUFDbEIsZUFBZUM7SUFDcEIsSUFBSTtRQUNGLE1BQU1DLFNBQVMsTUFBTUwsbURBQWFBO1FBQ2xDLE1BQU1NLEtBQUtELE9BQU9DLEVBQUUsQ0FBQztRQUVyQixpREFBaUQ7UUFDakQsTUFBTUMsVUFBVSxNQUFNRCxHQUFHRSxVQUFVLENBQUMsaUJBQWlCQyxPQUFPLENBQUM7WUFBRUMsVUFBVTtRQUFTO1FBRWxGLElBQUksQ0FBQ0gsU0FBUztZQUNaLHdDQUF3QztZQUN4QyxNQUFNSSxNQUFNLElBQUlDLE9BQU9DLFdBQVc7WUFFbEMsTUFBTUMsaUJBQWlCO2dCQUNyQkMsSUFBSWIsZ0RBQU1BO2dCQUNWUSxVQUFVO2dCQUNWTSxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxLQUFLO2dCQUNMQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxhQUFhO2dCQUNiQyxNQUFNO2dCQUNOQyxVQUFVO2dCQUNWQyxRQUFRO2dCQUNSQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxvQkFBb0I7Z0JBQ3BCQyxjQUFjO2dCQUNkQyxpQkFBaUI7Z0JBQ2pCQyxZQUFZbkI7Z0JBQ1pvQixZQUFZcEI7Z0JBQ1pxQixXQUFXckI7Z0JBQ1hzQixXQUFXdEI7WUFDYjtZQUVBLHFDQUFxQztZQUNyQyxNQUFNTCxHQUFHRSxVQUFVLENBQUMsaUJBQWlCMEIsU0FBUyxDQUFDcEI7WUFDL0MsT0FBT2YscURBQVlBLENBQUNvQyxJQUFJLENBQUNyQjtRQUMzQjtRQUVBLE9BQU9mLHFEQUFZQSxDQUFDb0MsSUFBSSxDQUFDNUI7SUFDM0IsRUFBRSxPQUFPNkIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPckMscURBQVlBLENBQUNvQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUEwQixHQUFHO1lBQUVFLFFBQVE7UUFBSTtJQUMvRTtBQUNGO0FBRUEsNEJBQTRCO0FBQ3JCLGVBQWVDLElBQUlDLE9BQU87SUFDL0IsSUFBSTtRQUNGLE1BQU1DLGNBQWMsTUFBTUQsUUFBUUwsSUFBSTtRQUN0QyxNQUFNOUIsU0FBUyxNQUFNTCxtREFBYUE7UUFDbEMsTUFBTU0sS0FBS0QsT0FBT0MsRUFBRSxDQUFDO1FBRXJCLHNCQUFzQjtRQUN0QixNQUFNb0MsYUFBYTtZQUNqQixHQUFHRCxXQUFXO1lBQ2RWLFlBQVksSUFBSW5CLE9BQU9DLFdBQVc7WUFDbENvQixXQUFXLElBQUlyQixPQUFPQyxXQUFXO1FBQ25DO1FBRUEsc0VBQXNFO1FBQ3RFLE9BQU82QixXQUFXQyxHQUFHO1FBQ3JCLE9BQU9ELFdBQVczQixFQUFFO1FBQ3BCLE9BQU8yQixXQUFXWixVQUFVO1FBQzVCLE9BQU9ZLFdBQVdWLFNBQVM7UUFFM0IsTUFBTVksU0FBUyxNQUFNdEMsR0FBR0UsVUFBVSxDQUFDLGlCQUFpQnFDLFNBQVMsQ0FDM0Q7WUFBRW5DLFVBQVU7UUFBUyxHQUNyQjtZQUFFb0MsTUFBTUo7UUFBVyxHQUNuQjtZQUFFSyxRQUFRO1FBQUs7UUFHakIsSUFBSUgsT0FBT0ksWUFBWSxFQUFFO1lBQ3ZCLE9BQU9qRCxxREFBWUEsQ0FBQ29DLElBQUksQ0FBQztnQkFBRWMsU0FBUztZQUErQjtRQUNyRSxPQUFPO1lBQ0wsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO0lBQ0YsRUFBRSxPQUFPZCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU9yQyxxREFBWUEsQ0FBQ29DLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTJCLEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQ2hGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtc3FsaXRlLXRlbXBsYXRlLy4vYXBwL2FwaS9wcm9maWxlL3JvdXRlLmpzPzEwYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgY2xpZW50UHJvbWlzZSBmcm9tICdAL2xpYi9zcWxpdGUnXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xuXG4vLyBGb3JjZSB0aGlzIHJvdXRlIHRvIGJlIGR5bmFtaWNcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnXG5cbi8vIEdFVCAtIEdldCB1c2VyIHByb2ZpbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZVxuICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKCdzYWRhJylcbiAgICBcbiAgICAvLyBHZXQgcHJvZmlsZSBkYXRhIGZvciB0aGUgY3VycmVudCB1c2VyIChiZXJkb3opXG4gICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJfcHJvZmlsZXMnKS5maW5kT25lKHsgdXNlcm5hbWU6ICdiZXJkb3onIH0pXG4gICAgXG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAvLyBSZXR1cm4gZGVmYXVsdCBwcm9maWxlIGlmIG5vbmUgZXhpc3RzXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIFxuICAgICAgY29uc3QgZGVmYXVsdFByb2ZpbGUgPSB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdXNlcm5hbWU6ICdiZXJkb3onLFxuICAgICAgICBkaXNwbGF5TmFtZTogJ0JlcmRveiBBZG1pbmlzdHJhdG9yJyxcbiAgICAgICAgZW1haWw6ICdhZG1pbkBiZXJkb3ouZWR1LmtyZCcsXG4gICAgICAgIGJpbzogJ1N5c3RlbSBBZG1pbmlzdHJhdG9yIGZvciBCZXJkb3ogRWR1Y2F0aW9uYWwgSW5zdGl0dXRpb24gTWFuYWdlbWVudCBTeXN0ZW0nLFxuICAgICAgICBwaG9uZTogJys5NjQgNzUwIDEyMyA0NTY3JyxcbiAgICAgICAgbG9jYXRpb246ICdFcmJpbCwgS3VyZGlzdGFuIFJlZ2lvbiwgSXJhcScsXG4gICAgICAgIGluc3RpdHV0aW9uOiAnQmVyZG96IEVkdWNhdGlvbmFsIEluc3RpdHV0aW9uJyxcbiAgICAgICAgcm9sZTogJ1N5c3RlbSBBZG1pbmlzdHJhdG9yJyxcbiAgICAgICAgam9pbkRhdGU6ICcyMDI0LTAxLTAxJyxcbiAgICAgICAgYXZhdGFyOiAnJyxcbiAgICAgICAgbGFuZ3VhZ2U6ICdrdXJkaXNoJyxcbiAgICAgICAgdGhlbWU6ICdzeXN0ZW0nLFxuICAgICAgICBlbWFpbE5vdGlmaWNhdGlvbnM6IDEsXG4gICAgICAgIHN5c3RlbUFsZXJ0czogMSxcbiAgICAgICAgYmFja3VwUmVtaW5kZXJzOiAxLFxuICAgICAgICBjcmVhdGVkX2F0OiBub3csXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5vdyxcbiAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgIHVwZGF0ZWRBdDogbm93XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IHByb2ZpbGUgaW4gZGF0YWJhc2VcbiAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJfcHJvZmlsZXMnKS5pbnNlcnRPbmUoZGVmYXVsdFByb2ZpbGUpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGVmYXVsdFByb2ZpbGUpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwcm9maWxlKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2ZpbGU6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcHJvZmlsZScgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbi8vIFBVVCAtIFVwZGF0ZSB1c2VyIHByb2ZpbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHByb2ZpbGVEYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXG4gICAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3NhZGEnKVxuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9maWxlIGRhdGFcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgLi4ucHJvZmlsZURhdGEsXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH1cbiAgICBcbiAgICAvLyBSZW1vdmUgc2Vuc2l0aXZlIGZpZWxkcyB0aGF0IHNob3VsZG4ndCBiZSB1cGRhdGVkIHZpYSB0aGlzIGVuZHBvaW50XG4gICAgZGVsZXRlIHVwZGF0ZURhdGEuX2lkXG4gICAgZGVsZXRlIHVwZGF0ZURhdGEuaWRcbiAgICBkZWxldGUgdXBkYXRlRGF0YS5jcmVhdGVkX2F0XG4gICAgZGVsZXRlIHVwZGF0ZURhdGEuY3JlYXRlZEF0XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcl9wcm9maWxlcycpLnVwZGF0ZU9uZShcbiAgICAgIHsgdXNlcm5hbWU6ICdiZXJkb3onIH0sXG4gICAgICB7ICRzZXQ6IHVwZGF0ZURhdGEgfSxcbiAgICAgIHsgdXBzZXJ0OiB0cnVlIH1cbiAgICApXG4gICAgXG4gICAgaWYgKHJlc3VsdC5hY2tub3dsZWRnZWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdQcm9maWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScpXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2ZpbGU6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNsaWVudFByb21pc2UiLCJ2NCIsInV1aWR2NCIsImR5bmFtaWMiLCJHRVQiLCJjbGllbnQiLCJkYiIsInByb2ZpbGUiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInVzZXJuYW1lIiwibm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGVmYXVsdFByb2ZpbGUiLCJpZCIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJiaW8iLCJwaG9uZSIsImxvY2F0aW9uIiwiaW5zdGl0dXRpb24iLCJyb2xlIiwiam9pbkRhdGUiLCJhdmF0YXIiLCJsYW5ndWFnZSIsInRoZW1lIiwiZW1haWxOb3RpZmljYXRpb25zIiwic3lzdGVtQWxlcnRzIiwiYmFja3VwUmVtaW5kZXJzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJpbnNlcnRPbmUiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwiUFVUIiwicmVxdWVzdCIsInByb2ZpbGVEYXRhIiwidXBkYXRlRGF0YSIsIl9pZCIsInJlc3VsdCIsInVwZGF0ZU9uZSIsIiRzZXQiLCJ1cHNlcnQiLCJhY2tub3dsZWRnZWQiLCJtZXNzYWdlIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/profile/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/sqlite.js":
/*!***********************!*\
  !*** ./lib/sqlite.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"database\", \"sada.db\");\nconst dbDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(dbPath);\n// Ensure database directory exists\nif (!fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(dbDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_2___default().mkdirSync(dbDir, {\n        recursive: true\n    });\n}\n// Create or open database\nconst db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n// Enable WAL mode for better concurrent access\ndb.pragma(\"journal_mode = WAL\");\n// Initialize database schema\nfunction initDatabase() {\n    // Staff Records - تۆمارەکانی ستاف\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS staff_records (\n      id TEXT PRIMARY KEY,\n      fullName TEXT NOT NULL,\n      mobile TEXT,\n      address TEXT,\n      gender TEXT,\n      dateOfBirth TEXT,\n      certificate TEXT,\n      age INTEGER,\n      education TEXT,\n      attendance TEXT DEFAULT 'Present',\n      date TEXT,\n      department TEXT,\n      bloodType TEXT,\n      certificateImages TEXT,\n      notes TEXT,\n      pass TEXT,\n      contract TEXT DEFAULT 'Permanent',\n      cv TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Teachers - تۆماری مامۆستایان\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS teachers (\n      id TEXT PRIMARY KEY,\n      fullName TEXT,\n      birthYear TEXT,\n      certificate TEXT,\n      jobTitle TEXT,\n      specialist TEXT,\n      graduationDate TEXT,\n      startDate TEXT,\n      previousInstitution TEXT,\n      bloodType TEXT,\n      certificateImages TEXT,\n      notes TEXT,\n      cv TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Teacher Info - زانیاری مامۆستا\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS teacher_info (\n      id TEXT PRIMARY KEY,\n      politicalName TEXT,\n      realName TEXT,\n      department TEXT,\n      subject TEXT,\n      grade TEXT,\n      phoneNumber TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Employee Leaves - مۆڵەتی مامۆستا (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS employee_leaves (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Officer Leaves - مۆڵەتی فەرمانبەر (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS officer_leaves (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Calendar - بەرێوبردنی ساڵنامە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS calendar_entries (\n      id TEXT PRIMARY KEY,\n      month TEXT,\n      week1 TEXT,\n      week2 TEXT,\n      week3 TEXT,\n      week4 TEXT,\n      year INTEGER,\n      emailTasks TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Activities - چالاکی\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS activities (\n      id TEXT PRIMARY KEY,\n      activityType TEXT,\n      preparationDate TEXT,\n      content TEXT,\n      startDate TEXT,\n      whoDidIt TEXT,\n      helper TEXT,\n      activityImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Exam Supervision - چاودێریکردنی تاقیکردنەوە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS exam_supervision (\n      id TEXT PRIMARY KEY,\n      subject TEXT,\n      stage TEXT,\n      endTime TEXT,\n      examAchievement TEXT,\n      supervisorName TEXT,\n      obtainedScore TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Supervision - چاودێری (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS supervision (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Bus - پاس\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS bus_records (\n      id TEXT PRIMARY KEY,\n      busNumber TEXT,\n      busType TEXT,\n      route TEXT,\n      capacity TEXT,\n      studentCount TEXT,\n      teacherCount TEXT,\n      driverName TEXT,\n      driverPhone TEXT,\n      driverLicense TEXT,\n      driverPhoto TEXT,\n      driverLicensePhoto TEXT,\n      driverVideos TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Payroll - لیستی بڕی موچە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS payroll (\n      id TEXT PRIMARY KEY,\n      employeeName TEXT,\n      salary REAL,\n      absence REAL,\n      deduction REAL,\n      bonus REAL,\n      total REAL,\n      month TEXT,\n      year TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Installments - قیستی ساڵانە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS installments (\n      id TEXT PRIMARY KEY,\n      fullName TEXT,\n      grade TEXT,\n      installmentType TEXT,\n      annualAmount REAL,\n      firstInstallment REAL,\n      secondInstallment REAL,\n      thirdInstallment REAL,\n      fourthInstallment REAL,\n      fifthInstallment REAL,\n      sixthInstallment REAL,\n      totalReceived REAL,\n      remaining REAL,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Monthly Expenses - خەرجی مانگانە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS monthly_expenses (\n      id TEXT PRIMARY KEY,\n      year TEXT,\n      month TEXT,\n      staffSalary REAL,\n      expenses REAL,\n      buildingRent REAL,\n      dramaFee REAL,\n      socialSupport REAL,\n      electricity REAL,\n      books REAL,\n      clothes REAL,\n      travel REAL,\n      transportation REAL,\n      total REAL,\n      requirement TEXT,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Building Expenses - مەسروفاتی بینا\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS building_expenses (\n      id TEXT PRIMARY KEY,\n      item TEXT,\n      cost REAL,\n      year TEXT,\n      month INTEGER,\n      date TEXT,\n      notes TEXT,\n      images TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Daily Accounts - حساباتی رۆژانە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS daily_accounts (\n      id TEXT PRIMARY KEY,\n      number INTEGER,\n      week TEXT,\n      purpose TEXT,\n      checkNumber TEXT,\n      amount REAL,\n      date TEXT,\n      dayOfWeek TEXT,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Kitchen Expenses - خەرجی خواردنگە\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS kitchen_expenses (\n      id TEXT PRIMARY KEY,\n      item TEXT,\n      cost REAL,\n      date TEXT,\n      month TEXT,\n      year TEXT,\n      purpose TEXT,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Student Permissions - مۆڵەت (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS student_permissions (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Supervised Students - قوتابی چاودێری کراو (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS supervised_students (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Additional tables for other features\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS legend_entries (\n      id TEXT PRIMARY KEY,\n      abbreviation TEXT NOT NULL,\n      full_description TEXT,\n      category TEXT,\n      usage_count INTEGER DEFAULT 1,\n      last_used TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS email_settings (\n      id TEXT PRIMARY KEY,\n      host TEXT,\n      port INTEGER,\n      secure INTEGER,\n      username TEXT,\n      password TEXT,\n      from_email TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS email_tasks (\n      id TEXT PRIMARY KEY,\n      calendarEntryId TEXT,\n      to_email TEXT,\n      subject TEXT,\n      body TEXT,\n      status TEXT DEFAULT 'Pending',\n      scheduled_time TEXT,\n      date TEXT,\n      codes TEXT,\n      description TEXT,\n      monthContext TEXT,\n      year INTEGER,\n      weekContext TEXT,\n      dayContext TEXT,\n      sent_at TEXT,\n      error TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS user_profiles (\n      id TEXT PRIMARY KEY,\n      username TEXT UNIQUE NOT NULL,\n      password TEXT,\n      fullName TEXT,\n      displayName TEXT,\n      email TEXT,\n      bio TEXT,\n      phone TEXT,\n      location TEXT,\n      institution TEXT,\n      role TEXT DEFAULT 'user',\n      joinDate TEXT,\n      avatar TEXT,\n      language TEXT DEFAULT 'kurdish',\n      theme TEXT DEFAULT 'system',\n      emailNotifications INTEGER DEFAULT 1,\n      systemAlerts INTEGER DEFAULT 1,\n      backupReminders INTEGER DEFAULT 1,\n      created_at TEXT NOT NULL,\n      createdAt TEXT,\n      updated_at TEXT NOT NULL,\n      updatedAt TEXT\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS security_logs (\n      id TEXT PRIMARY KEY,\n      action TEXT NOT NULL,\n      userId TEXT,\n      username TEXT,\n      ipAddress TEXT,\n      userAgent TEXT,\n      timestamp TEXT NOT NULL,\n      details TEXT\n    )\n  `);\n    // Migration: Add month and year columns to payroll table if they don't exist\n    try {\n        const tableInfo = db.prepare(\"PRAGMA table_info(payroll)\").all();\n        const columnNames = tableInfo.map((col)=>col.name);\n        if (!columnNames.includes(\"month\")) {\n            db.exec(\"ALTER TABLE payroll ADD COLUMN month TEXT\");\n            console.log(\"✅ Added month column to payroll table\");\n        }\n        if (!columnNames.includes(\"year\")) {\n            db.exec(\"ALTER TABLE payroll ADD COLUMN year TEXT\");\n            console.log(\"✅ Added year column to payroll table\");\n        }\n    } catch (error) {\n        console.error(\"Migration error for payroll table:\", error);\n    }\n    // Migration: Add type column to email_settings table if it doesn't exist\n    try {\n        const emailSettingsInfo = db.prepare(\"PRAGMA table_info(email_settings)\").all();\n        const emailSettingsColumns = emailSettingsInfo.map((col)=>col.name);\n        if (!emailSettingsColumns.includes(\"type\")) {\n            db.exec(\"ALTER TABLE email_settings ADD COLUMN type TEXT\");\n            console.log(\"✅ Added type column to email_settings table\");\n        }\n    } catch (error) {\n        console.error(\"Migration error for email_settings table:\", error);\n    }\n    console.log(\"✅ SQLite database initialized successfully\");\n}\n// Initialize database on module load\ninitDatabase();\n// Helper class to wrap SQLite operations similar to MongoDB API\nclass SQLiteWrapper {\n    constructor(tableName){\n        this.tableName = tableName;\n        // Check if this table uses flexible schema (data column)\n        this.isFlexibleSchema = this._hasDataColumn();\n    }\n    _hasDataColumn() {\n        const flexibleTables = [\n            \"employee_leaves\",\n            \"officer_leaves\",\n            \"supervision\",\n            \"student_permissions\",\n            \"supervised_students\"\n        ];\n        return flexibleTables.includes(this.tableName);\n    }\n    _parseRow(row) {\n        if (!row) return null;\n        if (this.isFlexibleSchema && row.data) {\n            const parsedData = JSON.parse(row.data);\n            return {\n                id: row.id,\n                ...parsedData,\n                created_at: row.created_at,\n                updated_at: row.updated_at\n            };\n        }\n        // Parse JSON strings for arrays and objects in regular tables\n        const parsedRow = {\n            ...row\n        };\n        for(const key in parsedRow){\n            const value = parsedRow[key];\n            if (typeof value === \"string\" && (value.startsWith(\"[\") || value.startsWith(\"{\"))) {\n                try {\n                    parsedRow[key] = JSON.parse(value);\n                } catch (e) {\n                // If parsing fails, keep the original string\n                }\n            }\n        }\n        return parsedRow;\n    }\n    _parseRows(rows) {\n        return rows.map((row)=>this._parseRow(row));\n    }\n    // Helper method to build WHERE conditions from MongoDB-style filters\n    _buildWhereClause(filter) {\n        const conditions = [];\n        const params = [];\n        for (const [key, value] of Object.entries(filter)){\n            // Handle $or operator\n            if (key === \"$or\" && Array.isArray(value)) {\n                const orConditions = [];\n                for (const orFilter of value){\n                    const { conditions: subConditions, params: subParams } = this._buildWhereClause(orFilter);\n                    if (subConditions.length > 0) {\n                        orConditions.push(`(${subConditions.join(\" AND \")})`);\n                        params.push(...subParams);\n                    }\n                }\n                if (orConditions.length > 0) {\n                    conditions.push(`(${orConditions.join(\" OR \")})`);\n                }\n                continue;\n            }\n            if (value && typeof value === \"object\" && !Array.isArray(value) && !(value instanceof Date)) {\n                // Handle MongoDB-style operators\n                for (const [operator, operatorValue] of Object.entries(value)){\n                    switch(operator){\n                        case \"$gte\":\n                            conditions.push(`${key} >= ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$lte\":\n                            conditions.push(`${key} <= ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$gt\":\n                            conditions.push(`${key} > ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$lt\":\n                            conditions.push(`${key} < ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$ne\":\n                            conditions.push(`${key} != ?`);\n                            params.push(operatorValue);\n                            break;\n                        case \"$in\":\n                            if (Array.isArray(operatorValue)) {\n                                const placeholders = operatorValue.map(()=>\"?\").join(\", \");\n                                conditions.push(`${key} IN (${placeholders})`);\n                                params.push(...operatorValue);\n                            }\n                            break;\n                        case \"$exists\":\n                            // In SQLite, check if column is NULL or NOT NULL\n                            if (operatorValue === false) {\n                                conditions.push(`${key} IS NULL`);\n                            } else {\n                                conditions.push(`${key} IS NOT NULL`);\n                            }\n                            break;\n                        default:\n                            // Unknown operator, treat as equality\n                            conditions.push(`${key} = ?`);\n                            params.push(operatorValue);\n                    }\n                }\n            } else if (value === null) {\n                // Handle NULL values\n                conditions.push(`${key} IS NULL`);\n            } else {\n                // Simple equality\n                conditions.push(`${key} = ?`);\n                params.push(value instanceof Date ? value.toISOString() : value);\n            }\n        }\n        return {\n            conditions,\n            params\n        };\n    }\n    // Find all records with optional filter\n    find(filter = {}) {\n        return {\n            sort: (sortOptions)=>({\n                    limit: (limitValue)=>({\n                            toArray: ()=>{\n                                let query = `SELECT * FROM ${this.tableName}`;\n                                const params = [];\n                                // Add WHERE clause if filter exists\n                                if (Object.keys(filter).length > 0) {\n                                    const { conditions, params: filterParams } = this._buildWhereClause(filter);\n                                    query += ` WHERE ${conditions.join(\" AND \")}`;\n                                    params.push(...filterParams);\n                                }\n                                // Add ORDER BY\n                                if (sortOptions && Object.keys(sortOptions).length > 0) {\n                                    const orderClauses = Object.entries(sortOptions).map(([key, value])=>`${key} ${value === -1 ? \"DESC\" : \"ASC\"}`);\n                                    query += ` ORDER BY ${orderClauses.join(\", \")}`;\n                                }\n                                // Add LIMIT\n                                if (limitValue) {\n                                    query += ` LIMIT ?`;\n                                    params.push(limitValue);\n                                }\n                                const rows = db.prepare(query).all(...params);\n                                return this._parseRows(rows);\n                            }\n                        }),\n                    toArray: ()=>{\n                        let query = `SELECT * FROM ${this.tableName}`;\n                        const params = [];\n                        if (Object.keys(filter).length > 0) {\n                            const { conditions, params: filterParams } = this._buildWhereClause(filter);\n                            query += ` WHERE ${conditions.join(\" AND \")}`;\n                            params.push(...filterParams);\n                        }\n                        if (sortOptions && Object.keys(sortOptions).length > 0) {\n                            const orderClauses = Object.entries(sortOptions).map(([key, value])=>`${key} ${value === -1 ? \"DESC\" : \"ASC\"}`);\n                            query += ` ORDER BY ${orderClauses.join(\", \")}`;\n                        }\n                        const rows = db.prepare(query).all(...params);\n                        return this._parseRows(rows);\n                    }\n                }),\n            toArray: ()=>{\n                let query = `SELECT * FROM ${this.tableName}`;\n                const params = [];\n                if (Object.keys(filter).length > 0) {\n                    const { conditions, params: filterParams } = this._buildWhereClause(filter);\n                    query += ` WHERE ${conditions.join(\" AND \")}`;\n                    params.push(...filterParams);\n                }\n                const rows = db.prepare(query).all(...params);\n                return this._parseRows(rows);\n            }\n        };\n    }\n    // Find one record\n    findOne(filter) {\n        let query = `SELECT * FROM ${this.tableName}`;\n        if (Object.keys(filter).length > 0) {\n            const { conditions, params } = this._buildWhereClause(filter);\n            query += ` WHERE ${conditions.join(\" AND \")} LIMIT 1`;\n            const row = db.prepare(query).get(...params);\n            return this._parseRow(row);\n        }\n        query += ` LIMIT 1`;\n        const row = db.prepare(query).get();\n        return this._parseRow(row);\n    }\n    // Insert one record\n    insertOne(data) {\n        if (this.isFlexibleSchema) {\n            // For flexible schema tables, store everything in data column\n            const { id, created_at, updated_at, ...rest } = data;\n            const query = `INSERT INTO ${this.tableName} (id, data, created_at, updated_at) VALUES (?, ?, ?, ?)`;\n            const result = db.prepare(query).run(id, JSON.stringify(rest), created_at instanceof Date ? created_at.toISOString() : created_at, updated_at instanceof Date ? updated_at.toISOString() : updated_at);\n            return {\n                insertedId: id,\n                acknowledged: true\n            };\n        }\n        const keys = Object.keys(data);\n        // Convert Date objects and arrays to strings\n        const values = Object.values(data).map((val)=>{\n            if (val instanceof Date) return val.toISOString();\n            if (Array.isArray(val)) return JSON.stringify(val);\n            if (typeof val === \"object\" && val !== null) return JSON.stringify(val);\n            return val;\n        });\n        const placeholders = keys.map(()=>\"?\").join(\", \");\n        const query = `INSERT INTO ${this.tableName} (${keys.join(\", \")}) VALUES (${placeholders})`;\n        const result = db.prepare(query).run(...values);\n        return {\n            insertedId: data.id,\n            acknowledged: true\n        };\n    }\n    // Update one record\n    updateOne(filter, update, options = {}) {\n        const updateData = update.$set || update;\n        // Check if record exists\n        const existing = this.findOne(filter);\n        // Handle upsert option\n        if (!existing && options.upsert) {\n            // Insert new record with filter fields + update data\n            const insertData = {\n                ...filter,\n                ...updateData\n            };\n            // Ensure timestamps exist\n            if (!insertData.created_at) {\n                insertData.created_at = new Date().toISOString();\n            }\n            if (!insertData.updated_at) {\n                insertData.updated_at = new Date().toISOString();\n            }\n            return this.insertOne(insertData);\n        }\n        if (!existing) {\n            return {\n                matchedCount: 0,\n                modifiedCount: 0,\n                acknowledged: true\n            };\n        }\n        if (this.isFlexibleSchema) {\n            // For flexible schema, need to read, modify, and write back\n            const { created_at, ...dataFields } = existing;\n            const updated = {\n                ...dataFields,\n                ...updateData\n            };\n            const { id, updated_at, ...rest } = updated;\n            const query = `UPDATE ${this.tableName} SET data = ?, updated_at = ? WHERE id = ?`;\n            const result = db.prepare(query).run(JSON.stringify(rest), updated_at instanceof Date ? updated_at.toISOString() : updated_at, filter.id);\n            return {\n                matchedCount: result.changes,\n                modifiedCount: result.changes,\n                acknowledged: true\n            };\n        }\n        const setClauses = Object.keys(updateData).map((key)=>`${key} = ?`).join(\", \");\n        const filterConditions = Object.keys(filter).map((key)=>`${key} = ?`).join(\" AND \");\n        // Convert Date objects and arrays to strings\n        const updateValues = Object.values(updateData).map((val)=>{\n            if (val instanceof Date) return val.toISOString();\n            if (Array.isArray(val)) return JSON.stringify(val);\n            if (typeof val === \"object\" && val !== null) return JSON.stringify(val);\n            return val;\n        });\n        const query = `UPDATE ${this.tableName} SET ${setClauses} WHERE ${filterConditions}`;\n        const params = [\n            ...updateValues,\n            ...Object.values(filter)\n        ];\n        const result = db.prepare(query).run(...params);\n        return {\n            matchedCount: result.changes,\n            modifiedCount: result.changes,\n            acknowledged: true\n        };\n    }\n    // Find one and update record (MongoDB-compatible method)\n    findOneAndUpdate(filter, update, options = {}) {\n        const updateData = update.$set || update;\n        // Check if record exists\n        const existing = this.findOne(filter);\n        // Handle upsert option\n        if (!existing && options.upsert) {\n            const insertData = {\n                ...filter,\n                ...updateData\n            };\n            if (!insertData.created_at) {\n                insertData.created_at = new Date().toISOString();\n            }\n            if (!insertData.updated_at) {\n                insertData.updated_at = new Date().toISOString();\n            }\n            this.insertOne(insertData);\n            const newRecord = this.findOne(filter);\n            return {\n                value: newRecord,\n                ok: 1\n            };\n        }\n        if (!existing) {\n            return {\n                value: null,\n                ok: 0\n            };\n        }\n        // Perform the update\n        this.updateOne(filter, {\n            $set: updateData\n        });\n        // Return the updated document based on returnDocument option\n        const returnAfter = options.returnDocument === \"after\" || options.returnOriginal === false;\n        if (returnAfter) {\n            const updated = this.findOne(filter);\n            return {\n                value: updated,\n                ok: 1\n            };\n        } else {\n            return {\n                value: existing,\n                ok: 1\n            };\n        }\n    }\n    // Delete one record\n    deleteOne(filter) {\n        const conditions = Object.keys(filter).map((key)=>`${key} = ?`).join(\" AND \");\n        const query = `DELETE FROM ${this.tableName} WHERE ${conditions}`;\n        const result = db.prepare(query).run(...Object.values(filter));\n        return {\n            deletedCount: result.changes\n        };\n    }\n    // Delete many records\n    deleteMany(filter) {\n        if (Object.keys(filter).length === 0) {\n            const result = db.prepare(`DELETE FROM ${this.tableName}`).run();\n            return {\n                deletedCount: result.changes\n            };\n        }\n        const conditions = Object.keys(filter).map((key)=>`${key} = ?`).join(\" AND \");\n        const query = `DELETE FROM ${this.tableName} WHERE ${conditions}`;\n        const result = db.prepare(query).run(...Object.values(filter));\n        return {\n            deletedCount: result.changes\n        };\n    }\n    // Count documents\n    countDocuments(filter = {}) {\n        let query = `SELECT COUNT(*) as count FROM ${this.tableName}`;\n        const params = [];\n        if (Object.keys(filter).length > 0) {\n            const conditions = Object.keys(filter).map((key)=>`${key} = ?`);\n            query += ` WHERE ${conditions.join(\" AND \")}`;\n            params.push(...Object.values(filter));\n        }\n        const result = db.prepare(query).get(...params);\n        return result.count;\n    }\n    // Drop collection (delete all data)\n    drop() {\n        db.prepare(`DELETE FROM ${this.tableName}`).run();\n        return true;\n    }\n    // Insert many records\n    insertMany(documents) {\n        const insertedIds = [];\n        for (const doc of documents){\n            const result = this.insertOne(doc);\n            insertedIds.push(result.insertedId);\n        }\n        return {\n            insertedIds,\n            insertedCount: insertedIds.length,\n            acknowledged: true\n        };\n    }\n}\n// Create a client-like interface similar to MongoDB\nconst sqliteClient = {\n    db: (dbName)=>({\n            collection: (collectionName)=>new SQLiteWrapper(collectionName),\n            // List all collections\n            listCollections: ()=>{\n                const tables = db.prepare(`\n        SELECT name FROM sqlite_master \n        WHERE type='table' AND name NOT LIKE 'sqlite_%'\n      `).all();\n                return {\n                    toArray: ()=>tables\n                };\n            }\n        })\n};\n// Export promise-like interface for compatibility\nconst clientPromise = Promise.resolve(sqliteClient);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ0Y7QUFDRjtBQUVBLG9EQUFvRDtBQUNwRCxNQUFNb0MsZUFBZTtJQUNuQmhILElBQUksQ0FBQ2lILFNBQVk7WUFDZkMsWUFBWSxDQUFDQyxpQkFBbUIsSUFBSWxHLGNBQWNrRztZQUNsRCx1QkFBdUI7WUFDdkJDLGlCQUFpQjtnQkFDZixNQUFNQyxTQUFTckgsR0FBR0ssT0FBTyxDQUFDLENBQUM7OztNQUczQixDQUFDLEVBQUVDLEdBQUc7Z0JBQ04sT0FBTztvQkFDTHlELFNBQVMsSUFBTXNEO2dCQUNqQjtZQUNGO1FBQ0Y7QUFDRjtBQUVBLGtEQUFrRDtBQUNsRCxNQUFNQyxnQkFBZ0JDLFFBQVFDLE9BQU8sQ0FBQ1I7QUFFdEMsaUVBQWVNLGFBQWFBLEVBQUM7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1zcWxpdGUtdGVtcGxhdGUvLi9saWIvc3FsaXRlLmpzP2NmNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFiYXNlIGZyb20gJ2JldHRlci1zcWxpdGUzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhYmFzZScsICdzYWRhLmRiJyk7XG5jb25zdCBkYkRpciA9IHBhdGguZGlybmFtZShkYlBhdGgpO1xuXG4vLyBFbnN1cmUgZGF0YWJhc2UgZGlyZWN0b3J5IGV4aXN0c1xuaWYgKCFmcy5leGlzdHNTeW5jKGRiRGlyKSkge1xuICBmcy5ta2RpclN5bmMoZGJEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuXG4vLyBDcmVhdGUgb3Igb3BlbiBkYXRhYmFzZVxuY29uc3QgZGIgPSBuZXcgRGF0YWJhc2UoZGJQYXRoKTtcblxuLy8gRW5hYmxlIFdBTCBtb2RlIGZvciBiZXR0ZXIgY29uY3VycmVudCBhY2Nlc3NcbmRiLnByYWdtYSgnam91cm5hbF9tb2RlID0gV0FMJyk7XG5cbi8vIEluaXRpYWxpemUgZGF0YWJhc2Ugc2NoZW1hXG5mdW5jdGlvbiBpbml0RGF0YWJhc2UoKSB7XG4gIC8vIFN0YWZmIFJlY29yZHMgLSDYqtuG2YXYp9ix25Xaqdin2YbbjCDYs9iq2KfZgVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzdGFmZl9yZWNvcmRzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBmdWxsTmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgbW9iaWxlIFRFWFQsXG4gICAgICBhZGRyZXNzIFRFWFQsXG4gICAgICBnZW5kZXIgVEVYVCxcbiAgICAgIGRhdGVPZkJpcnRoIFRFWFQsXG4gICAgICBjZXJ0aWZpY2F0ZSBURVhULFxuICAgICAgYWdlIElOVEVHRVIsXG4gICAgICBlZHVjYXRpb24gVEVYVCxcbiAgICAgIGF0dGVuZGFuY2UgVEVYVCBERUZBVUxUICdQcmVzZW50JyxcbiAgICAgIGRhdGUgVEVYVCxcbiAgICAgIGRlcGFydG1lbnQgVEVYVCxcbiAgICAgIGJsb29kVHlwZSBURVhULFxuICAgICAgY2VydGlmaWNhdGVJbWFnZXMgVEVYVCxcbiAgICAgIG5vdGVzIFRFWFQsXG4gICAgICBwYXNzIFRFWFQsXG4gICAgICBjb250cmFjdCBURVhUIERFRkFVTFQgJ1Blcm1hbmVudCcsXG4gICAgICBjdiBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBUZWFjaGVycyAtINiq24bZhdin2LHbjCDZhdin2YXbhtiz2KrYp9uM2KfZhlxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB0ZWFjaGVycyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZnVsbE5hbWUgVEVYVCxcbiAgICAgIGJpcnRoWWVhciBURVhULFxuICAgICAgY2VydGlmaWNhdGUgVEVYVCxcbiAgICAgIGpvYlRpdGxlIFRFWFQsXG4gICAgICBzcGVjaWFsaXN0IFRFWFQsXG4gICAgICBncmFkdWF0aW9uRGF0ZSBURVhULFxuICAgICAgc3RhcnREYXRlIFRFWFQsXG4gICAgICBwcmV2aW91c0luc3RpdHV0aW9uIFRFWFQsXG4gICAgICBibG9vZFR5cGUgVEVYVCxcbiAgICAgIGNlcnRpZmljYXRlSW1hZ2VzIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3YgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gVGVhY2hlciBJbmZvIC0g2LLYp9mG24zYp9ix24wg2YXYp9mF24bYs9iq2KdcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdGVhY2hlcl9pbmZvIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBwb2xpdGljYWxOYW1lIFRFWFQsXG4gICAgICByZWFsTmFtZSBURVhULFxuICAgICAgZGVwYXJ0bWVudCBURVhULFxuICAgICAgc3ViamVjdCBURVhULFxuICAgICAgZ3JhZGUgVEVYVCxcbiAgICAgIHBob25lTnVtYmVyIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBFbXBsb3llZSBMZWF2ZXMgLSDZhduG2rXbldiq24wg2YXYp9mF24bYs9iq2KcgKGZsZXhpYmxlIHNjaGVtYSlcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZW1wbG95ZWVfbGVhdmVzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBkYXRhIFRFWFQgTk9UIE5VTEwsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIE9mZmljZXIgTGVhdmVzIC0g2YXbhtq125XYqtuMINmB25XYsdmF2KfZhtio25XYsSAoZmxleGlibGUgc2NoZW1hKVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBvZmZpY2VyX2xlYXZlcyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZGF0YSBURVhUIE5PVCBOVUxMLFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBDYWxlbmRhciAtINio25XYsduO2YjYqNix2K/ZhtuMINiz2KfatdmG2KfZhduVXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNhbGVuZGFyX2VudHJpZXMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIG1vbnRoIFRFWFQsXG4gICAgICB3ZWVrMSBURVhULFxuICAgICAgd2VlazIgVEVYVCxcbiAgICAgIHdlZWszIFRFWFQsXG4gICAgICB3ZWVrNCBURVhULFxuICAgICAgeWVhciBJTlRFR0VSLFxuICAgICAgZW1haWxUYXNrcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBBY3Rpdml0aWVzIC0g2obYp9mE2KfaqduMXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGFjdGl2aXRpZXMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGFjdGl2aXR5VHlwZSBURVhULFxuICAgICAgcHJlcGFyYXRpb25EYXRlIFRFWFQsXG4gICAgICBjb250ZW50IFRFWFQsXG4gICAgICBzdGFydERhdGUgVEVYVCxcbiAgICAgIHdob0RpZEl0IFRFWFQsXG4gICAgICBoZWxwZXIgVEVYVCxcbiAgICAgIGFjdGl2aXR5SW1hZ2VzIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBFeGFtIFN1cGVydmlzaW9uIC0g2obYp9mI2K/bjtix24zaqdix2K/ZhtuMINiq2KfZgtuM2qnYsdiv2YbbldmI25VcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZXhhbV9zdXBlcnZpc2lvbiAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgc3ViamVjdCBURVhULFxuICAgICAgc3RhZ2UgVEVYVCxcbiAgICAgIGVuZFRpbWUgVEVYVCxcbiAgICAgIGV4YW1BY2hpZXZlbWVudCBURVhULFxuICAgICAgc3VwZXJ2aXNvck5hbWUgVEVYVCxcbiAgICAgIG9idGFpbmVkU2NvcmUgVEVYVCxcbiAgICAgIG5vdGVzIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIFN1cGVydmlzaW9uIC0g2obYp9mI2K/bjtix24wgKGZsZXhpYmxlIHNjaGVtYSlcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc3VwZXJ2aXNpb24gKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGRhdGEgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gQnVzIC0g2b7Yp9izXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJ1c19yZWNvcmRzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBidXNOdW1iZXIgVEVYVCxcbiAgICAgIGJ1c1R5cGUgVEVYVCxcbiAgICAgIHJvdXRlIFRFWFQsXG4gICAgICBjYXBhY2l0eSBURVhULFxuICAgICAgc3R1ZGVudENvdW50IFRFWFQsXG4gICAgICB0ZWFjaGVyQ291bnQgVEVYVCxcbiAgICAgIGRyaXZlck5hbWUgVEVYVCxcbiAgICAgIGRyaXZlclBob25lIFRFWFQsXG4gICAgICBkcml2ZXJMaWNlbnNlIFRFWFQsXG4gICAgICBkcml2ZXJQaG90byBURVhULFxuICAgICAgZHJpdmVyTGljZW5zZVBob3RvIFRFWFQsXG4gICAgICBkcml2ZXJWaWRlb3MgVEVYVCxcbiAgICAgIG5vdGVzIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIFBheXJvbGwgLSDZhNuM2LPYqtuMINio2pXbjCDZhdmI2obblVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwYXlyb2xsIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBlbXBsb3llZU5hbWUgVEVYVCxcbiAgICAgIHNhbGFyeSBSRUFMLFxuICAgICAgYWJzZW5jZSBSRUFMLFxuICAgICAgZGVkdWN0aW9uIFJFQUwsXG4gICAgICBib251cyBSRUFMLFxuICAgICAgdG90YWwgUkVBTCxcbiAgICAgIG1vbnRoIFRFWFQsXG4gICAgICB5ZWFyIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBJbnN0YWxsbWVudHMgLSDZgtuM2LPYqtuMINiz2Kfatdin2YbblVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBpbnN0YWxsbWVudHMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGZ1bGxOYW1lIFRFWFQsXG4gICAgICBncmFkZSBURVhULFxuICAgICAgaW5zdGFsbG1lbnRUeXBlIFRFWFQsXG4gICAgICBhbm51YWxBbW91bnQgUkVBTCxcbiAgICAgIGZpcnN0SW5zdGFsbG1lbnQgUkVBTCxcbiAgICAgIHNlY29uZEluc3RhbGxtZW50IFJFQUwsXG4gICAgICB0aGlyZEluc3RhbGxtZW50IFJFQUwsXG4gICAgICBmb3VydGhJbnN0YWxsbWVudCBSRUFMLFxuICAgICAgZmlmdGhJbnN0YWxsbWVudCBSRUFMLFxuICAgICAgc2l4dGhJbnN0YWxsbWVudCBSRUFMLFxuICAgICAgdG90YWxSZWNlaXZlZCBSRUFMLFxuICAgICAgcmVtYWluaW5nIFJFQUwsXG4gICAgICByZWNlaXB0SW1hZ2VzIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBNb250aGx5IEV4cGVuc2VzIC0g2K7bldix2KzbjCDZhdin2Ybar9in2YbblVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBtb250aGx5X2V4cGVuc2VzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICB5ZWFyIFRFWFQsXG4gICAgICBtb250aCBURVhULFxuICAgICAgc3RhZmZTYWxhcnkgUkVBTCxcbiAgICAgIGV4cGVuc2VzIFJFQUwsXG4gICAgICBidWlsZGluZ1JlbnQgUkVBTCxcbiAgICAgIGRyYW1hRmVlIFJFQUwsXG4gICAgICBzb2NpYWxTdXBwb3J0IFJFQUwsXG4gICAgICBlbGVjdHJpY2l0eSBSRUFMLFxuICAgICAgYm9va3MgUkVBTCxcbiAgICAgIGNsb3RoZXMgUkVBTCxcbiAgICAgIHRyYXZlbCBSRUFMLFxuICAgICAgdHJhbnNwb3J0YXRpb24gUkVBTCxcbiAgICAgIHRvdGFsIFJFQUwsXG4gICAgICByZXF1aXJlbWVudCBURVhULFxuICAgICAgcmVjZWlwdEltYWdlcyBURVhULFxuICAgICAgbm90ZXMgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gQnVpbGRpbmcgRXhwZW5zZXMgLSDZhduV2LPYsdmI2YHYp9iq24wg2KjbjNmG2KdcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYnVpbGRpbmdfZXhwZW5zZXMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGl0ZW0gVEVYVCxcbiAgICAgIGNvc3QgUkVBTCxcbiAgICAgIHllYXIgVEVYVCxcbiAgICAgIG1vbnRoIElOVEVHRVIsXG4gICAgICBkYXRlIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgaW1hZ2VzIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIERhaWx5IEFjY291bnRzIC0g2K3Ys9in2KjYp9iq24wg2LHbhtqY2KfZhtuVXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGRhaWx5X2FjY291bnRzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBudW1iZXIgSU5URUdFUixcbiAgICAgIHdlZWsgVEVYVCxcbiAgICAgIHB1cnBvc2UgVEVYVCxcbiAgICAgIGNoZWNrTnVtYmVyIFRFWFQsXG4gICAgICBhbW91bnQgUkVBTCxcbiAgICAgIGRhdGUgVEVYVCxcbiAgICAgIGRheU9mV2VlayBURVhULFxuICAgICAgcmVjZWlwdEltYWdlcyBURVhULFxuICAgICAgbm90ZXMgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gS2l0Y2hlbiBFeHBlbnNlcyAtINiu25XYsdis24wg2K7ZiNin2LHYr9mG2q/blVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBraXRjaGVuX2V4cGVuc2VzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBpdGVtIFRFWFQsXG4gICAgICBjb3N0IFJFQUwsXG4gICAgICBkYXRlIFRFWFQsXG4gICAgICBtb250aCBURVhULFxuICAgICAgeWVhciBURVhULFxuICAgICAgcHVycG9zZSBURVhULFxuICAgICAgcmVjZWlwdEltYWdlcyBURVhULFxuICAgICAgbm90ZXMgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gU3R1ZGVudCBQZXJtaXNzaW9ucyAtINmF24batduV2KogKGZsZXhpYmxlIHNjaGVtYSlcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc3R1ZGVudF9wZXJtaXNzaW9ucyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZGF0YSBURVhUIE5PVCBOVUxMLFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBTdXBlcnZpc2VkIFN0dWRlbnRzIC0g2YLZiNiq2KfYqNuMINqG2KfZiNiv247YsduMINqp2LHYp9mIIChmbGV4aWJsZSBzY2hlbWEpXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHN1cGVydmlzZWRfc3R1ZGVudHMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGRhdGEgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gQWRkaXRpb25hbCB0YWJsZXMgZm9yIG90aGVyIGZlYXR1cmVzXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGxlZ2VuZF9lbnRyaWVzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBhYmJyZXZpYXRpb24gVEVYVCBOT1QgTlVMTCxcbiAgICAgIGZ1bGxfZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgIGNhdGVnb3J5IFRFWFQsXG4gICAgICB1c2FnZV9jb3VudCBJTlRFR0VSIERFRkFVTFQgMSxcbiAgICAgIGxhc3RfdXNlZCBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUXG4gICAgKVxuICBgKTtcblxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBlbWFpbF9zZXR0aW5ncyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgaG9zdCBURVhULFxuICAgICAgcG9ydCBJTlRFR0VSLFxuICAgICAgc2VjdXJlIElOVEVHRVIsXG4gICAgICB1c2VybmFtZSBURVhULFxuICAgICAgcGFzc3dvcmQgVEVYVCxcbiAgICAgIGZyb21fZW1haWwgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZW1haWxfdGFza3MgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGNhbGVuZGFyRW50cnlJZCBURVhULFxuICAgICAgdG9fZW1haWwgVEVYVCxcbiAgICAgIHN1YmplY3QgVEVYVCxcbiAgICAgIGJvZHkgVEVYVCxcbiAgICAgIHN0YXR1cyBURVhUIERFRkFVTFQgJ1BlbmRpbmcnLFxuICAgICAgc2NoZWR1bGVkX3RpbWUgVEVYVCxcbiAgICAgIGRhdGUgVEVYVCxcbiAgICAgIGNvZGVzIFRFWFQsXG4gICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgbW9udGhDb250ZXh0IFRFWFQsXG4gICAgICB5ZWFyIElOVEVHRVIsXG4gICAgICB3ZWVrQ29udGV4dCBURVhULFxuICAgICAgZGF5Q29udGV4dCBURVhULFxuICAgICAgc2VudF9hdCBURVhULFxuICAgICAgZXJyb3IgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVFxuICAgIClcbiAgYCk7XG5cbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcl9wcm9maWxlcyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgdXNlcm5hbWUgVEVYVCBVTklRVUUgTk9UIE5VTEwsXG4gICAgICBwYXNzd29yZCBURVhULFxuICAgICAgZnVsbE5hbWUgVEVYVCxcbiAgICAgIGRpc3BsYXlOYW1lIFRFWFQsXG4gICAgICBlbWFpbCBURVhULFxuICAgICAgYmlvIFRFWFQsXG4gICAgICBwaG9uZSBURVhULFxuICAgICAgbG9jYXRpb24gVEVYVCxcbiAgICAgIGluc3RpdHV0aW9uIFRFWFQsXG4gICAgICByb2xlIFRFWFQgREVGQVVMVCAndXNlcicsXG4gICAgICBqb2luRGF0ZSBURVhULFxuICAgICAgYXZhdGFyIFRFWFQsXG4gICAgICBsYW5ndWFnZSBURVhUIERFRkFVTFQgJ2t1cmRpc2gnLFxuICAgICAgdGhlbWUgVEVYVCBERUZBVUxUICdzeXN0ZW0nLFxuICAgICAgZW1haWxOb3RpZmljYXRpb25zIElOVEVHRVIgREVGQVVMVCAxLFxuICAgICAgc3lzdGVtQWxlcnRzIElOVEVHRVIgREVGQVVMVCAxLFxuICAgICAgYmFja3VwUmVtaW5kZXJzIElOVEVHRVIgREVGQVVMVCAxLFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgY3JlYXRlZEF0IFRFWFQsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkQXQgVEVYVFxuICAgIClcbiAgYCk7XG5cbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2VjdXJpdHlfbG9ncyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgYWN0aW9uIFRFWFQgTk9UIE5VTEwsXG4gICAgICB1c2VySWQgVEVYVCxcbiAgICAgIHVzZXJuYW1lIFRFWFQsXG4gICAgICBpcEFkZHJlc3MgVEVYVCxcbiAgICAgIHVzZXJBZ2VudCBURVhULFxuICAgICAgdGltZXN0YW1wIFRFWFQgTk9UIE5VTEwsXG4gICAgICBkZXRhaWxzIFRFWFRcbiAgICApXG4gIGApO1xuXG4gIC8vIE1pZ3JhdGlvbjogQWRkIG1vbnRoIGFuZCB5ZWFyIGNvbHVtbnMgdG8gcGF5cm9sbCB0YWJsZSBpZiB0aGV5IGRvbid0IGV4aXN0XG4gIHRyeSB7XG4gICAgY29uc3QgdGFibGVJbmZvID0gZGIucHJlcGFyZShcIlBSQUdNQSB0YWJsZV9pbmZvKHBheXJvbGwpXCIpLmFsbCgpO1xuICAgIGNvbnN0IGNvbHVtbk5hbWVzID0gdGFibGVJbmZvLm1hcChjb2wgPT4gY29sLm5hbWUpO1xuICAgIFxuICAgIGlmICghY29sdW1uTmFtZXMuaW5jbHVkZXMoJ21vbnRoJykpIHtcbiAgICAgIGRiLmV4ZWMoJ0FMVEVSIFRBQkxFIHBheXJvbGwgQUREIENPTFVNTiBtb250aCBURVhUJyk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIEFkZGVkIG1vbnRoIGNvbHVtbiB0byBwYXlyb2xsIHRhYmxlJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICghY29sdW1uTmFtZXMuaW5jbHVkZXMoJ3llYXInKSkge1xuICAgICAgZGIuZXhlYygnQUxURVIgVEFCTEUgcGF5cm9sbCBBREQgQ09MVU1OIHllYXIgVEVYVCcpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBZGRlZCB5ZWFyIGNvbHVtbiB0byBwYXlyb2xsIHRhYmxlJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ01pZ3JhdGlvbiBlcnJvciBmb3IgcGF5cm9sbCB0YWJsZTonLCBlcnJvcik7XG4gIH1cblxuICAvLyBNaWdyYXRpb246IEFkZCB0eXBlIGNvbHVtbiB0byBlbWFpbF9zZXR0aW5ncyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gIHRyeSB7XG4gICAgY29uc3QgZW1haWxTZXR0aW5nc0luZm8gPSBkYi5wcmVwYXJlKFwiUFJBR01BIHRhYmxlX2luZm8oZW1haWxfc2V0dGluZ3MpXCIpLmFsbCgpO1xuICAgIGNvbnN0IGVtYWlsU2V0dGluZ3NDb2x1bW5zID0gZW1haWxTZXR0aW5nc0luZm8ubWFwKGNvbCA9PiBjb2wubmFtZSk7XG4gICAgXG4gICAgaWYgKCFlbWFpbFNldHRpbmdzQ29sdW1ucy5pbmNsdWRlcygndHlwZScpKSB7XG4gICAgICBkYi5leGVjKCdBTFRFUiBUQUJMRSBlbWFpbF9zZXR0aW5ncyBBREQgQ09MVU1OIHR5cGUgVEVYVCcpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBZGRlZCB0eXBlIGNvbHVtbiB0byBlbWFpbF9zZXR0aW5ncyB0YWJsZScpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaWdyYXRpb24gZXJyb3IgZm9yIGVtYWlsX3NldHRpbmdzIHRhYmxlOicsIGVycm9yKTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCfinIUgU1FMaXRlIGRhdGFiYXNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xufVxuXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlIG9uIG1vZHVsZSBsb2FkXG5pbml0RGF0YWJhc2UoKTtcblxuLy8gSGVscGVyIGNsYXNzIHRvIHdyYXAgU1FMaXRlIG9wZXJhdGlvbnMgc2ltaWxhciB0byBNb25nb0RCIEFQSVxuY2xhc3MgU1FMaXRlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKHRhYmxlTmFtZSkge1xuICAgIHRoaXMudGFibGVOYW1lID0gdGFibGVOYW1lO1xuICAgIC8vIENoZWNrIGlmIHRoaXMgdGFibGUgdXNlcyBmbGV4aWJsZSBzY2hlbWEgKGRhdGEgY29sdW1uKVxuICAgIHRoaXMuaXNGbGV4aWJsZVNjaGVtYSA9IHRoaXMuX2hhc0RhdGFDb2x1bW4oKTtcbiAgfVxuXG4gIF9oYXNEYXRhQ29sdW1uKCkge1xuICAgIGNvbnN0IGZsZXhpYmxlVGFibGVzID0gWydlbXBsb3llZV9sZWF2ZXMnLCAnb2ZmaWNlcl9sZWF2ZXMnLCAnc3VwZXJ2aXNpb24nLCAnc3R1ZGVudF9wZXJtaXNzaW9ucycsICdzdXBlcnZpc2VkX3N0dWRlbnRzJ107XG4gICAgcmV0dXJuIGZsZXhpYmxlVGFibGVzLmluY2x1ZGVzKHRoaXMudGFibGVOYW1lKTtcbiAgfVxuXG4gIF9wYXJzZVJvdyhyb3cpIHtcbiAgICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRoaXMuaXNGbGV4aWJsZVNjaGVtYSAmJiByb3cuZGF0YSkge1xuICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2Uocm93LmRhdGEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJvdy5pZCwgIC8vIEFsd2F5cyBpbmNsdWRlIHRoZSBpZCBmcm9tIHRoZSBkYXRhYmFzZSByb3dcbiAgICAgICAgLi4ucGFyc2VkRGF0YSxcbiAgICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHJvdy51cGRhdGVkX2F0XG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBQYXJzZSBKU09OIHN0cmluZ3MgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyBpbiByZWd1bGFyIHRhYmxlc1xuICAgIGNvbnN0IHBhcnNlZFJvdyA9IHsgLi4ucm93IH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyc2VkUm93KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlZFJvd1trZXldO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgKHZhbHVlLnN0YXJ0c1dpdGgoJ1snKSB8fCB2YWx1ZS5zdGFydHNXaXRoKCd7JykpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFyc2VkUm93W2tleV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIElmIHBhcnNpbmcgZmFpbHMsIGtlZXAgdGhlIG9yaWdpbmFsIHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWRSb3c7XG4gIH1cblxuICBfcGFyc2VSb3dzKHJvd3MpIHtcbiAgICByZXR1cm4gcm93cy5tYXAocm93ID0+IHRoaXMuX3BhcnNlUm93KHJvdykpO1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBidWlsZCBXSEVSRSBjb25kaXRpb25zIGZyb20gTW9uZ29EQi1zdHlsZSBmaWx0ZXJzXG4gIF9idWlsZFdoZXJlQ2xhdXNlKGZpbHRlcikge1xuICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBbXTtcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmaWx0ZXIpKSB7XG4gICAgICAvLyBIYW5kbGUgJG9yIG9wZXJhdG9yXG4gICAgICBpZiAoa2V5ID09PSAnJG9yJyAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBvckNvbmRpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBvckZpbHRlciBvZiB2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgY29uZGl0aW9uczogc3ViQ29uZGl0aW9ucywgcGFyYW1zOiBzdWJQYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2Uob3JGaWx0ZXIpO1xuICAgICAgICAgIGlmIChzdWJDb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9yQ29uZGl0aW9ucy5wdXNoKGAoJHtzdWJDb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9KWApO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4uc3ViUGFyYW1zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yQ29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKGAoJHtvckNvbmRpdGlvbnMuam9pbignIE9SICcpfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAvLyBIYW5kbGUgTW9uZ29EQi1zdHlsZSBvcGVyYXRvcnNcbiAgICAgICAgZm9yIChjb25zdCBbb3BlcmF0b3IsIG9wZXJhdG9yVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgJyRndGUnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA+PSA/YCk7XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9wZXJhdG9yVmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gb3BlcmF0b3JWYWx1ZS50b0lTT1N0cmluZygpIDogb3BlcmF0b3JWYWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnJGx0ZSc6XG4gICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9IDw9ID9gKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob3BlcmF0b3JWYWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBvcGVyYXRvclZhbHVlLnRvSVNPU3RyaW5nKCkgOiBvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckZ3QnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA+ID9gKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob3BlcmF0b3JWYWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBvcGVyYXRvclZhbHVlLnRvSVNPU3RyaW5nKCkgOiBvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckbHQnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA8ID9gKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob3BlcmF0b3JWYWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBvcGVyYXRvclZhbHVlLnRvSVNPU3RyaW5nKCkgOiBvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckbmUnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSAhPSA/YCk7XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9wZXJhdG9yVmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyRpbic6XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wZXJhdG9yVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gb3BlcmF0b3JWYWx1ZS5tYXAoKCkgPT4gJz8nKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9IElOICgke3BsYWNlaG9sZGVyc30pYCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4ub3BlcmF0b3JWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckZXhpc3RzJzpcbiAgICAgICAgICAgICAgLy8gSW4gU1FMaXRlLCBjaGVjayBpZiBjb2x1bW4gaXMgTlVMTCBvciBOT1QgTlVMTFxuICAgICAgICAgICAgICBpZiAob3BlcmF0b3JWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSBJUyBOVUxMYCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKGAke2tleX0gSVMgTk9UIE5VTExgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIC8vIFVua25vd24gb3BlcmF0b3IsIHRyZWF0IGFzIGVxdWFsaXR5XG4gICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9ID0gP2ApO1xuICAgICAgICAgICAgICBwYXJhbXMucHVzaChvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gSGFuZGxlIE5VTEwgdmFsdWVzXG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9IElTIE5VTExgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNpbXBsZSBlcXVhbGl0eVxuICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA9ID9gKTtcbiAgICAgICAgcGFyYW1zLnB1c2godmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gdmFsdWUudG9JU09TdHJpbmcoKSA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgY29uZGl0aW9ucywgcGFyYW1zIH07XG4gIH1cblxuICAvLyBGaW5kIGFsbCByZWNvcmRzIHdpdGggb3B0aW9uYWwgZmlsdGVyXG4gIGZpbmQoZmlsdGVyID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgc29ydDogKHNvcnRPcHRpb25zKSA9PiAoe1xuICAgICAgICBsaW1pdDogKGxpbWl0VmFsdWUpID0+ICh7XG4gICAgICAgICAgdG9BcnJheTogKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCAqIEZST00gJHt0aGlzLnRhYmxlTmFtZX1gO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBXSEVSRSBjbGF1c2UgaWYgZmlsdGVyIGV4aXN0c1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zdCB7IGNvbmRpdGlvbnMsIHBhcmFtczogZmlsdGVyUGFyYW1zIH0gPSB0aGlzLl9idWlsZFdoZXJlQ2xhdXNlKGZpbHRlcik7XG4gICAgICAgICAgICAgIHF1ZXJ5ICs9IGAgV0hFUkUgJHtjb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9YDtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4uZmlsdGVyUGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIE9SREVSIEJZXG4gICAgICAgICAgICBpZiAoc29ydE9wdGlvbnMgJiYgT2JqZWN0LmtleXMoc29ydE9wdGlvbnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JkZXJDbGF1c2VzID0gT2JqZWN0LmVudHJpZXMoc29ydE9wdGlvbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBcbiAgICAgICAgICAgICAgICBgJHtrZXl9ICR7dmFsdWUgPT09IC0xID8gJ0RFU0MnIDogJ0FTQyd9YFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWVyeSArPSBgIE9SREVSIEJZICR7b3JkZXJDbGF1c2VzLmpvaW4oJywgJyl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIExJTUlUXG4gICAgICAgICAgICBpZiAobGltaXRWYWx1ZSkge1xuICAgICAgICAgICAgICBxdWVyeSArPSBgIExJTUlUID9gO1xuICAgICAgICAgICAgICBwYXJhbXMucHVzaChsaW1pdFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgcm93cyA9IGRiLnByZXBhcmUocXVlcnkpLmFsbCguLi5wYXJhbXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlUm93cyhyb3dzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICB0b0FycmF5OiAoKSA9PiB7XG4gICAgICAgICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCAqIEZST00gJHt0aGlzLnRhYmxlTmFtZX1gO1xuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29uZGl0aW9ucywgcGFyYW1zOiBmaWx0ZXJQYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2UoZmlsdGVyKTtcbiAgICAgICAgICAgIHF1ZXJ5ICs9IGAgV0hFUkUgJHtjb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9YDtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKC4uLmZpbHRlclBhcmFtcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChzb3J0T3B0aW9ucyAmJiBPYmplY3Qua2V5cyhzb3J0T3B0aW9ucykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJDbGF1c2VzID0gT2JqZWN0LmVudHJpZXMoc29ydE9wdGlvbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBcbiAgICAgICAgICAgICAgYCR7a2V5fSAke3ZhbHVlID09PSAtMSA/ICdERVNDJyA6ICdBU0MnfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBxdWVyeSArPSBgIE9SREVSIEJZICR7b3JkZXJDbGF1c2VzLmpvaW4oJywgJyl9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qgcm93cyA9IGRiLnByZXBhcmUocXVlcnkpLmFsbCguLi5wYXJhbXMpO1xuICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJzZVJvd3Mocm93cyk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgdG9BcnJheTogKCkgPT4ge1xuICAgICAgICBsZXQgcXVlcnkgPSBgU0VMRUNUICogRlJPTSAke3RoaXMudGFibGVOYW1lfWA7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHsgY29uZGl0aW9ucywgcGFyYW1zOiBmaWx0ZXJQYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2UoZmlsdGVyKTtcbiAgICAgICAgICBxdWVyeSArPSBgIFdIRVJFICR7Y29uZGl0aW9ucy5qb2luKCcgQU5EICcpfWA7XG4gICAgICAgICAgcGFyYW1zLnB1c2goLi4uZmlsdGVyUGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgcm93cyA9IGRiLnByZXBhcmUocXVlcnkpLmFsbCguLi5wYXJhbXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VSb3dzKHJvd3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBGaW5kIG9uZSByZWNvcmRcbiAgZmluZE9uZShmaWx0ZXIpIHtcbiAgICBsZXQgcXVlcnkgPSBgU0VMRUNUICogRlJPTSAke3RoaXMudGFibGVOYW1lfWA7XG4gICAgXG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBjb25kaXRpb25zLCBwYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2UoZmlsdGVyKTtcbiAgICAgIHF1ZXJ5ICs9IGAgV0hFUkUgJHtjb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9IExJTUlUIDFgO1xuICAgICAgY29uc3Qgcm93ID0gZGIucHJlcGFyZShxdWVyeSkuZ2V0KC4uLnBhcmFtcyk7XG4gICAgICByZXR1cm4gdGhpcy5fcGFyc2VSb3cocm93KTtcbiAgICB9XG4gICAgXG4gICAgcXVlcnkgKz0gYCBMSU1JVCAxYDtcbiAgICBjb25zdCByb3cgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5nZXQoKTtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VSb3cocm93KTtcbiAgfVxuXG4gIC8vIEluc2VydCBvbmUgcmVjb3JkXG4gIGluc2VydE9uZShkYXRhKSB7XG4gICAgaWYgKHRoaXMuaXNGbGV4aWJsZVNjaGVtYSkge1xuICAgICAgLy8gRm9yIGZsZXhpYmxlIHNjaGVtYSB0YWJsZXMsIHN0b3JlIGV2ZXJ5dGhpbmcgaW4gZGF0YSBjb2x1bW5cbiAgICAgIGNvbnN0IHsgaWQsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQsIC4uLnJlc3QgfSA9IGRhdGE7XG4gICAgICBjb25zdCBxdWVyeSA9IGBJTlNFUlQgSU5UTyAke3RoaXMudGFibGVOYW1lfSAoaWQsIGRhdGEsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPylgO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZGIucHJlcGFyZShxdWVyeSkucnVuKFxuICAgICAgICBpZCxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdCksXG4gICAgICAgIGNyZWF0ZWRfYXQgaW5zdGFuY2VvZiBEYXRlID8gY3JlYXRlZF9hdC50b0lTT1N0cmluZygpIDogY3JlYXRlZF9hdCxcbiAgICAgICAgdXBkYXRlZF9hdCBpbnN0YW5jZW9mIERhdGUgPyB1cGRhdGVkX2F0LnRvSVNPU3RyaW5nKCkgOiB1cGRhdGVkX2F0XG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5zZXJ0ZWRJZDogaWQsXG4gICAgICAgIGFja25vd2xlZGdlZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIC8vIENvbnZlcnQgRGF0ZSBvYmplY3RzIGFuZCBhcnJheXMgdG8gc3RyaW5nc1xuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoZGF0YSkubWFwKHZhbCA9PiB7XG4gICAgICBpZiAodmFsIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHZhbC50b0lTT1N0cmluZygpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSk7XG4gICAgY29uc3QgcGxhY2Vob2xkZXJzID0ga2V5cy5tYXAoKCkgPT4gJz8nKS5qb2luKCcsICcpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gYElOU0VSVCBJTlRPICR7dGhpcy50YWJsZU5hbWV9ICgke2tleXMuam9pbignLCAnKX0pIFZBTFVFUyAoJHtwbGFjZWhvbGRlcnN9KWA7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gZGIucHJlcGFyZShxdWVyeSkucnVuKC4uLnZhbHVlcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluc2VydGVkSWQ6IGRhdGEuaWQsXG4gICAgICBhY2tub3dsZWRnZWQ6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgLy8gVXBkYXRlIG9uZSByZWNvcmRcbiAgdXBkYXRlT25lKGZpbHRlciwgdXBkYXRlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0gdXBkYXRlLiRzZXQgfHwgdXBkYXRlO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHJlY29yZCBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgIFxuICAgIC8vIEhhbmRsZSB1cHNlcnQgb3B0aW9uXG4gICAgaWYgKCFleGlzdGluZyAmJiBvcHRpb25zLnVwc2VydCkge1xuICAgICAgLy8gSW5zZXJ0IG5ldyByZWNvcmQgd2l0aCBmaWx0ZXIgZmllbGRzICsgdXBkYXRlIGRhdGFcbiAgICAgIGNvbnN0IGluc2VydERhdGEgPSB7IC4uLmZpbHRlciwgLi4udXBkYXRlRGF0YSB9O1xuICAgICAgLy8gRW5zdXJlIHRpbWVzdGFtcHMgZXhpc3RcbiAgICAgIGlmICghaW5zZXJ0RGF0YS5jcmVhdGVkX2F0KSB7XG4gICAgICAgIGluc2VydERhdGEuY3JlYXRlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIGlmICghaW5zZXJ0RGF0YS51cGRhdGVkX2F0KSB7XG4gICAgICAgIGluc2VydERhdGEudXBkYXRlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmluc2VydE9uZShpbnNlcnREYXRhKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFleGlzdGluZykge1xuICAgICAgcmV0dXJuIHsgbWF0Y2hlZENvdW50OiAwLCBtb2RpZmllZENvdW50OiAwLCBhY2tub3dsZWRnZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuaXNGbGV4aWJsZVNjaGVtYSkge1xuICAgICAgLy8gRm9yIGZsZXhpYmxlIHNjaGVtYSwgbmVlZCB0byByZWFkLCBtb2RpZnksIGFuZCB3cml0ZSBiYWNrXG4gICAgICBjb25zdCB7IGNyZWF0ZWRfYXQsIC4uLmRhdGFGaWVsZHMgfSA9IGV4aXN0aW5nO1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZGF0YUZpZWxkcywgLi4udXBkYXRlRGF0YSB9O1xuICAgICAgY29uc3QgeyBpZCwgdXBkYXRlZF9hdCwgLi4ucmVzdCB9ID0gdXBkYXRlZDtcbiAgICAgIFxuICAgICAgY29uc3QgcXVlcnkgPSBgVVBEQVRFICR7dGhpcy50YWJsZU5hbWV9IFNFVCBkYXRhID0gPywgdXBkYXRlZF9hdCA9ID8gV0hFUkUgaWQgPSA/YDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRiLnByZXBhcmUocXVlcnkpLnJ1bihcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdCksXG4gICAgICAgIHVwZGF0ZWRfYXQgaW5zdGFuY2VvZiBEYXRlID8gdXBkYXRlZF9hdC50b0lTT1N0cmluZygpIDogdXBkYXRlZF9hdCxcbiAgICAgICAgZmlsdGVyLmlkXG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVkQ291bnQ6IHJlc3VsdC5jaGFuZ2VzLFxuICAgICAgICBtb2RpZmllZENvdW50OiByZXN1bHQuY2hhbmdlcyxcbiAgICAgICAgYWNrbm93bGVkZ2VkOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZXRDbGF1c2VzID0gT2JqZWN0LmtleXModXBkYXRlRGF0YSkubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApLmpvaW4oJywgJyk7XG4gICAgY29uc3QgZmlsdGVyQ29uZGl0aW9ucyA9IE9iamVjdC5rZXlzKGZpbHRlcikubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApLmpvaW4oJyBBTkQgJyk7XG4gICAgXG4gICAgLy8gQ29udmVydCBEYXRlIG9iamVjdHMgYW5kIGFycmF5cyB0byBzdHJpbmdzXG4gICAgY29uc3QgdXBkYXRlVmFsdWVzID0gT2JqZWN0LnZhbHVlcyh1cGRhdGVEYXRhKS5tYXAodmFsID0+IHtcbiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdmFsLnRvSVNPU3RyaW5nKCk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWwpO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBxdWVyeSA9IGBVUERBVEUgJHt0aGlzLnRhYmxlTmFtZX0gU0VUICR7c2V0Q2xhdXNlc30gV0hFUkUgJHtmaWx0ZXJDb25kaXRpb25zfWA7XG4gICAgY29uc3QgcGFyYW1zID0gWy4uLnVwZGF0ZVZhbHVlcywgLi4uT2JqZWN0LnZhbHVlcyhmaWx0ZXIpXTtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5ydW4oLi4ucGFyYW1zKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlZENvdW50OiByZXN1bHQuY2hhbmdlcyxcbiAgICAgIG1vZGlmaWVkQ291bnQ6IHJlc3VsdC5jaGFuZ2VzLFxuICAgICAgYWNrbm93bGVkZ2VkOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIC8vIEZpbmQgb25lIGFuZCB1cGRhdGUgcmVjb3JkIChNb25nb0RCLWNvbXBhdGlibGUgbWV0aG9kKVxuICBmaW5kT25lQW5kVXBkYXRlKGZpbHRlciwgdXBkYXRlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0gdXBkYXRlLiRzZXQgfHwgdXBkYXRlO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHJlY29yZCBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgIFxuICAgIC8vIEhhbmRsZSB1cHNlcnQgb3B0aW9uXG4gICAgaWYgKCFleGlzdGluZyAmJiBvcHRpb25zLnVwc2VydCkge1xuICAgICAgY29uc3QgaW5zZXJ0RGF0YSA9IHsgLi4uZmlsdGVyLCAuLi51cGRhdGVEYXRhIH07XG4gICAgICBpZiAoIWluc2VydERhdGEuY3JlYXRlZF9hdCkge1xuICAgICAgICBpbnNlcnREYXRhLmNyZWF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAoIWluc2VydERhdGEudXBkYXRlZF9hdCkge1xuICAgICAgICBpbnNlcnREYXRhLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmluc2VydE9uZShpbnNlcnREYXRhKTtcbiAgICAgIGNvbnN0IG5ld1JlY29yZCA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IG5ld1JlY29yZCxcbiAgICAgICAgb2s6IDFcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiB7IHZhbHVlOiBudWxsLCBvazogMCB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBQZXJmb3JtIHRoZSB1cGRhdGVcbiAgICB0aGlzLnVwZGF0ZU9uZShmaWx0ZXIsIHsgJHNldDogdXBkYXRlRGF0YSB9KTtcbiAgICBcbiAgICAvLyBSZXR1cm4gdGhlIHVwZGF0ZWQgZG9jdW1lbnQgYmFzZWQgb24gcmV0dXJuRG9jdW1lbnQgb3B0aW9uXG4gICAgY29uc3QgcmV0dXJuQWZ0ZXIgPSBvcHRpb25zLnJldHVybkRvY3VtZW50ID09PSAnYWZ0ZXInIHx8IG9wdGlvbnMucmV0dXJuT3JpZ2luYWwgPT09IGZhbHNlO1xuICAgIGlmIChyZXR1cm5BZnRlcikge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHVwZGF0ZWQsXG4gICAgICAgIG9rOiAxXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogZXhpc3RpbmcsXG4gICAgICAgIG9rOiAxXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIERlbGV0ZSBvbmUgcmVjb3JkXG4gIGRlbGV0ZU9uZShmaWx0ZXIpIHtcbiAgICBjb25zdCBjb25kaXRpb25zID0gT2JqZWN0LmtleXMoZmlsdGVyKS5tYXAoa2V5ID0+IGAke2tleX0gPSA/YCkuam9pbignIEFORCAnKTtcbiAgICBjb25zdCBxdWVyeSA9IGBERUxFVEUgRlJPTSAke3RoaXMudGFibGVOYW1lfSBXSEVSRSAke2NvbmRpdGlvbnN9YDtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5ydW4oLi4uT2JqZWN0LnZhbHVlcyhmaWx0ZXIpKTtcbiAgICByZXR1cm4ge1xuICAgICAgZGVsZXRlZENvdW50OiByZXN1bHQuY2hhbmdlc1xuICAgIH07XG4gIH1cblxuICAvLyBEZWxldGUgbWFueSByZWNvcmRzXG4gIGRlbGV0ZU1hbnkoZmlsdGVyKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKGBERUxFVEUgRlJPTSAke3RoaXMudGFibGVOYW1lfWApLnJ1bigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVsZXRlZENvdW50OiByZXN1bHQuY2hhbmdlc1xuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29uZGl0aW9ucyA9IE9iamVjdC5rZXlzKGZpbHRlcikubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApLmpvaW4oJyBBTkQgJyk7XG4gICAgY29uc3QgcXVlcnkgPSBgREVMRVRFIEZST00gJHt0aGlzLnRhYmxlTmFtZX0gV0hFUkUgJHtjb25kaXRpb25zfWA7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gZGIucHJlcGFyZShxdWVyeSkucnVuKC4uLk9iamVjdC52YWx1ZXMoZmlsdGVyKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlbGV0ZWRDb3VudDogcmVzdWx0LmNoYW5nZXNcbiAgICB9O1xuICB9XG5cbiAgLy8gQ291bnQgZG9jdW1lbnRzXG4gIGNvdW50RG9jdW1lbnRzKGZpbHRlciA9IHt9KSB7XG4gICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NICR7dGhpcy50YWJsZU5hbWV9YDtcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBcbiAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjb25kaXRpb25zID0gT2JqZWN0LmtleXMoZmlsdGVyKS5tYXAoa2V5ID0+IGAke2tleX0gPSA/YCk7XG4gICAgICBxdWVyeSArPSBgIFdIRVJFICR7Y29uZGl0aW9ucy5qb2luKCcgQU5EICcpfWA7XG4gICAgICBwYXJhbXMucHVzaCguLi5PYmplY3QudmFsdWVzKGZpbHRlcikpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5nZXQoLi4ucGFyYW1zKTtcbiAgICByZXR1cm4gcmVzdWx0LmNvdW50O1xuICB9XG5cbiAgLy8gRHJvcCBjb2xsZWN0aW9uIChkZWxldGUgYWxsIGRhdGEpXG4gIGRyb3AoKSB7XG4gICAgZGIucHJlcGFyZShgREVMRVRFIEZST00gJHt0aGlzLnRhYmxlTmFtZX1gKS5ydW4oKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEluc2VydCBtYW55IHJlY29yZHNcbiAgaW5zZXJ0TWFueShkb2N1bWVudHMpIHtcbiAgICBjb25zdCBpbnNlcnRlZElkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgZG9jIG9mIGRvY3VtZW50cykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5pbnNlcnRPbmUoZG9jKTtcbiAgICAgIGluc2VydGVkSWRzLnB1c2gocmVzdWx0Lmluc2VydGVkSWQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaW5zZXJ0ZWRJZHMsXG4gICAgICBpbnNlcnRlZENvdW50OiBpbnNlcnRlZElkcy5sZW5ndGgsXG4gICAgICBhY2tub3dsZWRnZWQ6IHRydWVcbiAgICB9O1xuICB9XG59XG5cbi8vIENyZWF0ZSBhIGNsaWVudC1saWtlIGludGVyZmFjZSBzaW1pbGFyIHRvIE1vbmdvREJcbmNvbnN0IHNxbGl0ZUNsaWVudCA9IHtcbiAgZGI6IChkYk5hbWUpID0+ICh7XG4gICAgY29sbGVjdGlvbjogKGNvbGxlY3Rpb25OYW1lKSA9PiBuZXcgU1FMaXRlV3JhcHBlcihjb2xsZWN0aW9uTmFtZSksXG4gICAgLy8gTGlzdCBhbGwgY29sbGVjdGlvbnNcbiAgICBsaXN0Q29sbGVjdGlvbnM6ICgpID0+IHtcbiAgICAgIGNvbnN0IHRhYmxlcyA9IGRiLnByZXBhcmUoYFxuICAgICAgICBTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXIgXG4gICAgICAgIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZSBOT1QgTElLRSAnc3FsaXRlXyUnXG4gICAgICBgKS5hbGwoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQXJyYXk6ICgpID0+IHRhYmxlc1xuICAgICAgfTtcbiAgICB9XG4gIH0pXG59O1xuXG4vLyBFeHBvcnQgcHJvbWlzZS1saWtlIGludGVyZmFjZSBmb3IgY29tcGF0aWJpbGl0eVxuY29uc3QgY2xpZW50UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShzcWxpdGVDbGllbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlO1xuZXhwb3J0IHsgZGIgfTtcbiJdLCJuYW1lcyI6WyJEYXRhYmFzZSIsInBhdGgiLCJmcyIsImRiUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZGJEaXIiLCJkaXJuYW1lIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImRiIiwicHJhZ21hIiwiaW5pdERhdGFiYXNlIiwiZXhlYyIsInRhYmxlSW5mbyIsInByZXBhcmUiLCJhbGwiLCJjb2x1bW5OYW1lcyIsIm1hcCIsImNvbCIsIm5hbWUiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImVtYWlsU2V0dGluZ3NJbmZvIiwiZW1haWxTZXR0aW5nc0NvbHVtbnMiLCJTUUxpdGVXcmFwcGVyIiwiY29uc3RydWN0b3IiLCJ0YWJsZU5hbWUiLCJpc0ZsZXhpYmxlU2NoZW1hIiwiX2hhc0RhdGFDb2x1bW4iLCJmbGV4aWJsZVRhYmxlcyIsIl9wYXJzZVJvdyIsInJvdyIsImRhdGEiLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwiaWQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInBhcnNlZFJvdyIsImtleSIsInZhbHVlIiwic3RhcnRzV2l0aCIsImUiLCJfcGFyc2VSb3dzIiwicm93cyIsIl9idWlsZFdoZXJlQ2xhdXNlIiwiZmlsdGVyIiwiY29uZGl0aW9ucyIsInBhcmFtcyIsIk9iamVjdCIsImVudHJpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJvckNvbmRpdGlvbnMiLCJvckZpbHRlciIsInN1YkNvbmRpdGlvbnMiLCJzdWJQYXJhbXMiLCJsZW5ndGgiLCJwdXNoIiwiRGF0ZSIsIm9wZXJhdG9yIiwib3BlcmF0b3JWYWx1ZSIsInRvSVNPU3RyaW5nIiwicGxhY2Vob2xkZXJzIiwiZmluZCIsInNvcnQiLCJzb3J0T3B0aW9ucyIsImxpbWl0IiwibGltaXRWYWx1ZSIsInRvQXJyYXkiLCJxdWVyeSIsImtleXMiLCJmaWx0ZXJQYXJhbXMiLCJvcmRlckNsYXVzZXMiLCJmaW5kT25lIiwiZ2V0IiwiaW5zZXJ0T25lIiwicmVzdCIsInJlc3VsdCIsInJ1biIsInN0cmluZ2lmeSIsImluc2VydGVkSWQiLCJhY2tub3dsZWRnZWQiLCJ2YWx1ZXMiLCJ2YWwiLCJ1cGRhdGVPbmUiLCJ1cGRhdGUiLCJvcHRpb25zIiwidXBkYXRlRGF0YSIsIiRzZXQiLCJleGlzdGluZyIsInVwc2VydCIsImluc2VydERhdGEiLCJtYXRjaGVkQ291bnQiLCJtb2RpZmllZENvdW50IiwiZGF0YUZpZWxkcyIsInVwZGF0ZWQiLCJjaGFuZ2VzIiwic2V0Q2xhdXNlcyIsImZpbHRlckNvbmRpdGlvbnMiLCJ1cGRhdGVWYWx1ZXMiLCJmaW5kT25lQW5kVXBkYXRlIiwibmV3UmVjb3JkIiwib2siLCJyZXR1cm5BZnRlciIsInJldHVybkRvY3VtZW50IiwicmV0dXJuT3JpZ2luYWwiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJkZWxldGVNYW55IiwiY291bnREb2N1bWVudHMiLCJjb3VudCIsImRyb3AiLCJpbnNlcnRNYW55IiwiZG9jdW1lbnRzIiwiaW5zZXJ0ZWRJZHMiLCJkb2MiLCJpbnNlcnRlZENvdW50Iiwic3FsaXRlQ2xpZW50IiwiZGJOYW1lIiwiY29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwibGlzdENvbGxlY3Rpb25zIiwidGFibGVzIiwiY2xpZW50UHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/sqlite.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();