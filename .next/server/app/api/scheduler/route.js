"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/scheduler/route";
exports.ids = ["app/api/scheduler/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscheduler%2Froute&page=%2Fapi%2Fscheduler%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscheduler%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscheduler%2Froute&page=%2Fapi%2Fscheduler%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscheduler%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_swyanswartz_Documents_sada_sada29_sada144_app_api_scheduler_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/scheduler/route.js */ \"(rsc)/./app/api/scheduler/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/scheduler/route\",\n        pathname: \"/api/scheduler\",\n        filename: \"route\",\n        bundlePath: \"app/api/scheduler/route\"\n    },\n    resolvedPagePath: \"/home/swyanswartz/Documents/sada/sada29/sada144/app/api/scheduler/route.js\",\n    nextConfigOutput,\n    userland: _home_swyanswartz_Documents_sada_sada29_sada144_app_api_scheduler_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/scheduler/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzY2hlZHVsZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnNjaGVkdWxlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnNjaGVkdWxlciUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGc3d5YW5zd2FydHolMkZEb2N1bWVudHMlMkZzYWRhJTJGc2FkYTI5JTJGc2FkYTE0NCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnN3eWFuc3dhcnR6JTJGRG9jdW1lbnRzJTJGc2FkYSUyRnNhZGEyOSUyRnNhZGExNDQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMwQjtBQUN2RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1zcWxpdGUtdGVtcGxhdGUvP2VmYTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvc3d5YW5zd2FydHovRG9jdW1lbnRzL3NhZGEvc2FkYTI5L3NhZGExNDQvYXBwL2FwaS9zY2hlZHVsZXIvcm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zY2hlZHVsZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zY2hlZHVsZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3NjaGVkdWxlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3N3eWFuc3dhcnR6L0RvY3VtZW50cy9zYWRhL3NhZGEyOS9zYWRhMTQ0L2FwcC9hcGkvc2NoZWR1bGVyL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zY2hlZHVsZXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscheduler%2Froute&page=%2Fapi%2Fscheduler%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscheduler%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/scheduler/route.js":
/*!************************************!*\
  !*** ./app/api/scheduler/route.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_scheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/scheduler */ \"(rsc)/./lib/scheduler.js\");\n\n\n// GET - Get scheduler status\nasync function GET() {\n    try {\n        const status = (0,_lib_scheduler__WEBPACK_IMPORTED_MODULE_1__.getSchedulerStatus)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            scheduler: status,\n            message: status.running ? \"Scheduler is running\" : \"Scheduler is not running\"\n        });\n    } catch (error) {\n        console.error(\"Error getting scheduler status:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Start scheduler\nasync function POST() {\n    try {\n        (0,_lib_scheduler__WEBPACK_IMPORTED_MODULE_1__.startDailyNotificationScheduler)();\n        const status = (0,_lib_scheduler__WEBPACK_IMPORTED_MODULE_1__.getSchedulerStatus)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            scheduler: status,\n            message: \"Daily notification scheduler started\"\n        });\n    } catch (error) {\n        console.error(\"Error starting scheduler:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NjaGVkdWxlci9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQzJDO0FBRXRGLDZCQUE2QjtBQUN0QixlQUFlRztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsU0FBU0Ysa0VBQWtCQTtRQUNqQyxPQUFPRixxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLFdBQVdIO1lBQ1hJLFNBQVNKLE9BQU9LLE9BQU8sR0FBRyx5QkFBeUI7UUFDckQ7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsT0FBT1YscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUSSxPQUFPQSxNQUFNRixPQUFPO1FBQ3RCLEdBQUc7WUFBRUosUUFBUTtRQUFJO0lBQ25CO0FBQ0Y7QUFFQSx5QkFBeUI7QUFDbEIsZUFBZVE7SUFDcEIsSUFBSTtRQUNGWCwrRUFBK0JBO1FBQy9CLE1BQU1HLFNBQVNGLGtFQUFrQkE7UUFFakMsT0FBT0YscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUQyxXQUFXSDtZQUNYSSxTQUFTO1FBQ1g7SUFDRixFQUFFLE9BQU9FLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBT1YscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUSSxPQUFPQSxNQUFNRixPQUFPO1FBQ3RCLEdBQUc7WUFBRUosUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtc3FsaXRlLXRlbXBsYXRlLy4vYXBwL2FwaS9zY2hlZHVsZXIvcm91dGUuanM/Zjc3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBzdGFydERhaWx5Tm90aWZpY2F0aW9uU2NoZWR1bGVyLCBnZXRTY2hlZHVsZXJTdGF0dXMgfSBmcm9tICdAL2xpYi9zY2hlZHVsZXInO1xuXG4vLyBHRVQgLSBHZXQgc2NoZWR1bGVyIHN0YXR1c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdGF0dXMgPSBnZXRTY2hlZHVsZXJTdGF0dXMoKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHNjaGVkdWxlcjogc3RhdHVzLFxuICAgICAgbWVzc2FnZTogc3RhdHVzLnJ1bm5pbmcgPyAnU2NoZWR1bGVyIGlzIHJ1bm5pbmcnIDogJ1NjaGVkdWxlciBpcyBub3QgcnVubmluZydcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHNjaGVkdWxlciBzdGF0dXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBQT1NUIC0gU3RhcnQgc2NoZWR1bGVyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVCgpIHtcbiAgdHJ5IHtcbiAgICBzdGFydERhaWx5Tm90aWZpY2F0aW9uU2NoZWR1bGVyKCk7XG4gICAgY29uc3Qgc3RhdHVzID0gZ2V0U2NoZWR1bGVyU3RhdHVzKCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBzY2hlZHVsZXI6IHN0YXR1cyxcbiAgICAgIG1lc3NhZ2U6ICdEYWlseSBub3RpZmljYXRpb24gc2NoZWR1bGVyIHN0YXJ0ZWQnXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RhcnRpbmcgc2NoZWR1bGVyOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3RhcnREYWlseU5vdGlmaWNhdGlvblNjaGVkdWxlciIsImdldFNjaGVkdWxlclN0YXR1cyIsIkdFVCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwic2NoZWR1bGVyIiwibWVzc2FnZSIsInJ1bm5pbmciLCJlcnJvciIsImNvbnNvbGUiLCJQT1NUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/scheduler/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/emailService.js":
/*!*****************************!*\
  !*** ./lib/emailService.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTasksForDate: () => (/* binding */ getTasksForDate),\n/* harmony export */   getTodaysTasks: () => (/* binding */ getTodaysTasks),\n/* harmony export */   sendDailyTaskNotification: () => (/* binding */ sendDailyTaskNotification),\n/* harmony export */   sendTestEmail: () => (/* binding */ sendTestEmail),\n/* harmony export */   testEmailConfiguration: () => (/* binding */ testEmailConfiguration)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var _mongodb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mongodb.js */ \"(rsc)/./lib/mongodb.js\");\n\n\n// Code dictionary as provided by the user\nconst CODE_DICTIONARY = {\n    \"A\": \"Regis Name\",\n    \"B\": \"Media\",\n    \"C\": \"HR Staff Records\",\n    \"D\": \"E.parwarda records\",\n    \"E\": \"Bus Records\",\n    \"F\": \"Monitoring R\",\n    \"G\": \"S License Records\",\n    \"H\": \"Teacher Evaluation Records\",\n    \"I\": \"Student Absent\",\n    \"J\": \"Salary Records\",\n    \"K\": \"Pen Records\",\n    \"L\": \"Daily Manager Records\",\n    \"M\": \"Teacher Attendance\",\n    \"N\": \"Report Records\",\n    \"O\": \"Observed Student Records\",\n    \"P\": \"Class Record\",\n    \"Q\": \"Activities Records\",\n    \"R\": \"Future Plan Records\",\n    \"S\": \"Subject Records\",\n    \"T\": \"CoCar BM Records\",\n    \"U\": \"Parent Rec\",\n    \"V\": \"Security Records\",\n    \"W\": \"Clean Records\",\n    \"X\": \"Student Profile Record\",\n    \"Y\": \"Meeting & Discussion\",\n    \"Z\": \"Time Table\",\n    \"A1\": \"Progress\",\n    \"B1\": \"Orders\",\n    \"C1\": \"Student Pay\",\n    \"D1\": \"Exam Records\",\n    \"E1\": \"First Day of CoCar\",\n    \"F1\": \"CourseWare Record\",\n    \"G1\": \"Material\",\n    \"TB\": \"Daily Monitor Records\"\n};\n// Function to get email settings from database\nasync function getEmailSettings() {\n    try {\n        const client = await _mongodb_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n        const db = client.db(process.env.DB_NAME || \"berdoz_management\");\n        const settings = await db.collection(\"email_settings\").findOne({\n            type: \"notification\"\n        });\n        if (settings) {\n            return {\n                senderEmail: settings.senderEmail,\n                senderPassword: settings.senderPassword,\n                targetEmail: settings.targetEmail\n            };\n        }\n    } catch (error) {\n        console.log(\"Using environment variables for email settings\");\n    }\n    // Fallback to environment variables\n    return {\n        senderEmail: process.env.EMAIL_USER || \"swyanswartz@gmail.com\",\n        senderPassword: process.env.EMAIL_PASS || \"moiy tvnm emmq jlks\",\n        targetEmail: process.env.NOTIFICATION_EMAIL || \"soyansoon9@gmail.com\"\n    };\n}\n// Function to create transporter with dynamic settings\nasync function createTransporter(customEmail = null, customPassword = null) {\n    const settings = await getEmailSettings();\n    return nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n        service: \"gmail\",\n        auth: {\n            user: customEmail || settings.senderEmail,\n            pass: customPassword || settings.senderPassword\n        }\n    });\n}\n// Function to get Baghdad time\nfunction getBaghdadTime() {\n    const now = new Date();\n    // Baghdad is UTC+3\n    const baghdadTime = new Date(now.getTime() + 3 * 60 * 60 * 1000);\n    return baghdadTime;\n}\n// Function to format date for comparison (YYYY-MM-DD)\nfunction formatDateForComparison(date) {\n    return date.toISOString().split(\"T\")[0];\n}\n// Enhanced function to get tasks for today using new email_tasks collection\nasync function getTodaysTasks(db) {\n    const today = getBaghdadTime();\n    return getTasksForDate(db, today);\n}\n// Enhanced function to get tasks for a specific date using email_tasks collection\nasync function getTasksForDate(db, targetDate) {\n    const targetDateStr = formatDateForComparison(targetDate);\n    try {\n        // First try to get from new email_tasks collection (enhanced method)\n        const startOfDay = new Date(targetDate);\n        startOfDay.setHours(0, 0, 0, 0);\n        const endOfDay = new Date(targetDate);\n        endOfDay.setHours(23, 59, 59, 999);\n        console.log(`Searching for tasks between ${startOfDay.toISOString()} and ${endOfDay.toISOString()}`);\n        const emailTasks = await db.collection(\"email_tasks\").find({\n            date: {\n                $gte: startOfDay,\n                $lte: endOfDay\n            }\n        }).toArray();\n        console.log(`Found ${emailTasks.length} email tasks for date ${targetDateStr}`);\n        if (emailTasks.length > 0) {\n            // Use enhanced email tasks method\n            let todaysCodes = [];\n            for (const task of emailTasks){\n                if (task.codes && Array.isArray(task.codes)) {\n                    todaysCodes.push(...task.codes);\n                }\n            }\n            // Remove duplicates and sort\n            todaysCodes = [\n                ...new Set(todaysCodes)\n            ].sort();\n            return {\n                hasTasksToday: todaysCodes.length > 0,\n                codes: todaysCodes,\n                date: targetDate.toLocaleDateString(\"en-US\", {\n                    weekday: \"long\",\n                    year: \"numeric\",\n                    month: \"long\",\n                    day: \"numeric\",\n                    timeZone: \"Asia/Baghdad\"\n                }),\n                emailTasks: emailTasks,\n                method: \"enhanced\"\n            };\n        }\n        // Fallback to legacy calendar parsing method with improved year handling\n        return getLegacyTasksForDate(db, targetDate);\n    } catch (error) {\n        console.error(\"Error getting tasks for date:\", error);\n        return {\n            hasTasksToday: false,\n            codes: [],\n            date: targetDate.toLocaleDateString(\"en-US\"),\n            emailTasks: [],\n            error: error.message\n        };\n    }\n}\n// Legacy method for backward compatibility with improved year handling\nasync function getLegacyTasksForDate(db, targetDate) {\n    const targetDateStr = formatDateForComparison(targetDate);\n    const targetYear = targetDate.getFullYear();\n    try {\n        // Get all calendar entries, prioritizing entries from the target year\n        const entries = await db.collection(\"calendar_entries\").find({\n            $or: [\n                {\n                    year: targetYear\n                },\n                {\n                    year: {\n                        $exists: false\n                    }\n                },\n                {\n                    year: null\n                }\n            ]\n        }).sort({\n            year: -1,\n            updated_at: -1\n        }).toArray();\n        console.log(`Found ${entries.length} legacy calendar entries for year ${targetYear}`);\n        let todaysCodes = [];\n        let matchingEntries = [];\n        for (const entry of entries){\n            // Parse the month field to get dates, considering the entry's year\n            const entryYear = entry.year || targetYear;\n            const possibleDates = parseCalendarMonthToAllDates(entry.month, entryYear);\n            // Check if any of the possible dates match our target date\n            for (const possibleDate of possibleDates){\n                if (formatDateForComparison(possibleDate.date) === targetDateStr) {\n                    matchingEntries.push({\n                        entry,\n                        matchedDate: possibleDate.date,\n                        weekIndex: possibleDate.weekIndex,\n                        dayIndex: possibleDate.dayIndex\n                    });\n                    // Get the specific cell data for this date\n                    const weekKey = `week${possibleDate.weekIndex + 1}`;\n                    const cellData = entry[weekKey] && entry[weekKey][possibleDate.dayIndex];\n                    if (cellData) {\n                        const codes = extractCodes(cellData);\n                        todaysCodes.push(...codes);\n                    }\n                }\n            }\n        }\n        // Remove duplicates and sort\n        todaysCodes = [\n            ...new Set(todaysCodes)\n        ].sort();\n        return {\n            hasTasksToday: todaysCodes.length > 0,\n            codes: todaysCodes,\n            date: targetDate.toLocaleDateString(\"en-US\", {\n                weekday: \"long\",\n                year: \"numeric\",\n                month: \"long\",\n                day: \"numeric\",\n                timeZone: \"Asia/Baghdad\"\n            }),\n            matchingEntries: matchingEntries,\n            method: \"legacy\"\n        };\n    } catch (error) {\n        console.error(\"Error getting legacy tasks for date:\", error);\n        return {\n            hasTasksToday: false,\n            codes: [],\n            date: targetDate.toLocaleDateString(\"en-US\"),\n            matchingEntries: [],\n            error: error.message,\n            method: \"legacy\"\n        };\n    }\n}\n// Function to parse calendar month to date (legacy support)\nfunction parseCalendarMonth(monthStr) {\n    const currentYear = new Date().getFullYear();\n    // Handle formats like \"1-Jun\", \"15-Jul\", etc.\n    const [day, month] = monthStr.split(\"-\");\n    const monthMap = {\n        \"Jan\": 0,\n        \"Feb\": 1,\n        \"Mar\": 2,\n        \"Apr\": 3,\n        \"May\": 4,\n        \"Jun\": 5,\n        \"Jul\": 6,\n        \"Aug\": 7,\n        \"Sep\": 8,\n        \"Oct\": 9,\n        \"Nov\": 10,\n        \"Dec\": 11\n    };\n    if (monthMap[month] !== undefined) {\n        return new Date(currentYear, monthMap[month], parseInt(day));\n    }\n    return null;\n}\n// Enhanced function to parse calendar month to all possible dates in the 4-week grid\nfunction parseCalendarMonthToAllDates(monthStr, year) {\n    const possibleDates = [];\n    if (!monthStr) return possibleDates;\n    const monthNames = {\n        \"January\": 0,\n        \"February\": 1,\n        \"March\": 2,\n        \"April\": 3,\n        \"May\": 4,\n        \"June\": 5,\n        \"July\": 6,\n        \"August\": 7,\n        \"September\": 8,\n        \"October\": 9,\n        \"November\": 10,\n        \"December\": 11,\n        \"Jan\": 0,\n        \"Feb\": 1,\n        \"Mar\": 2,\n        \"Apr\": 3,\n        \"May\": 4,\n        \"Jun\": 5,\n        \"Jul\": 6,\n        \"Aug\": 7,\n        \"Sep\": 8,\n        \"Oct\": 9,\n        \"Nov\": 10,\n        \"Dec\": 11\n    };\n    // Parse the month string to get base date\n    let month = 0;\n    let day = 1;\n    if (monthStr.includes(\"-\")) {\n        const parts = monthStr.split(\"-\");\n        if (parts.length === 2) {\n            const firstPart = parts[0];\n            const secondPart = parts[1];\n            if (!isNaN(firstPart) && isNaN(secondPart)) {\n                // Format: \"15-Jun\"\n                day = parseInt(firstPart);\n                for (const [key, value] of Object.entries(monthNames)){\n                    if (secondPart.includes(key)) {\n                        month = value;\n                        break;\n                    }\n                }\n            } else if (isNaN(firstPart) && !isNaN(secondPart)) {\n                // Format: \"Jun-2024\"\n                year = parseInt(secondPart);\n                for (const [key, value] of Object.entries(monthNames)){\n                    if (firstPart.includes(key)) {\n                        month = value;\n                        break;\n                    }\n                }\n            }\n        }\n    } else {\n        // Handle month names without dashes\n        for (const [key, value] of Object.entries(monthNames)){\n            if (monthStr.includes(key)) {\n                month = value;\n                break;\n            }\n        }\n    }\n    // Calculate the base date\n    const baseDate = new Date(year, month, day);\n    // Generate all possible dates for the 4-week, 4-day grid\n    for(let weekIndex = 0; weekIndex < 4; weekIndex++){\n        for(let dayIndex = 0; dayIndex < 4; dayIndex++){\n            const cellDate = new Date(baseDate);\n            cellDate.setDate(baseDate.getDate() + weekIndex * 7 + dayIndex);\n            possibleDates.push({\n                date: cellDate,\n                weekIndex: weekIndex,\n                dayIndex: dayIndex,\n                weekName: `week${weekIndex + 1}`,\n                dayName: [\n                    \"Sunday\",\n                    \"Monday\",\n                    \"Tuesday\",\n                    \"Wednesday\"\n                ][dayIndex]\n            });\n        }\n    }\n    return possibleDates;\n}\n// Function to extract codes from a text string\nfunction extractCodes(text) {\n    if (!text || text.trim() === \"\") return [];\n    // Split by common separators and clean up\n    const codes = text.split(/[,\\s]+/).map((code)=>code.trim().toUpperCase()).filter((code)=>code && CODE_DICTIONARY[code]);\n    return [\n        ...new Set(codes)\n    ]; // Remove duplicates\n}\n// Enhanced function to send daily task notification email\nasync function sendDailyTaskNotification(tasksData, customTarget = null) {\n    const settings = await getEmailSettings();\n    const recipientEmail = customTarget || settings.targetEmail;\n    if (!tasksData.hasTasksToday) {\n        console.log(\"No tasks for today, skipping email notification\");\n        return {\n            success: true,\n            message: \"No tasks for today\"\n        };\n    }\n    try {\n        const transporter = await createTransporter();\n        // Build the email content with enhanced task information\n        let emailBody = `\n<div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n  <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; text-align: center;\">\n    <h1 style=\"margin: 0; font-size: 24px;\">üìÖ Daily Task Notification</h1>\n    <p style=\"margin: 10px 0 0 0; opacity: 0.9;\">${tasksData.date}</p>\n    ${tasksData.method ? `<p style=\"margin: 5px 0 0 0; opacity: 0.7; font-size: 12px;\">Method: ${tasksData.method}</p>` : \"\"}\n  </div>\n  \n  <div style=\"padding: 30px; background-color: #f8f9fa;\">\n    <h2 style=\"color: #495057; margin-bottom: 20px;\">üìã Today's Scheduled Tasks</h2>\n    \n    <div style=\"background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\">\n      <p style=\"margin-bottom: 15px; color: #6c757d;\">The following codes have been scheduled for today:</p>\n      \n      <table style=\"width: 100%; border-collapse: collapse;\">\n        <thead>\n          <tr style=\"background-color: #e9ecef;\">\n            <th style=\"padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6; font-weight: 600; color: #495057;\">Code</th>\n            <th style=\"padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6; font-weight: 600; color: #495057;\">Description</th>\n          </tr>\n        </thead>\n        <tbody>`;\n        // Add each code and its meaning to the table\n        for (const code of tasksData.codes){\n            const meaning = CODE_DICTIONARY[code] || \"Unknown task\";\n            emailBody += `\n          <tr style=\"border-bottom: 1px solid #dee2e6;\">\n            <td style=\"padding: 12px; font-family: monospace; font-weight: bold; color: #007bff;\">${code}</td>\n            <td style=\"padding: 12px; color: #495057;\">${meaning}</td>\n          </tr>`;\n        }\n        emailBody += `\n        </tbody>\n      </table>\n    </div>`;\n        // Add enhanced task details if available\n        if (tasksData.emailTasks && tasksData.emailTasks.length > 0) {\n            emailBody += `\n    <div style=\"margin-top: 20px; background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\">\n      <h3 style=\"color: #495057; margin-bottom: 15px;\">üìù Task Details</h3>`;\n            for (const task of tasksData.emailTasks){\n                if (task.description) {\n                    emailBody += `\n        <div style=\"margin-bottom: 10px; padding: 10px; background-color: #f8f9fa; border-radius: 4px;\">\n          <p style=\"margin: 0; color: #495057;\"><strong>Task:</strong> ${task.description}</p>\n          <p style=\"margin: 5px 0 0 0; color: #6c757d; font-size: 12px;\">Codes: ${task.codes.join(\", \")}</p>\n        </div>`;\n                }\n            }\n            emailBody += `\n    </div>`;\n        }\n        emailBody += `\n    <div style=\"margin-top: 30px; padding: 15px; background-color: #d1ecf1; border: 1px solid #bee5eb; border-radius: 6px;\">\n      <p style=\"margin: 0; color: #0c5460; font-size: 14px;\">\n        <strong>üìå Note:</strong> This is an automated reminder from the Berdoz Management System. \n        Please complete the scheduled tasks for today.\n      </p>\n    </div>\n    \n    <div style=\"text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #dee2e6;\">\n      <p style=\"color: #6c757d; font-size: 12px; margin: 0;\">\n        Generated at ${new Date().toLocaleString(\"en-US\", {\n            timeZone: \"Asia/Baghdad\"\n        })} (Baghdad Time)\n      </p>\n    </div>\n  </div>\n</div>`;\n        const mailOptions = {\n            from: {\n                name: \"Berdoz Management System\",\n                address: settings.senderEmail\n            },\n            to: recipientEmail,\n            subject: `Daily Task Notification ‚Äì ${tasksData.date}`,\n            html: emailBody\n        };\n        const result = await transporter.sendMail(mailOptions);\n        console.log(\"Daily task notification sent successfully:\", result.messageId);\n        return {\n            success: true,\n            messageId: result.messageId,\n            codesCount: tasksData.codes.length,\n            codes: tasksData.codes,\n            sentTo: recipientEmail,\n            method: tasksData.method || \"unknown\"\n        };\n    } catch (error) {\n        console.error(\"Error sending daily task notification:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n// Function to test email configuration\nasync function testEmailConfiguration(customEmail = null, customPassword = null) {\n    try {\n        const transporter = await createTransporter(customEmail, customPassword);\n        await transporter.verify();\n        console.log(\"Email configuration is valid\");\n        return {\n            success: true,\n            message: \"Email configuration is valid\"\n        };\n    } catch (error) {\n        console.error(\"Email configuration error:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n// Function to send test email\nasync function sendTestEmail(targetEmail, customSender = null, customPassword = null) {\n    try {\n        const transporter = await createTransporter(customSender, customPassword);\n        const settings = await getEmailSettings();\n        const mailOptions = {\n            from: {\n                name: \"Berdoz Management System - Test\",\n                address: customSender || settings.senderEmail\n            },\n            to: targetEmail,\n            subject: \"Test Email - Berdoz Management System\",\n            html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 500px; margin: 0 auto; padding: 20px;\">\n          <h2 style=\"color: #007bff;\">‚úÖ Email Test Successful!</h2>\n          <p>This is a test email from the Berdoz Management System.</p>\n          <p><strong>Sent at:</strong> ${new Date().toLocaleString()}</p>\n          <p><strong>From:</strong> ${customSender || settings.senderEmail}</p>\n          <p><strong>To:</strong> ${targetEmail}</p>\n          <div style=\"margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;\">\n            <p style=\"margin: 0; color: #6c757d; font-size: 14px;\">\n              If you received this email, your notification system is working correctly!\n            </p>\n          </div>\n        </div>\n      `\n        };\n        const result = await transporter.sendMail(mailOptions);\n        return {\n            success: true,\n            messageId: result.messageId,\n            message: `Test email sent successfully to ${targetEmail}`\n        };\n    } catch (error) {\n        console.error(\"Error sending test email:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPO1lBQ0x3RyxTQUFTO1lBQ1R4RyxPQUFPQSxNQUFNc0QsT0FBTztRQUN0QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtc3FsaXRlLXRlbXBsYXRlLy4vbGliL2VtYWlsU2VydmljZS5qcz9kOTYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xuaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSAnLi9tb25nb2RiLmpzJztcblxuLy8gQ29kZSBkaWN0aW9uYXJ5IGFzIHByb3ZpZGVkIGJ5IHRoZSB1c2VyXG5jb25zdCBDT0RFX0RJQ1RJT05BUlkgPSB7XG4gICdBJzogJ1JlZ2lzIE5hbWUnLFxuICAnQic6ICdNZWRpYScsIFxuICAnQyc6ICdIUiBTdGFmZiBSZWNvcmRzJyxcbiAgJ0QnOiAnRS5wYXJ3YXJkYSByZWNvcmRzJyxcbiAgJ0UnOiAnQnVzIFJlY29yZHMnLFxuICAnRic6ICdNb25pdG9yaW5nIFInLFxuICAnRyc6ICdTIExpY2Vuc2UgUmVjb3JkcycsXG4gICdIJzogJ1RlYWNoZXIgRXZhbHVhdGlvbiBSZWNvcmRzJyxcbiAgJ0knOiAnU3R1ZGVudCBBYnNlbnQnLFxuICAnSic6ICdTYWxhcnkgUmVjb3JkcycsXG4gICdLJzogJ1BlbiBSZWNvcmRzJyxcbiAgJ0wnOiAnRGFpbHkgTWFuYWdlciBSZWNvcmRzJyxcbiAgJ00nOiAnVGVhY2hlciBBdHRlbmRhbmNlJyxcbiAgJ04nOiAnUmVwb3J0IFJlY29yZHMnLFxuICAnTyc6ICdPYnNlcnZlZCBTdHVkZW50IFJlY29yZHMnLFxuICAnUCc6ICdDbGFzcyBSZWNvcmQnLFxuICAnUSc6ICdBY3Rpdml0aWVzIFJlY29yZHMnLFxuICAnUic6ICdGdXR1cmUgUGxhbiBSZWNvcmRzJyxcbiAgJ1MnOiAnU3ViamVjdCBSZWNvcmRzJyxcbiAgJ1QnOiAnQ29DYXIgQk0gUmVjb3JkcycsXG4gICdVJzogJ1BhcmVudCBSZWMnLFxuICAnVic6ICdTZWN1cml0eSBSZWNvcmRzJyxcbiAgJ1cnOiAnQ2xlYW4gUmVjb3JkcycsXG4gICdYJzogJ1N0dWRlbnQgUHJvZmlsZSBSZWNvcmQnLFxuICAnWSc6ICdNZWV0aW5nICYgRGlzY3Vzc2lvbicsXG4gICdaJzogJ1RpbWUgVGFibGUnLFxuICAnQTEnOiAnUHJvZ3Jlc3MnLFxuICAnQjEnOiAnT3JkZXJzJyxcbiAgJ0MxJzogJ1N0dWRlbnQgUGF5JyxcbiAgJ0QxJzogJ0V4YW0gUmVjb3JkcycsXG4gICdFMSc6ICdGaXJzdCBEYXkgb2YgQ29DYXInLFxuICAnRjEnOiAnQ291cnNlV2FyZSBSZWNvcmQnLFxuICAnRzEnOiAnTWF0ZXJpYWwnLFxuICAnVEInOiAnRGFpbHkgTW9uaXRvciBSZWNvcmRzJ1xufTtcblxuLy8gRnVuY3Rpb24gdG8gZ2V0IGVtYWlsIHNldHRpbmdzIGZyb20gZGF0YWJhc2VcbmFzeW5jIGZ1bmN0aW9uIGdldEVtYWlsU2V0dGluZ3MoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZTtcbiAgICBjb25zdCBkYiA9IGNsaWVudC5kYihwcm9jZXNzLmVudi5EQl9OQU1FIHx8ICdiZXJkb3pfbWFuYWdlbWVudCcpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgZGIuY29sbGVjdGlvbignZW1haWxfc2V0dGluZ3MnKS5maW5kT25lKHsgdHlwZTogJ25vdGlmaWNhdGlvbicgfSk7XG4gICAgXG4gICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZW5kZXJFbWFpbDogc2V0dGluZ3Muc2VuZGVyRW1haWwsXG4gICAgICAgIHNlbmRlclBhc3N3b3JkOiBzZXR0aW5ncy5zZW5kZXJQYXNzd29yZCxcbiAgICAgICAgdGFyZ2V0RW1haWw6IHNldHRpbmdzLnRhcmdldEVtYWlsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnVXNpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZvciBlbWFpbCBzZXR0aW5ncycpO1xuICB9XG4gIFxuICAvLyBGYWxsYmFjayB0byBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgcmV0dXJuIHtcbiAgICBzZW5kZXJFbWFpbDogcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUiB8fCAnc3d5YW5zd2FydHpAZ21haWwuY29tJyxcbiAgICBzZW5kZXJQYXNzd29yZDogcHJvY2Vzcy5lbnYuRU1BSUxfUEFTUyB8fCAnbW9peSB0dm5tIGVtbXEgamxrcycsXG4gICAgdGFyZ2V0RW1haWw6IHByb2Nlc3MuZW52Lk5PVElGSUNBVElPTl9FTUFJTCB8fCAnc295YW5zb29uOUBnbWFpbC5jb20nXG4gIH07XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSB0cmFuc3BvcnRlciB3aXRoIGR5bmFtaWMgc2V0dGluZ3NcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRyYW5zcG9ydGVyKGN1c3RvbUVtYWlsID0gbnVsbCwgY3VzdG9tUGFzc3dvcmQgPSBudWxsKSB7XG4gIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgZ2V0RW1haWxTZXR0aW5ncygpO1xuICBcbiAgcmV0dXJuIG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBzZXJ2aWNlOiAnZ21haWwnLFxuICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6IGN1c3RvbUVtYWlsIHx8IHNldHRpbmdzLnNlbmRlckVtYWlsLFxuICAgICAgcGFzczogY3VzdG9tUGFzc3dvcmQgfHwgc2V0dGluZ3Muc2VuZGVyUGFzc3dvcmRcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgQmFnaGRhZCB0aW1lXG5mdW5jdGlvbiBnZXRCYWdoZGFkVGltZSgpIHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgLy8gQmFnaGRhZCBpcyBVVEMrM1xuICBjb25zdCBiYWdoZGFkVGltZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyAoMyAqIDYwICogNjAgKiAxMDAwKSk7XG4gIHJldHVybiBiYWdoZGFkVGltZTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gZm9ybWF0IGRhdGUgZm9yIGNvbXBhcmlzb24gKFlZWVktTU0tREQpXG5mdW5jdGlvbiBmb3JtYXREYXRlRm9yQ29tcGFyaXNvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbn1cblxuLy8gRW5oYW5jZWQgZnVuY3Rpb24gdG8gZ2V0IHRhc2tzIGZvciB0b2RheSB1c2luZyBuZXcgZW1haWxfdGFza3MgY29sbGVjdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRvZGF5c1Rhc2tzKGRiKSB7XG4gIGNvbnN0IHRvZGF5ID0gZ2V0QmFnaGRhZFRpbWUoKTtcbiAgcmV0dXJuIGdldFRhc2tzRm9yRGF0ZShkYiwgdG9kYXkpO1xufVxuXG4vLyBFbmhhbmNlZCBmdW5jdGlvbiB0byBnZXQgdGFza3MgZm9yIGEgc3BlY2lmaWMgZGF0ZSB1c2luZyBlbWFpbF90YXNrcyBjb2xsZWN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGFza3NGb3JEYXRlKGRiLCB0YXJnZXREYXRlKSB7XG4gIGNvbnN0IHRhcmdldERhdGVTdHIgPSBmb3JtYXREYXRlRm9yQ29tcGFyaXNvbih0YXJnZXREYXRlKTtcbiAgXG4gIHRyeSB7XG4gICAgLy8gRmlyc3QgdHJ5IHRvIGdldCBmcm9tIG5ldyBlbWFpbF90YXNrcyBjb2xsZWN0aW9uIChlbmhhbmNlZCBtZXRob2QpXG4gICAgY29uc3Qgc3RhcnRPZkRheSA9IG5ldyBEYXRlKHRhcmdldERhdGUpO1xuICAgIHN0YXJ0T2ZEYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgY29uc3QgZW5kT2ZEYXkgPSBuZXcgRGF0ZSh0YXJnZXREYXRlKTtcbiAgICBlbmRPZkRheS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBTZWFyY2hpbmcgZm9yIHRhc2tzIGJldHdlZW4gJHtzdGFydE9mRGF5LnRvSVNPU3RyaW5nKCl9IGFuZCAke2VuZE9mRGF5LnRvSVNPU3RyaW5nKCl9YCk7XG4gICAgXG4gICAgY29uc3QgZW1haWxUYXNrcyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2VtYWlsX3Rhc2tzJykuZmluZCh7XG4gICAgICBkYXRlOiB7XG4gICAgICAgICRndGU6IHN0YXJ0T2ZEYXksXG4gICAgICAgICRsdGU6IGVuZE9mRGF5XG4gICAgICB9XG4gICAgfSkudG9BcnJheSgpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2VtYWlsVGFza3MubGVuZ3RofSBlbWFpbCB0YXNrcyBmb3IgZGF0ZSAke3RhcmdldERhdGVTdHJ9YCk7XG4gICAgXG4gICAgaWYgKGVtYWlsVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgLy8gVXNlIGVuaGFuY2VkIGVtYWlsIHRhc2tzIG1ldGhvZFxuICAgICAgbGV0IHRvZGF5c0NvZGVzID0gW107XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgdGFzayBvZiBlbWFpbFRhc2tzKSB7XG4gICAgICAgIGlmICh0YXNrLmNvZGVzICYmIEFycmF5LmlzQXJyYXkodGFzay5jb2RlcykpIHtcbiAgICAgICAgICB0b2RheXNDb2Rlcy5wdXNoKC4uLnRhc2suY29kZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGFuZCBzb3J0XG4gICAgICB0b2RheXNDb2RlcyA9IFsuLi5uZXcgU2V0KHRvZGF5c0NvZGVzKV0uc29ydCgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBoYXNUYXNrc1RvZGF5OiB0b2RheXNDb2Rlcy5sZW5ndGggPiAwLFxuICAgICAgICBjb2RlczogdG9kYXlzQ29kZXMsXG4gICAgICAgIGRhdGU6IHRhcmdldERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgXG4gICAgICAgICAgd2Vla2RheTogJ2xvbmcnLFxuICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgIHRpbWVab25lOiAnQXNpYS9CYWdoZGFkJ1xuICAgICAgICB9KSxcbiAgICAgICAgZW1haWxUYXNrczogZW1haWxUYXNrcyxcbiAgICAgICAgbWV0aG9kOiAnZW5oYW5jZWQnXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayB0byBsZWdhY3kgY2FsZW5kYXIgcGFyc2luZyBtZXRob2Qgd2l0aCBpbXByb3ZlZCB5ZWFyIGhhbmRsaW5nXG4gICAgcmV0dXJuIGdldExlZ2FjeVRhc2tzRm9yRGF0ZShkYiwgdGFyZ2V0RGF0ZSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB0YXNrcyBmb3IgZGF0ZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc1Rhc2tzVG9kYXk6IGZhbHNlLFxuICAgICAgY29kZXM6IFtdLFxuICAgICAgZGF0ZTogdGFyZ2V0RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJyksXG4gICAgICBlbWFpbFRhc2tzOiBbXSxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgfTtcbiAgfVxufVxuXG4vLyBMZWdhY3kgbWV0aG9kIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggaW1wcm92ZWQgeWVhciBoYW5kbGluZ1xuYXN5bmMgZnVuY3Rpb24gZ2V0TGVnYWN5VGFza3NGb3JEYXRlKGRiLCB0YXJnZXREYXRlKSB7XG4gIGNvbnN0IHRhcmdldERhdGVTdHIgPSBmb3JtYXREYXRlRm9yQ29tcGFyaXNvbih0YXJnZXREYXRlKTtcbiAgY29uc3QgdGFyZ2V0WWVhciA9IHRhcmdldERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgXG4gIHRyeSB7XG4gICAgLy8gR2V0IGFsbCBjYWxlbmRhciBlbnRyaWVzLCBwcmlvcml0aXppbmcgZW50cmllcyBmcm9tIHRoZSB0YXJnZXQgeWVhclxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjYWxlbmRhcl9lbnRyaWVzJykuZmluZCh7XG4gICAgICAkb3I6IFtcbiAgICAgICAgeyB5ZWFyOiB0YXJnZXRZZWFyIH0sXG4gICAgICAgIHsgeWVhcjogeyAkZXhpc3RzOiBmYWxzZSB9IH0sIC8vIEluY2x1ZGUgZW50cmllcyB3aXRob3V0IHllYXIgZmllbGQgKGxlZ2FjeSlcbiAgICAgICAgeyB5ZWFyOiBudWxsIH1cbiAgICAgIF1cbiAgICB9KS5zb3J0KHsgeWVhcjogLTEsIHVwZGF0ZWRfYXQ6IC0xIH0pLnRvQXJyYXkoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtlbnRyaWVzLmxlbmd0aH0gbGVnYWN5IGNhbGVuZGFyIGVudHJpZXMgZm9yIHllYXIgJHt0YXJnZXRZZWFyfWApO1xuICAgIFxuICAgIGxldCB0b2RheXNDb2RlcyA9IFtdO1xuICAgIGxldCBtYXRjaGluZ0VudHJpZXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIC8vIFBhcnNlIHRoZSBtb250aCBmaWVsZCB0byBnZXQgZGF0ZXMsIGNvbnNpZGVyaW5nIHRoZSBlbnRyeSdzIHllYXJcbiAgICAgIGNvbnN0IGVudHJ5WWVhciA9IGVudHJ5LnllYXIgfHwgdGFyZ2V0WWVhcjtcbiAgICAgIGNvbnN0IHBvc3NpYmxlRGF0ZXMgPSBwYXJzZUNhbGVuZGFyTW9udGhUb0FsbERhdGVzKGVudHJ5Lm1vbnRoLCBlbnRyeVllYXIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBhbnkgb2YgdGhlIHBvc3NpYmxlIGRhdGVzIG1hdGNoIG91ciB0YXJnZXQgZGF0ZVxuICAgICAgZm9yIChjb25zdCBwb3NzaWJsZURhdGUgb2YgcG9zc2libGVEYXRlcykge1xuICAgICAgICBpZiAoZm9ybWF0RGF0ZUZvckNvbXBhcmlzb24ocG9zc2libGVEYXRlLmRhdGUpID09PSB0YXJnZXREYXRlU3RyKSB7XG4gICAgICAgICAgbWF0Y2hpbmdFbnRyaWVzLnB1c2goe1xuICAgICAgICAgICAgZW50cnksXG4gICAgICAgICAgICBtYXRjaGVkRGF0ZTogcG9zc2libGVEYXRlLmRhdGUsXG4gICAgICAgICAgICB3ZWVrSW5kZXg6IHBvc3NpYmxlRGF0ZS53ZWVrSW5kZXgsXG4gICAgICAgICAgICBkYXlJbmRleDogcG9zc2libGVEYXRlLmRheUluZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2V0IHRoZSBzcGVjaWZpYyBjZWxsIGRhdGEgZm9yIHRoaXMgZGF0ZVxuICAgICAgICAgIGNvbnN0IHdlZWtLZXkgPSBgd2VlayR7cG9zc2libGVEYXRlLndlZWtJbmRleCArIDF9YDtcbiAgICAgICAgICBjb25zdCBjZWxsRGF0YSA9IGVudHJ5W3dlZWtLZXldICYmIGVudHJ5W3dlZWtLZXldW3Bvc3NpYmxlRGF0ZS5kYXlJbmRleF07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNlbGxEYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBjb2RlcyA9IGV4dHJhY3RDb2RlcyhjZWxsRGF0YSk7XG4gICAgICAgICAgICB0b2RheXNDb2Rlcy5wdXNoKC4uLmNvZGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYW5kIHNvcnRcbiAgICB0b2RheXNDb2RlcyA9IFsuLi5uZXcgU2V0KHRvZGF5c0NvZGVzKV0uc29ydCgpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBoYXNUYXNrc1RvZGF5OiB0b2RheXNDb2Rlcy5sZW5ndGggPiAwLFxuICAgICAgY29kZXM6IHRvZGF5c0NvZGVzLFxuICAgICAgZGF0ZTogdGFyZ2V0RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyBcbiAgICAgICAgd2Vla2RheTogJ2xvbmcnLFxuICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICB0aW1lWm9uZTogJ0FzaWEvQmFnaGRhZCdcbiAgICAgIH0pLFxuICAgICAgbWF0Y2hpbmdFbnRyaWVzOiBtYXRjaGluZ0VudHJpZXMsXG4gICAgICBtZXRob2Q6ICdsZWdhY3knXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGxlZ2FjeSB0YXNrcyBmb3IgZGF0ZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc1Rhc2tzVG9kYXk6IGZhbHNlLFxuICAgICAgY29kZXM6IFtdLFxuICAgICAgZGF0ZTogdGFyZ2V0RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJyksXG4gICAgICBtYXRjaGluZ0VudHJpZXM6IFtdLFxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBtZXRob2Q6ICdsZWdhY3knXG4gICAgfTtcbiAgfVxufVxuXG4vLyBGdW5jdGlvbiB0byBwYXJzZSBjYWxlbmRhciBtb250aCB0byBkYXRlIChsZWdhY3kgc3VwcG9ydClcbmZ1bmN0aW9uIHBhcnNlQ2FsZW5kYXJNb250aChtb250aFN0cikge1xuICBjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgLy8gSGFuZGxlIGZvcm1hdHMgbGlrZSBcIjEtSnVuXCIsIFwiMTUtSnVsXCIsIGV0Yy5cbiAgY29uc3QgW2RheSwgbW9udGhdID0gbW9udGhTdHIuc3BsaXQoJy0nKTtcbiAgXG4gIGNvbnN0IG1vbnRoTWFwID0ge1xuICAgICdKYW4nOiAwLCAnRmViJzogMSwgJ01hcic6IDIsICdBcHInOiAzLCAnTWF5JzogNCwgJ0p1bic6IDUsXG4gICAgJ0p1bCc6IDYsICdBdWcnOiA3LCAnU2VwJzogOCwgJ09jdCc6IDksICdOb3YnOiAxMCwgJ0RlYyc6IDExXG4gIH07XG4gIFxuICBpZiAobW9udGhNYXBbbW9udGhdICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoY3VycmVudFllYXIsIG1vbnRoTWFwW21vbnRoXSwgcGFyc2VJbnQoZGF5KSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIEVuaGFuY2VkIGZ1bmN0aW9uIHRvIHBhcnNlIGNhbGVuZGFyIG1vbnRoIHRvIGFsbCBwb3NzaWJsZSBkYXRlcyBpbiB0aGUgNC13ZWVrIGdyaWRcbmZ1bmN0aW9uIHBhcnNlQ2FsZW5kYXJNb250aFRvQWxsRGF0ZXMobW9udGhTdHIsIHllYXIpIHtcbiAgY29uc3QgcG9zc2libGVEYXRlcyA9IFtdO1xuICBcbiAgaWYgKCFtb250aFN0cikgcmV0dXJuIHBvc3NpYmxlRGF0ZXM7XG4gIFxuICBjb25zdCBtb250aE5hbWVzID0ge1xuICAgICdKYW51YXJ5JzogMCwgJ0ZlYnJ1YXJ5JzogMSwgJ01hcmNoJzogMiwgJ0FwcmlsJzogMywgJ01heSc6IDQsICdKdW5lJzogNSxcbiAgICAnSnVseSc6IDYsICdBdWd1c3QnOiA3LCAnU2VwdGVtYmVyJzogOCwgJ09jdG9iZXInOiA5LCAnTm92ZW1iZXInOiAxMCwgJ0RlY2VtYmVyJzogMTEsXG4gICAgJ0phbic6IDAsICdGZWInOiAxLCAnTWFyJzogMiwgJ0Fwcic6IDMsICdNYXknOiA0LCAnSnVuJzogNSxcbiAgICAnSnVsJzogNiwgJ0F1Zyc6IDcsICdTZXAnOiA4LCAnT2N0JzogOSwgJ05vdic6IDEwLCAnRGVjJzogMTFcbiAgfTtcbiAgXG4gIC8vIFBhcnNlIHRoZSBtb250aCBzdHJpbmcgdG8gZ2V0IGJhc2UgZGF0ZVxuICBsZXQgbW9udGggPSAwO1xuICBsZXQgZGF5ID0gMTtcbiAgXG4gIGlmIChtb250aFN0ci5pbmNsdWRlcygnLScpKSB7XG4gICAgY29uc3QgcGFydHMgPSBtb250aFN0ci5zcGxpdCgnLScpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGNvbnN0IGZpcnN0UGFydCA9IHBhcnRzWzBdO1xuICAgICAgY29uc3Qgc2Vjb25kUGFydCA9IHBhcnRzWzFdO1xuICAgICAgXG4gICAgICBpZiAoIWlzTmFOKGZpcnN0UGFydCkgJiYgaXNOYU4oc2Vjb25kUGFydCkpIHtcbiAgICAgICAgLy8gRm9ybWF0OiBcIjE1LUp1blwiXG4gICAgICAgIGRheSA9IHBhcnNlSW50KGZpcnN0UGFydCk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1vbnRoTmFtZXMpKSB7XG4gICAgICAgICAgaWYgKHNlY29uZFBhcnQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgbW9udGggPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc05hTihmaXJzdFBhcnQpICYmICFpc05hTihzZWNvbmRQYXJ0KSkge1xuICAgICAgICAvLyBGb3JtYXQ6IFwiSnVuLTIwMjRcIlxuICAgICAgICB5ZWFyID0gcGFyc2VJbnQoc2Vjb25kUGFydCk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1vbnRoTmFtZXMpKSB7XG4gICAgICAgICAgaWYgKGZpcnN0UGFydC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICBtb250aCA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEhhbmRsZSBtb250aCBuYW1lcyB3aXRob3V0IGRhc2hlc1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1vbnRoTmFtZXMpKSB7XG4gICAgICBpZiAobW9udGhTdHIuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICBtb250aCA9IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSBkYXRlXG4gIGNvbnN0IGJhc2VEYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSk7XG4gIFxuICAvLyBHZW5lcmF0ZSBhbGwgcG9zc2libGUgZGF0ZXMgZm9yIHRoZSA0LXdlZWssIDQtZGF5IGdyaWRcbiAgZm9yIChsZXQgd2Vla0luZGV4ID0gMDsgd2Vla0luZGV4IDwgNDsgd2Vla0luZGV4KyspIHtcbiAgICBmb3IgKGxldCBkYXlJbmRleCA9IDA7IGRheUluZGV4IDwgNDsgZGF5SW5kZXgrKykgeyAvLyBTdW4sIE1vbiwgVHVlLCBXZWRcbiAgICAgIGNvbnN0IGNlbGxEYXRlID0gbmV3IERhdGUoYmFzZURhdGUpO1xuICAgICAgY2VsbERhdGUuc2V0RGF0ZShiYXNlRGF0ZS5nZXREYXRlKCkgKyAod2Vla0luZGV4ICogNykgKyBkYXlJbmRleCk7XG4gICAgICBcbiAgICAgIHBvc3NpYmxlRGF0ZXMucHVzaCh7XG4gICAgICAgIGRhdGU6IGNlbGxEYXRlLFxuICAgICAgICB3ZWVrSW5kZXg6IHdlZWtJbmRleCxcbiAgICAgICAgZGF5SW5kZXg6IGRheUluZGV4LFxuICAgICAgICB3ZWVrTmFtZTogYHdlZWske3dlZWtJbmRleCArIDF9YCxcbiAgICAgICAgZGF5TmFtZTogWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5J11bZGF5SW5kZXhdXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBwb3NzaWJsZURhdGVzO1xufVxuXG4vLyBGdW5jdGlvbiB0byBleHRyYWN0IGNvZGVzIGZyb20gYSB0ZXh0IHN0cmluZ1xuZnVuY3Rpb24gZXh0cmFjdENvZGVzKHRleHQpIHtcbiAgaWYgKCF0ZXh0IHx8IHRleHQudHJpbSgpID09PSAnJykgcmV0dXJuIFtdO1xuICBcbiAgLy8gU3BsaXQgYnkgY29tbW9uIHNlcGFyYXRvcnMgYW5kIGNsZWFuIHVwXG4gIGNvbnN0IGNvZGVzID0gdGV4dC5zcGxpdCgvWyxcXHNdKy8pXG4gICAgLm1hcChjb2RlID0+IGNvZGUudHJpbSgpLnRvVXBwZXJDYXNlKCkpXG4gICAgLmZpbHRlcihjb2RlID0+IGNvZGUgJiYgQ09ERV9ESUNUSU9OQVJZW2NvZGVdKTtcbiAgICBcbiAgcmV0dXJuIFsuLi5uZXcgU2V0KGNvZGVzKV07IC8vIFJlbW92ZSBkdXBsaWNhdGVzXG59XG5cbi8vIEVuaGFuY2VkIGZ1bmN0aW9uIHRvIHNlbmQgZGFpbHkgdGFzayBub3RpZmljYXRpb24gZW1haWxcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRGFpbHlUYXNrTm90aWZpY2F0aW9uKHRhc2tzRGF0YSwgY3VzdG9tVGFyZ2V0ID0gbnVsbCkge1xuICBjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldEVtYWlsU2V0dGluZ3MoKTtcbiAgY29uc3QgcmVjaXBpZW50RW1haWwgPSBjdXN0b21UYXJnZXQgfHwgc2V0dGluZ3MudGFyZ2V0RW1haWw7XG4gIFxuICBpZiAoIXRhc2tzRGF0YS5oYXNUYXNrc1RvZGF5KSB7XG4gICAgY29uc29sZS5sb2coJ05vIHRhc2tzIGZvciB0b2RheSwgc2tpcHBpbmcgZW1haWwgbm90aWZpY2F0aW9uJyk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ05vIHRhc2tzIGZvciB0b2RheScgfTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB0cmFuc3BvcnRlciA9IGF3YWl0IGNyZWF0ZVRyYW5zcG9ydGVyKCk7XG4gICAgXG4gICAgLy8gQnVpbGQgdGhlIGVtYWlsIGNvbnRlbnQgd2l0aCBlbmhhbmNlZCB0YXNrIGluZm9ybWF0aW9uXG4gICAgbGV0IGVtYWlsQm9keSA9IGBcbjxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvO1wiPlxuICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgPGgxIHN0eWxlPVwibWFyZ2luOiAwOyBmb250LXNpemU6IDI0cHg7XCI+8J+ThSBEYWlseSBUYXNrIE5vdGlmaWNhdGlvbjwvaDE+XG4gICAgPHAgc3R5bGU9XCJtYXJnaW46IDEwcHggMCAwIDA7IG9wYWNpdHk6IDAuOTtcIj4ke3Rhc2tzRGF0YS5kYXRlfTwvcD5cbiAgICAke3Rhc2tzRGF0YS5tZXRob2QgPyBgPHAgc3R5bGU9XCJtYXJnaW46IDVweCAwIDAgMDsgb3BhY2l0eTogMC43OyBmb250LXNpemU6IDEycHg7XCI+TWV0aG9kOiAke3Rhc2tzRGF0YS5tZXRob2R9PC9wPmAgOiAnJ31cbiAgPC9kaXY+XG4gIFxuICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMzBweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcIj5cbiAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzQ5NTA1NzsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj7wn5OLIFRvZGF5J3MgU2NoZWR1bGVkIFRhc2tzPC9oMj5cbiAgICBcbiAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogd2hpdGU7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMjBweDsgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsMCwwLDAuMSk7XCI+XG4gICAgICA8cCBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE1cHg7IGNvbG9yOiAjNmM3NTdkO1wiPlRoZSBmb2xsb3dpbmcgY29kZXMgaGF2ZSBiZWVuIHNjaGVkdWxlZCBmb3IgdG9kYXk6PC9wPlxuICAgICAgXG4gICAgICA8dGFibGUgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0ciBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNlOWVjZWY7XCI+XG4gICAgICAgICAgICA8dGggc3R5bGU9XCJwYWRkaW5nOiAxMnB4OyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2RlZTJlNjsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6ICM0OTUwNTc7XCI+Q29kZTwvdGg+XG4gICAgICAgICAgICA8dGggc3R5bGU9XCJwYWRkaW5nOiAxMnB4OyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2RlZTJlNjsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6ICM0OTUwNTc7XCI+RGVzY3JpcHRpb248L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keT5gO1xuXG4gICAgLy8gQWRkIGVhY2ggY29kZSBhbmQgaXRzIG1lYW5pbmcgdG8gdGhlIHRhYmxlXG4gICAgZm9yIChjb25zdCBjb2RlIG9mIHRhc2tzRGF0YS5jb2Rlcykge1xuICAgICAgY29uc3QgbWVhbmluZyA9IENPREVfRElDVElPTkFSWVtjb2RlXSB8fCAnVW5rbm93biB0YXNrJztcbiAgICAgIGVtYWlsQm9keSArPSBgXG4gICAgICAgICAgPHRyIHN0eWxlPVwiYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZWUyZTY7XCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMnB4OyBmb250LWZhbWlseTogbW9ub3NwYWNlOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMwMDdiZmY7XCI+JHtjb2RlfTwvdGQ+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMnB4OyBjb2xvcjogIzQ5NTA1NztcIj4ke21lYW5pbmd9PC90ZD5cbiAgICAgICAgICA8L3RyPmA7XG4gICAgfVxuXG4gICAgZW1haWxCb2R5ICs9IGBcbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+YDtcblxuICAgIC8vIEFkZCBlbmhhbmNlZCB0YXNrIGRldGFpbHMgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHRhc2tzRGF0YS5lbWFpbFRhc2tzICYmIHRhc2tzRGF0YS5lbWFpbFRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIGVtYWlsQm9keSArPSBgXG4gICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHg7IGJhY2tncm91bmQ6IHdoaXRlOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDIwcHg7IGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLDAsMCwwLjEpO1wiPlxuICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICM0OTUwNTc7IG1hcmdpbi1ib3R0b206IDE1cHg7XCI+8J+TnSBUYXNrIERldGFpbHM8L2gzPmA7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgdGFzayBvZiB0YXNrc0RhdGEuZW1haWxUYXNrcykge1xuICAgICAgICBpZiAodGFzay5kZXNjcmlwdGlvbikge1xuICAgICAgICAgIGVtYWlsQm9keSArPSBgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxMHB4OyBwYWRkaW5nOiAxMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyBib3JkZXItcmFkaXVzOiA0cHg7XCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDA7IGNvbG9yOiAjNDk1MDU3O1wiPjxzdHJvbmc+VGFzazo8L3N0cm9uZz4gJHt0YXNrLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogNXB4IDAgMCAwOyBjb2xvcjogIzZjNzU3ZDsgZm9udC1zaXplOiAxMnB4O1wiPkNvZGVzOiAke3Rhc2suY29kZXMuam9pbignLCAnKX08L3A+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgZW1haWxCb2R5ICs9IGBcbiAgICA8L2Rpdj5gO1xuICAgIH1cbiAgICBcbiAgICBlbWFpbEJvZHkgKz0gYFxuICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAzMHB4OyBwYWRkaW5nOiAxNXB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZDFlY2YxOyBib3JkZXI6IDFweCBzb2xpZCAjYmVlNWViOyBib3JkZXItcmFkaXVzOiA2cHg7XCI+XG4gICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDsgY29sb3I6ICMwYzU0NjA7IGZvbnQtc2l6ZTogMTRweDtcIj5cbiAgICAgICAgPHN0cm9uZz7wn5OMIE5vdGU6PC9zdHJvbmc+IFRoaXMgaXMgYW4gYXV0b21hdGVkIHJlbWluZGVyIGZyb20gdGhlIEJlcmRveiBNYW5hZ2VtZW50IFN5c3RlbS4gXG4gICAgICAgIFBsZWFzZSBjb21wbGV0ZSB0aGUgc2NoZWR1bGVkIHRhc2tzIGZvciB0b2RheS5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tdG9wOiAzMHB4OyBwYWRkaW5nLXRvcDogMjBweDsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZWUyZTY7XCI+XG4gICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNmM3NTdkOyBmb250LXNpemU6IDEycHg7IG1hcmdpbjogMDtcIj5cbiAgICAgICAgR2VuZXJhdGVkIGF0ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7IHRpbWVab25lOiAnQXNpYS9CYWdoZGFkJyB9KX0gKEJhZ2hkYWQgVGltZSlcbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5gO1xuXG4gICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XG4gICAgICBmcm9tOiB7XG4gICAgICAgIG5hbWU6ICdCZXJkb3ogTWFuYWdlbWVudCBTeXN0ZW0nLFxuICAgICAgICBhZGRyZXNzOiBzZXR0aW5ncy5zZW5kZXJFbWFpbFxuICAgICAgfSxcbiAgICAgIHRvOiByZWNpcGllbnRFbWFpbCxcbiAgICAgIHN1YmplY3Q6IGBEYWlseSBUYXNrIE5vdGlmaWNhdGlvbiDigJMgJHt0YXNrc0RhdGEuZGF0ZX1gLFxuICAgICAgaHRtbDogZW1haWxCb2R5XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ0RhaWx5IHRhc2sgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5OicsIHJlc3VsdC5tZXNzYWdlSWQpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZUlkOiByZXN1bHQubWVzc2FnZUlkLFxuICAgICAgY29kZXNDb3VudDogdGFza3NEYXRhLmNvZGVzLmxlbmd0aCxcbiAgICAgIGNvZGVzOiB0YXNrc0RhdGEuY29kZXMsXG4gICAgICBzZW50VG86IHJlY2lwaWVudEVtYWlsLFxuICAgICAgbWV0aG9kOiB0YXNrc0RhdGEubWV0aG9kIHx8ICd1bmtub3duJ1xuICAgIH07XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBkYWlseSB0YXNrIG5vdGlmaWNhdGlvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICB9O1xuICB9XG59XG5cbi8vIEZ1bmN0aW9uIHRvIHRlc3QgZW1haWwgY29uZmlndXJhdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRlc3RFbWFpbENvbmZpZ3VyYXRpb24oY3VzdG9tRW1haWwgPSBudWxsLCBjdXN0b21QYXNzd29yZCA9IG51bGwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0cmFuc3BvcnRlciA9IGF3YWl0IGNyZWF0ZVRyYW5zcG9ydGVyKGN1c3RvbUVtYWlsLCBjdXN0b21QYXNzd29yZCk7XG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIudmVyaWZ5KCk7XG4gICAgY29uc29sZS5sb2coJ0VtYWlsIGNvbmZpZ3VyYXRpb24gaXMgdmFsaWQnKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnRW1haWwgY29uZmlndXJhdGlvbiBpcyB2YWxpZCcgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFbWFpbCBjb25maWd1cmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vLyBGdW5jdGlvbiB0byBzZW5kIHRlc3QgZW1haWxcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kVGVzdEVtYWlsKHRhcmdldEVtYWlsLCBjdXN0b21TZW5kZXIgPSBudWxsLCBjdXN0b21QYXNzd29yZCA9IG51bGwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0cmFuc3BvcnRlciA9IGF3YWl0IGNyZWF0ZVRyYW5zcG9ydGVyKGN1c3RvbVNlbmRlciwgY3VzdG9tUGFzc3dvcmQpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgZ2V0RW1haWxTZXR0aW5ncygpO1xuICAgIFxuICAgIGNvbnN0IG1haWxPcHRpb25zID0ge1xuICAgICAgZnJvbToge1xuICAgICAgICBuYW1lOiAnQmVyZG96IE1hbmFnZW1lbnQgU3lzdGVtIC0gVGVzdCcsXG4gICAgICAgIGFkZHJlc3M6IGN1c3RvbVNlbmRlciB8fCBzZXR0aW5ncy5zZW5kZXJFbWFpbFxuICAgICAgfSxcbiAgICAgIHRvOiB0YXJnZXRFbWFpbCxcbiAgICAgIHN1YmplY3Q6ICdUZXN0IEVtYWlsIC0gQmVyZG96IE1hbmFnZW1lbnQgU3lzdGVtJyxcbiAgICAgIGh0bWw6IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA1MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHg7XCI+XG4gICAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICMwMDdiZmY7XCI+4pyFIEVtYWlsIFRlc3QgU3VjY2Vzc2Z1bCE8L2gyPlxuICAgICAgICAgIDxwPlRoaXMgaXMgYSB0ZXN0IGVtYWlsIGZyb20gdGhlIEJlcmRveiBNYW5hZ2VtZW50IFN5c3RlbS48L3A+XG4gICAgICAgICAgPHA+PHN0cm9uZz5TZW50IGF0Ojwvc3Ryb25nPiAke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX08L3A+XG4gICAgICAgICAgPHA+PHN0cm9uZz5Gcm9tOjwvc3Ryb25nPiAke2N1c3RvbVNlbmRlciB8fCBzZXR0aW5ncy5zZW5kZXJFbWFpbH08L3A+XG4gICAgICAgICAgPHA+PHN0cm9uZz5Ubzo8L3N0cm9uZz4gJHt0YXJnZXRFbWFpbH08L3A+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBjb2xvcjogIzZjNzU3ZDsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAgICAgICBJZiB5b3UgcmVjZWl2ZWQgdGhpcyBlbWFpbCwgeW91ciBub3RpZmljYXRpb24gc3lzdGVtIGlzIHdvcmtpbmcgY29ycmVjdGx5IVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGBcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcbiAgICAgIG1lc3NhZ2U6IGBUZXN0IGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5IHRvICR7dGFyZ2V0RW1haWx9YFxuICAgIH07XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyB0ZXN0IGVtYWlsOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgIH07XG4gIH1cbn0iXSwibmFtZXMiOlsibm9kZW1haWxlciIsImNsaWVudFByb21pc2UiLCJDT0RFX0RJQ1RJT05BUlkiLCJnZXRFbWFpbFNldHRpbmdzIiwiY2xpZW50IiwiZGIiLCJwcm9jZXNzIiwiZW52IiwiREJfTkFNRSIsInNldHRpbmdzIiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJ0eXBlIiwic2VuZGVyRW1haWwiLCJzZW5kZXJQYXNzd29yZCIsInRhcmdldEVtYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiRU1BSUxfVVNFUiIsIkVNQUlMX1BBU1MiLCJOT1RJRklDQVRJT05fRU1BSUwiLCJjcmVhdGVUcmFuc3BvcnRlciIsImN1c3RvbUVtYWlsIiwiY3VzdG9tUGFzc3dvcmQiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZXJ2aWNlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwiZ2V0QmFnaGRhZFRpbWUiLCJub3ciLCJEYXRlIiwiYmFnaGRhZFRpbWUiLCJnZXRUaW1lIiwiZm9ybWF0RGF0ZUZvckNvbXBhcmlzb24iLCJkYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImdldFRvZGF5c1Rhc2tzIiwidG9kYXkiLCJnZXRUYXNrc0ZvckRhdGUiLCJ0YXJnZXREYXRlIiwidGFyZ2V0RGF0ZVN0ciIsInN0YXJ0T2ZEYXkiLCJzZXRIb3VycyIsImVuZE9mRGF5IiwiZW1haWxUYXNrcyIsImZpbmQiLCIkZ3RlIiwiJGx0ZSIsInRvQXJyYXkiLCJsZW5ndGgiLCJ0b2RheXNDb2RlcyIsInRhc2siLCJjb2RlcyIsIkFycmF5IiwiaXNBcnJheSIsInB1c2giLCJTZXQiLCJzb3J0IiwiaGFzVGFza3NUb2RheSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJ0aW1lWm9uZSIsIm1ldGhvZCIsImdldExlZ2FjeVRhc2tzRm9yRGF0ZSIsIm1lc3NhZ2UiLCJ0YXJnZXRZZWFyIiwiZ2V0RnVsbFllYXIiLCJlbnRyaWVzIiwiJG9yIiwiJGV4aXN0cyIsInVwZGF0ZWRfYXQiLCJtYXRjaGluZ0VudHJpZXMiLCJlbnRyeSIsImVudHJ5WWVhciIsInBvc3NpYmxlRGF0ZXMiLCJwYXJzZUNhbGVuZGFyTW9udGhUb0FsbERhdGVzIiwicG9zc2libGVEYXRlIiwibWF0Y2hlZERhdGUiLCJ3ZWVrSW5kZXgiLCJkYXlJbmRleCIsIndlZWtLZXkiLCJjZWxsRGF0YSIsImV4dHJhY3RDb2RlcyIsInBhcnNlQ2FsZW5kYXJNb250aCIsIm1vbnRoU3RyIiwiY3VycmVudFllYXIiLCJtb250aE1hcCIsInVuZGVmaW5lZCIsInBhcnNlSW50IiwibW9udGhOYW1lcyIsImluY2x1ZGVzIiwicGFydHMiLCJmaXJzdFBhcnQiLCJzZWNvbmRQYXJ0IiwiaXNOYU4iLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImJhc2VEYXRlIiwiY2VsbERhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsIndlZWtOYW1lIiwiZGF5TmFtZSIsInRleHQiLCJ0cmltIiwibWFwIiwiY29kZSIsInRvVXBwZXJDYXNlIiwiZmlsdGVyIiwic2VuZERhaWx5VGFza05vdGlmaWNhdGlvbiIsInRhc2tzRGF0YSIsImN1c3RvbVRhcmdldCIsInJlY2lwaWVudEVtYWlsIiwic3VjY2VzcyIsInRyYW5zcG9ydGVyIiwiZW1haWxCb2R5IiwibWVhbmluZyIsImRlc2NyaXB0aW9uIiwiam9pbiIsInRvTG9jYWxlU3RyaW5nIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwibmFtZSIsImFkZHJlc3MiLCJ0byIsInN1YmplY3QiLCJodG1sIiwicmVzdWx0Iiwic2VuZE1haWwiLCJtZXNzYWdlSWQiLCJjb2Rlc0NvdW50Iiwic2VudFRvIiwidGVzdEVtYWlsQ29uZmlndXJhdGlvbiIsInZlcmlmeSIsInNlbmRUZXN0RW1haWwiLCJjdXN0b21TZW5kZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/emailService.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sqlite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sqlite */ \"(rsc)/./lib/sqlite.js\");\n// SQLite implementation - Database layer\n\n// Export the SQLite client with database interface\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_sqlite__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHlDQUF5QztBQUNKO0FBRXJDLG1EQUFtRDtBQUNuRCxpRUFBZUEsK0NBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtc3FsaXRlLXRlbXBsYXRlLy4vbGliL21vbmdvZGIuanM/ZDkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUUxpdGUgaW1wbGVtZW50YXRpb24gLSBEYXRhYmFzZSBsYXllclxuaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSAnLi9zcWxpdGUnO1xuXG4vLyBFeHBvcnQgdGhlIFNRTGl0ZSBjbGllbnQgd2l0aCBkYXRhYmFzZSBpbnRlcmZhY2VcbmV4cG9ydCBkZWZhdWx0IGNsaWVudFByb21pc2U7Il0sIm5hbWVzIjpbImNsaWVudFByb21pc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./lib/scheduler.js":
/*!**************************!*\
  !*** ./lib/scheduler.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSchedulerStatus: () => (/* binding */ getSchedulerStatus),\n/* harmony export */   startDailyNotificationScheduler: () => (/* binding */ startDailyNotificationScheduler)\n/* harmony export */ });\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-cron */ \"(rsc)/./node_modules/node-cron/dist/esm/node-cron.js\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_cron__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var _lib_emailService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/emailService */ \"(rsc)/./lib/emailService.js\");\n\n\n\nlet schedulerStarted = false;\nfunction startDailyNotificationScheduler() {\n    if (schedulerStarted) {\n        console.log(\"Daily notification scheduler is already running\");\n        return;\n    }\n    // Schedule daily notification at 06:00 AM Baghdad time (UTC+3)\n    // This corresponds to 03:00 AM UTC\n    const cronExpression = \"0 3 * * *\"; // 03:00 UTC = 06:00 Baghdad time\n    console.log(\"\\uD83D\\uDD14 Starting daily notification scheduler...\");\n    console.log(`üìÖ Scheduled to run at 06:00 AM Baghdad time (03:00 UTC)`);\n    node_cron__WEBPACK_IMPORTED_MODULE_0___default().schedule(cronExpression, async ()=>{\n        console.log(\"‚è∞ Daily notification scheduler triggered at\", new Date().toISOString());\n        try {\n            const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n            const db = client.db(process.env.DB_NAME || \"berdoz_management\");\n            // Get today's tasks\n            const tasksData = await (0,_lib_emailService__WEBPACK_IMPORTED_MODULE_2__.getTodaysTasks)(db);\n            console.log(`üìã Tasks found for today: ${tasksData.codes.length} codes`);\n            if (tasksData.hasTasksToday) {\n                console.log(\"\\uD83D\\uDCE8 Sending daily task notification email...\");\n                const emailResult = await (0,_lib_emailService__WEBPACK_IMPORTED_MODULE_2__.sendDailyTaskNotification)(tasksData);\n                if (emailResult.success) {\n                    console.log(\"‚úÖ Daily notification sent successfully\");\n                    console.log(`üìß Email sent with ${emailResult.codesCount} task codes:`, emailResult.codes);\n                } else {\n                    console.error(\"‚ùå Failed to send daily notification:\", emailResult.error);\n                }\n            } else {\n                console.log(\"\\uD83D\\uDCED No tasks for today, no notification sent\");\n            }\n        } catch (error) {\n            console.error(\"‚ùå Error in daily notification scheduler:\", error);\n        }\n    }, {\n        scheduled: true,\n        timezone: \"UTC\"\n    });\n    schedulerStarted = true;\n    console.log(\"‚úÖ Daily notification scheduler started successfully\");\n}\nfunction getSchedulerStatus() {\n    return {\n        running: schedulerStarted,\n        nextRun: schedulerStarted ? \"Daily at 06:00 AM Baghdad time (03:00 UTC)\" : \"Not scheduled\",\n        timezone: \"Asia/Baghdad (UTC+3)\"\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2NoZWR1bGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2QjtBQUNhO0FBQ3FDO0FBRS9FLElBQUlJLG1CQUFtQjtBQUVoQixTQUFTQztJQUNkLElBQUlELGtCQUFrQjtRQUNwQkUsUUFBUUMsR0FBRyxDQUFDO1FBQ1o7SUFDRjtJQUVBLCtEQUErRDtJQUMvRCxtQ0FBbUM7SUFDbkMsTUFBTUMsaUJBQWlCLGFBQWEsaUNBQWlDO0lBRXJFRixRQUFRQyxHQUFHLENBQUM7SUFDWkQsUUFBUUMsR0FBRyxDQUFDLENBQUMsd0RBQXdELENBQUM7SUFFdEVQLHlEQUFhLENBQUNRLGdCQUFnQjtRQUM1QkYsUUFBUUMsR0FBRyxDQUFDLCtDQUErQyxJQUFJRyxPQUFPQyxXQUFXO1FBRWpGLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU1YLG9EQUFhQTtZQUNsQyxNQUFNWSxLQUFLRCxPQUFPQyxFQUFFLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0MsT0FBTyxJQUFJO1lBRTVDLG9CQUFvQjtZQUNwQixNQUFNQyxZQUFZLE1BQU1mLGlFQUFjQSxDQUFDVztZQUV2Q1AsUUFBUUMsR0FBRyxDQUFDLENBQUMsMEJBQTBCLEVBQUVVLFVBQVVDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUV2RSxJQUFJRixVQUFVRyxhQUFhLEVBQUU7Z0JBQzNCZCxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTWMsY0FBYyxNQUFNbEIsNEVBQXlCQSxDQUFDYztnQkFFcEQsSUFBSUksWUFBWUMsT0FBTyxFQUFFO29CQUN2QmhCLFFBQVFDLEdBQUcsQ0FBQztvQkFDWkQsUUFBUUMsR0FBRyxDQUFDLENBQUMsbUJBQW1CLEVBQUVjLFlBQVlFLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRUYsWUFBWUgsS0FBSztnQkFDM0YsT0FBTztvQkFDTFosUUFBUWtCLEtBQUssQ0FBQyx3Q0FBd0NILFlBQVlHLEtBQUs7Z0JBQ3pFO1lBQ0YsT0FBTztnQkFDTGxCLFFBQVFDLEdBQUcsQ0FBQztZQUNkO1FBRUYsRUFBRSxPQUFPaUIsT0FBTztZQUNkbEIsUUFBUWtCLEtBQUssQ0FBQyw0Q0FBNENBO1FBQzVEO0lBQ0YsR0FBRztRQUNEQyxXQUFXO1FBQ1hDLFVBQVU7SUFDWjtJQUVBdEIsbUJBQW1CO0lBQ25CRSxRQUFRQyxHQUFHLENBQUM7QUFDZDtBQUVPLFNBQVNvQjtJQUNkLE9BQU87UUFDTEMsU0FBU3hCO1FBQ1R5QixTQUFTekIsbUJBQW1CLCtDQUErQztRQUMzRXNCLFVBQVU7SUFDWjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLXNxbGl0ZS10ZW1wbGF0ZS8uL2xpYi9zY2hlZHVsZXIuanM/OTc5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JvbiBmcm9tICdub2RlLWNyb24nO1xuaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSAnQC9saWIvbW9uZ29kYic7XG5pbXBvcnQgeyBnZXRUb2RheXNUYXNrcywgc2VuZERhaWx5VGFza05vdGlmaWNhdGlvbiB9IGZyb20gJ0AvbGliL2VtYWlsU2VydmljZSc7XG5cbmxldCBzY2hlZHVsZXJTdGFydGVkID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydERhaWx5Tm90aWZpY2F0aW9uU2NoZWR1bGVyKCkge1xuICBpZiAoc2NoZWR1bGVyU3RhcnRlZCkge1xuICAgIGNvbnNvbGUubG9nKCdEYWlseSBub3RpZmljYXRpb24gc2NoZWR1bGVyIGlzIGFscmVhZHkgcnVubmluZycpO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgLy8gU2NoZWR1bGUgZGFpbHkgbm90aWZpY2F0aW9uIGF0IDA2OjAwIEFNIEJhZ2hkYWQgdGltZSAoVVRDKzMpXG4gIC8vIFRoaXMgY29ycmVzcG9uZHMgdG8gMDM6MDAgQU0gVVRDXG4gIGNvbnN0IGNyb25FeHByZXNzaW9uID0gJzAgMyAqICogKic7IC8vIDAzOjAwIFVUQyA9IDA2OjAwIEJhZ2hkYWQgdGltZVxuICBcbiAgY29uc29sZS5sb2coJ/CflJQgU3RhcnRpbmcgZGFpbHkgbm90aWZpY2F0aW9uIHNjaGVkdWxlci4uLicpO1xuICBjb25zb2xlLmxvZyhg8J+ThSBTY2hlZHVsZWQgdG8gcnVuIGF0IDA2OjAwIEFNIEJhZ2hkYWQgdGltZSAoMDM6MDAgVVRDKWApO1xuICBcbiAgY3Jvbi5zY2hlZHVsZShjcm9uRXhwcmVzc2lvbiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfij7AgRGFpbHkgbm90aWZpY2F0aW9uIHNjaGVkdWxlciB0cmlnZ2VyZWQgYXQnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlO1xuICAgICAgY29uc3QgZGIgPSBjbGllbnQuZGIocHJvY2Vzcy5lbnYuREJfTkFNRSB8fCAnYmVyZG96X21hbmFnZW1lbnQnKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRvZGF5J3MgdGFza3NcbiAgICAgIGNvbnN0IHRhc2tzRGF0YSA9IGF3YWl0IGdldFRvZGF5c1Rhc2tzKGRiKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfk4sgVGFza3MgZm91bmQgZm9yIHRvZGF5OiAke3Rhc2tzRGF0YS5jb2Rlcy5sZW5ndGh9IGNvZGVzYCk7XG4gICAgICBcbiAgICAgIGlmICh0YXNrc0RhdGEuaGFzVGFza3NUb2RheSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TqCBTZW5kaW5nIGRhaWx5IHRhc2sgbm90aWZpY2F0aW9uIGVtYWlsLi4uJyk7XG4gICAgICAgIGNvbnN0IGVtYWlsUmVzdWx0ID0gYXdhaXQgc2VuZERhaWx5VGFza05vdGlmaWNhdGlvbih0YXNrc0RhdGEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVtYWlsUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIERhaWx5IG5vdGlmaWNhdGlvbiBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OnIEVtYWlsIHNlbnQgd2l0aCAke2VtYWlsUmVzdWx0LmNvZGVzQ291bnR9IHRhc2sgY29kZXM6YCwgZW1haWxSZXN1bHQuY29kZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc2VuZCBkYWlseSBub3RpZmljYXRpb246JywgZW1haWxSZXN1bHQuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TrSBObyB0YXNrcyBmb3IgdG9kYXksIG5vIG5vdGlmaWNhdGlvbiBzZW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIGRhaWx5IG5vdGlmaWNhdGlvbiBzY2hlZHVsZXI6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwge1xuICAgIHNjaGVkdWxlZDogdHJ1ZSxcbiAgICB0aW1lem9uZTogXCJVVENcIlxuICB9KTtcbiAgXG4gIHNjaGVkdWxlclN0YXJ0ZWQgPSB0cnVlO1xuICBjb25zb2xlLmxvZygn4pyFIERhaWx5IG5vdGlmaWNhdGlvbiBzY2hlZHVsZXIgc3RhcnRlZCBzdWNjZXNzZnVsbHknKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjaGVkdWxlclN0YXR1cygpIHtcbiAgcmV0dXJuIHtcbiAgICBydW5uaW5nOiBzY2hlZHVsZXJTdGFydGVkLFxuICAgIG5leHRSdW46IHNjaGVkdWxlclN0YXJ0ZWQgPyAnRGFpbHkgYXQgMDY6MDAgQU0gQmFnaGRhZCB0aW1lICgwMzowMCBVVEMpJyA6ICdOb3Qgc2NoZWR1bGVkJyxcbiAgICB0aW1lem9uZTogJ0FzaWEvQmFnaGRhZCAoVVRDKzMpJ1xuICB9O1xufSJdLCJuYW1lcyI6WyJjcm9uIiwiY2xpZW50UHJvbWlzZSIsImdldFRvZGF5c1Rhc2tzIiwic2VuZERhaWx5VGFza05vdGlmaWNhdGlvbiIsInNjaGVkdWxlclN0YXJ0ZWQiLCJzdGFydERhaWx5Tm90aWZpY2F0aW9uU2NoZWR1bGVyIiwiY29uc29sZSIsImxvZyIsImNyb25FeHByZXNzaW9uIiwic2NoZWR1bGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjbGllbnQiLCJkYiIsInByb2Nlc3MiLCJlbnYiLCJEQl9OQU1FIiwidGFza3NEYXRhIiwiY29kZXMiLCJsZW5ndGgiLCJoYXNUYXNrc1RvZGF5IiwiZW1haWxSZXN1bHQiLCJzdWNjZXNzIiwiY29kZXNDb3VudCIsImVycm9yIiwic2NoZWR1bGVkIiwidGltZXpvbmUiLCJnZXRTY2hlZHVsZXJTdGF0dXMiLCJydW5uaW5nIiwibmV4dFJ1biJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/scheduler.js\n");

/***/ }),

/***/ "(rsc)/./lib/sqlite.js":
/*!***********************!*\
  !*** ./lib/sqlite.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"database\", \"sada.db\");\nconst dbDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(dbPath);\n// Ensure database directory exists\nif (!fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(dbDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_2___default().mkdirSync(dbDir, {\n        recursive: true\n    });\n}\n// Create or open database\nconst db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n// Enable WAL mode for better concurrent access\ndb.pragma(\"journal_mode = WAL\");\n// Initialize database schema\nfunction initDatabase() {\n    // Staff Records - ÿ™€ÜŸÖÿßÿ±€ï⁄©ÿßŸÜ€å ÿ≥ÿ™ÿßŸÅ\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS staff_records (\n      id TEXT PRIMARY KEY,\n      fullName TEXT NOT NULL,\n      mobile TEXT,\n      address TEXT,\n      gender TEXT,\n      dateOfBirth TEXT,\n      certificate TEXT,\n      age INTEGER,\n      education TEXT,\n      attendance TEXT DEFAULT 'Present',\n      date TEXT,\n      department TEXT,\n      bloodType TEXT,\n      certificateImages TEXT,\n      notes TEXT,\n      pass TEXT,\n      contract TEXT DEFAULT 'Permanent',\n      cv TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Teachers - ÿ™€ÜŸÖÿßÿ±€å ŸÖÿßŸÖ€Üÿ≥ÿ™ÿß€åÿßŸÜ\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS teachers (\n      id TEXT PRIMARY KEY,\n      fullName TEXT,\n      birthYear TEXT,\n      certificate TEXT,\n      jobTitle TEXT,\n      specialist TEXT,\n      graduationDate TEXT,\n      startDate TEXT,\n      previousInstitution TEXT,\n      bloodType TEXT,\n      certificateImages TEXT,\n      notes TEXT,\n      cv TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Teacher Info - ÿ≤ÿßŸÜ€åÿßÿ±€å ŸÖÿßŸÖ€Üÿ≥ÿ™ÿß\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS teacher_info (\n      id TEXT PRIMARY KEY,\n      politicalName TEXT,\n      realName TEXT,\n      department TEXT,\n      subject TEXT,\n      grade TEXT,\n      phoneNumber TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Employee Leaves - ŸÖ€Ü⁄µ€ïÿ™€å ŸÖÿßŸÖ€Üÿ≥ÿ™ÿß (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS employee_leaves (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Officer Leaves - ŸÖ€Ü⁄µ€ïÿ™€å ŸÅ€ïÿ±ŸÖÿßŸÜÿ®€ïÿ± (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS officer_leaves (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Calendar - ÿ®€ïÿ±€éŸàÿ®ÿ±ÿØŸÜ€å ÿ≥ÿß⁄µŸÜÿßŸÖ€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS calendar_entries (\n      id TEXT PRIMARY KEY,\n      month TEXT,\n      week1 TEXT,\n      week2 TEXT,\n      week3 TEXT,\n      week4 TEXT,\n      year INTEGER,\n      emailTasks TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Activities - ⁄ÜÿßŸÑÿß⁄©€å\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS activities (\n      id TEXT PRIMARY KEY,\n      activityType TEXT,\n      preparationDate TEXT,\n      content TEXT,\n      startDate TEXT,\n      whoDidIt TEXT,\n      helper TEXT,\n      activityImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Exam Supervision - ⁄ÜÿßŸàÿØ€éÿ±€å⁄©ÿ±ÿØŸÜ€å ÿ™ÿßŸÇ€å⁄©ÿ±ÿØŸÜ€ïŸà€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS exam_supervision (\n      id TEXT PRIMARY KEY,\n      subject TEXT,\n      stage TEXT,\n      endTime TEXT,\n      examAchievement TEXT,\n      supervisorName TEXT,\n      obtainedScore TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Supervision - ⁄ÜÿßŸàÿØ€éÿ±€å (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS supervision (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Bus - Ÿæÿßÿ≥\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS bus_records (\n      id TEXT PRIMARY KEY,\n      busNumber TEXT,\n      busType TEXT,\n      route TEXT,\n      capacity TEXT,\n      studentCount TEXT,\n      teacherCount TEXT,\n      driverName TEXT,\n      driverPhone TEXT,\n      driverLicense TEXT,\n      driverPhoto TEXT,\n      driverLicensePhoto TEXT,\n      driverVideos TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Payroll - ŸÑ€åÿ≥ÿ™€å ÿ®⁄ï€å ŸÖŸà⁄Ü€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS payroll (\n      id TEXT PRIMARY KEY,\n      employeeName TEXT,\n      salary REAL,\n      absence REAL,\n      deduction REAL,\n      bonus REAL,\n      total REAL,\n      month TEXT,\n      year TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Installments - ŸÇ€åÿ≥ÿ™€å ÿ≥ÿß⁄µÿßŸÜ€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS installments (\n      id TEXT PRIMARY KEY,\n      fullName TEXT,\n      grade TEXT,\n      installmentType TEXT,\n      annualAmount REAL,\n      firstInstallment REAL,\n      secondInstallment REAL,\n      thirdInstallment REAL,\n      fourthInstallment REAL,\n      fifthInstallment REAL,\n      sixthInstallment REAL,\n      totalReceived REAL,\n      remaining REAL,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Monthly Expenses - ÿÆ€ïÿ±ÿ¨€å ŸÖÿßŸÜ⁄ØÿßŸÜ€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS monthly_expenses (\n      id TEXT PRIMARY KEY,\n      year TEXT,\n      month TEXT,\n      staffSalary REAL,\n      expenses REAL,\n      buildingRent REAL,\n      dramaFee REAL,\n      socialSupport REAL,\n      electricity REAL,\n      books REAL,\n      clothes REAL,\n      travel REAL,\n      transportation REAL,\n      total REAL,\n      requirement TEXT,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Building Expenses - ŸÖ€ïÿ≥ÿ±ŸàŸÅÿßÿ™€å ÿ®€åŸÜÿß\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS building_expenses (\n      id TEXT PRIMARY KEY,\n      item TEXT,\n      cost REAL,\n      year TEXT,\n      month INTEGER,\n      date TEXT,\n      notes TEXT,\n      images TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Daily Accounts - ÿ≠ÿ≥ÿßÿ®ÿßÿ™€å ÿ±€Ü⁄òÿßŸÜ€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS daily_accounts (\n      id TEXT PRIMARY KEY,\n      number INTEGER,\n      week TEXT,\n      purpose TEXT,\n      checkNumber TEXT,\n      amount REAL,\n      date TEXT,\n      dayOfWeek TEXT,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Kitchen Expenses - ÿÆ€ïÿ±ÿ¨€å ÿÆŸàÿßÿ±ÿØŸÜ⁄Ø€ï\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS kitchen_expenses (\n      id TEXT PRIMARY KEY,\n      item TEXT,\n      cost REAL,\n      date TEXT,\n      month TEXT,\n      year TEXT,\n      purpose TEXT,\n      receiptImages TEXT,\n      notes TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Student Permissions - ŸÖ€Ü⁄µ€ïÿ™ (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS student_permissions (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Supervised Students - ŸÇŸàÿ™ÿßÿ®€å ⁄ÜÿßŸàÿØ€éÿ±€å ⁄©ÿ±ÿßŸà (flexible schema)\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS supervised_students (\n      id TEXT PRIMARY KEY,\n      data TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    // Additional tables for other features\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS legend_entries (\n      id TEXT PRIMARY KEY,\n      abbreviation TEXT NOT NULL,\n      full_description TEXT,\n      category TEXT,\n      usage_count INTEGER DEFAULT 1,\n      last_used TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS email_settings (\n      id TEXT PRIMARY KEY,\n      host TEXT,\n      port INTEGER,\n      secure INTEGER,\n      username TEXT,\n      password TEXT,\n      from_email TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT NOT NULL\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS email_tasks (\n      id TEXT PRIMARY KEY,\n      calendarEntryId TEXT,\n      to_email TEXT,\n      subject TEXT,\n      body TEXT,\n      status TEXT DEFAULT 'Pending',\n      scheduled_time TEXT,\n      date TEXT,\n      codes TEXT,\n      description TEXT,\n      monthContext TEXT,\n      year INTEGER,\n      weekContext TEXT,\n      dayContext TEXT,\n      sent_at TEXT,\n      error TEXT,\n      created_at TEXT NOT NULL,\n      updated_at TEXT\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS user_profiles (\n      id TEXT PRIMARY KEY,\n      username TEXT UNIQUE NOT NULL,\n      password TEXT,\n      fullName TEXT,\n      displayName TEXT,\n      email TEXT,\n      bio TEXT,\n      phone TEXT,\n      location TEXT,\n      institution TEXT,\n      role TEXT DEFAULT 'user',\n      joinDate TEXT,\n      avatar TEXT,\n      language TEXT DEFAULT 'kurdish',\n      theme TEXT DEFAULT 'system',\n      emailNotifications INTEGER DEFAULT 1,\n      systemAlerts INTEGER DEFAULT 1,\n      backupReminders INTEGER DEFAULT 1,\n      created_at TEXT NOT NULL,\n      createdAt TEXT,\n      updated_at TEXT NOT NULL,\n      updatedAt TEXT\n    )\n  `);\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS security_logs (\n      id TEXT PRIMARY KEY,\n      action TEXT NOT NULL,\n      userId TEXT,\n      username TEXT,\n      ipAddress TEXT,\n      userAgent TEXT,\n      timestamp TEXT NOT NULL,\n      details TEXT\n    )\n  `);\n    // Migration: Add month and year columns to payroll table if they don't exist\n    try {\n        const tableInfo = db.prepare(\"PRAGMA table_info(payroll)\").all();\n        const columnNames = tableInfo.map((col)=>col.name);\n        if (!columnNames.includes(\"month\")) {\n            db.exec(\"ALTER TABLE payroll ADD COLUMN month TEXT\");\n            console.log(\"‚úÖ Added month column to payroll table\");\n        }\n        if (!columnNames.includes(\"year\")) {\n            db.exec(\"ALTER TABLE payroll ADD COLUMN year TEXT\");\n            console.log(\"‚úÖ Added year column to payroll table\");\n        }\n    } catch (error) {\n        console.error(\"Migration error for payroll table:\", error);\n    }\n    // Migration: Add type column to email_settings table if it doesn't exist\n    try {\n        const emailSettingsInfo = db.prepare(\"PRAGMA table_info(email_settings)\").all();\n        const emailSettingsColumns = emailSettingsInfo.map((col)=>col.name);\n        if (!emailSettingsColumns.includes(\"type\")) {\n            db.exec(\"ALTER TABLE email_settings ADD COLUMN type TEXT\");\n            console.log(\"‚úÖ Added type column to email_settings table\");\n        }\n    } catch (error) {\n        console.error(\"Migration error for email_settings table:\", error);\n    }\n    console.log(\"‚úÖ SQLite database initialized successfully\");\n}\n// Initialize database on module load\ninitDatabase();\n// Helper class to wrap SQLite operations similar to MongoDB API\nclass SQLiteWrapper {\n    constructor(tableName){\n        this.tableName = tableName;\n        // Check if this table uses flexible schema (data column)\n        this.isFlexibleSchema = this._hasDataColumn();\n    }\n    _hasDataColumn() {\n        const flexibleTables = [\n            \"employee_leaves\",\n            \"officer_leaves\",\n            \"supervision\",\n            \"student_permissions\",\n            \"supervised_students\"\n        ];\n        return flexibleTables.includes(this.tableName);\n    }\n    _parseRow(row) {\n        if (!row) return null;\n        if (this.isFlexibleSchema && row.data) {\n            const parsedData = JSON.parse(row.data);\n            return {\n                id: row.id,\n                ...parsedData,\n                created_at: row.created_at,\n                updated_at: row.updated_at\n            };\n        }\n        // Parse JSON strings for arrays and objects in regular tables\n        const parsedRow = {\n            ...row\n        };\n        for(const key in parsedRow){\n            const value = parsedRow[key];\n            if (typeof value === \"string\" && (value.startsWith(\"[\") || value.startsWith(\"{\"))) {\n                try {\n                    parsedRow[key] = JSON.parse(value);\n                } catch (e) {\n                // If parsing fails, keep the original string\n                }\n            }\n        }\n        return parsedRow;\n    }\n    _parseRows(rows) {\n        return rows.map((row)=>this._parseRow(row));\n    }\n    // Helper method to build WHERE conditions from MongoDB-style filters\n    _buildWhereClause(filter) {\n        const conditions = [];\n        const params = [];\n        for (const [key, value] of Object.entries(filter)){\n            // Handle $or operator\n            if (key === \"$or\" && Array.isArray(value)) {\n                const orConditions = [];\n                for (const orFilter of value){\n                    const { conditions: subConditions, params: subParams } = this._buildWhereClause(orFilter);\n                    if (subConditions.length > 0) {\n                        orConditions.push(`(${subConditions.join(\" AND \")})`);\n                        params.push(...subParams);\n                    }\n                }\n                if (orConditions.length > 0) {\n                    conditions.push(`(${orConditions.join(\" OR \")})`);\n                }\n                continue;\n            }\n            if (value && typeof value === \"object\" && !Array.isArray(value) && !(value instanceof Date)) {\n                // Handle MongoDB-style operators\n                for (const [operator, operatorValue] of Object.entries(value)){\n                    switch(operator){\n                        case \"$gte\":\n                            conditions.push(`${key} >= ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$lte\":\n                            conditions.push(`${key} <= ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$gt\":\n                            conditions.push(`${key} > ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$lt\":\n                            conditions.push(`${key} < ?`);\n                            params.push(operatorValue instanceof Date ? operatorValue.toISOString() : operatorValue);\n                            break;\n                        case \"$ne\":\n                            conditions.push(`${key} != ?`);\n                            params.push(operatorValue);\n                            break;\n                        case \"$in\":\n                            if (Array.isArray(operatorValue)) {\n                                const placeholders = operatorValue.map(()=>\"?\").join(\", \");\n                                conditions.push(`${key} IN (${placeholders})`);\n                                params.push(...operatorValue);\n                            }\n                            break;\n                        case \"$exists\":\n                            // In SQLite, check if column is NULL or NOT NULL\n                            if (operatorValue === false) {\n                                conditions.push(`${key} IS NULL`);\n                            } else {\n                                conditions.push(`${key} IS NOT NULL`);\n                            }\n                            break;\n                        default:\n                            // Unknown operator, treat as equality\n                            conditions.push(`${key} = ?`);\n                            params.push(operatorValue);\n                    }\n                }\n            } else if (value === null) {\n                // Handle NULL values\n                conditions.push(`${key} IS NULL`);\n            } else {\n                // Simple equality\n                conditions.push(`${key} = ?`);\n                params.push(value instanceof Date ? value.toISOString() : value);\n            }\n        }\n        return {\n            conditions,\n            params\n        };\n    }\n    // Find all records with optional filter\n    find(filter = {}) {\n        return {\n            sort: (sortOptions)=>({\n                    limit: (limitValue)=>({\n                            toArray: ()=>{\n                                let query = `SELECT * FROM ${this.tableName}`;\n                                const params = [];\n                                // Add WHERE clause if filter exists\n                                if (Object.keys(filter).length > 0) {\n                                    const { conditions, params: filterParams } = this._buildWhereClause(filter);\n                                    query += ` WHERE ${conditions.join(\" AND \")}`;\n                                    params.push(...filterParams);\n                                }\n                                // Add ORDER BY\n                                if (sortOptions && Object.keys(sortOptions).length > 0) {\n                                    const orderClauses = Object.entries(sortOptions).map(([key, value])=>`${key} ${value === -1 ? \"DESC\" : \"ASC\"}`);\n                                    query += ` ORDER BY ${orderClauses.join(\", \")}`;\n                                }\n                                // Add LIMIT\n                                if (limitValue) {\n                                    query += ` LIMIT ?`;\n                                    params.push(limitValue);\n                                }\n                                const rows = db.prepare(query).all(...params);\n                                return this._parseRows(rows);\n                            }\n                        }),\n                    toArray: ()=>{\n                        let query = `SELECT * FROM ${this.tableName}`;\n                        const params = [];\n                        if (Object.keys(filter).length > 0) {\n                            const { conditions, params: filterParams } = this._buildWhereClause(filter);\n                            query += ` WHERE ${conditions.join(\" AND \")}`;\n                            params.push(...filterParams);\n                        }\n                        if (sortOptions && Object.keys(sortOptions).length > 0) {\n                            const orderClauses = Object.entries(sortOptions).map(([key, value])=>`${key} ${value === -1 ? \"DESC\" : \"ASC\"}`);\n                            query += ` ORDER BY ${orderClauses.join(\", \")}`;\n                        }\n                        const rows = db.prepare(query).all(...params);\n                        return this._parseRows(rows);\n                    }\n                }),\n            toArray: ()=>{\n                let query = `SELECT * FROM ${this.tableName}`;\n                const params = [];\n                if (Object.keys(filter).length > 0) {\n                    const { conditions, params: filterParams } = this._buildWhereClause(filter);\n                    query += ` WHERE ${conditions.join(\" AND \")}`;\n                    params.push(...filterParams);\n                }\n                const rows = db.prepare(query).all(...params);\n                return this._parseRows(rows);\n            }\n        };\n    }\n    // Find one record\n    findOne(filter) {\n        let query = `SELECT * FROM ${this.tableName}`;\n        if (Object.keys(filter).length > 0) {\n            const { conditions, params } = this._buildWhereClause(filter);\n            query += ` WHERE ${conditions.join(\" AND \")} LIMIT 1`;\n            const row = db.prepare(query).get(...params);\n            return this._parseRow(row);\n        }\n        query += ` LIMIT 1`;\n        const row = db.prepare(query).get();\n        return this._parseRow(row);\n    }\n    // Insert one record\n    insertOne(data) {\n        if (this.isFlexibleSchema) {\n            // For flexible schema tables, store everything in data column\n            const { id, created_at, updated_at, ...rest } = data;\n            const query = `INSERT INTO ${this.tableName} (id, data, created_at, updated_at) VALUES (?, ?, ?, ?)`;\n            const result = db.prepare(query).run(id, JSON.stringify(rest), created_at instanceof Date ? created_at.toISOString() : created_at, updated_at instanceof Date ? updated_at.toISOString() : updated_at);\n            return {\n                insertedId: id,\n                acknowledged: true\n            };\n        }\n        const keys = Object.keys(data);\n        // Convert Date objects and arrays to strings\n        const values = Object.values(data).map((val)=>{\n            if (val instanceof Date) return val.toISOString();\n            if (Array.isArray(val)) return JSON.stringify(val);\n            if (typeof val === \"object\" && val !== null) return JSON.stringify(val);\n            return val;\n        });\n        const placeholders = keys.map(()=>\"?\").join(\", \");\n        const query = `INSERT INTO ${this.tableName} (${keys.join(\", \")}) VALUES (${placeholders})`;\n        const result = db.prepare(query).run(...values);\n        return {\n            insertedId: data.id,\n            acknowledged: true\n        };\n    }\n    // Update one record\n    updateOne(filter, update, options = {}) {\n        const updateData = update.$set || update;\n        // Check if record exists\n        const existing = this.findOne(filter);\n        // Handle upsert option\n        if (!existing && options.upsert) {\n            // Insert new record with filter fields + update data\n            const insertData = {\n                ...filter,\n                ...updateData\n            };\n            // Ensure timestamps exist\n            if (!insertData.created_at) {\n                insertData.created_at = new Date().toISOString();\n            }\n            if (!insertData.updated_at) {\n                insertData.updated_at = new Date().toISOString();\n            }\n            return this.insertOne(insertData);\n        }\n        if (!existing) {\n            return {\n                matchedCount: 0,\n                modifiedCount: 0,\n                acknowledged: true\n            };\n        }\n        if (this.isFlexibleSchema) {\n            // For flexible schema, need to read, modify, and write back\n            const { created_at, ...dataFields } = existing;\n            const updated = {\n                ...dataFields,\n                ...updateData\n            };\n            const { id, updated_at, ...rest } = updated;\n            const query = `UPDATE ${this.tableName} SET data = ?, updated_at = ? WHERE id = ?`;\n            const result = db.prepare(query).run(JSON.stringify(rest), updated_at instanceof Date ? updated_at.toISOString() : updated_at, filter.id);\n            return {\n                matchedCount: result.changes,\n                modifiedCount: result.changes,\n                acknowledged: true\n            };\n        }\n        const setClauses = Object.keys(updateData).map((key)=>`${key} = ?`).join(\", \");\n        const filterConditions = Object.keys(filter).map((key)=>`${key} = ?`).join(\" AND \");\n        // Convert Date objects and arrays to strings\n        const updateValues = Object.values(updateData).map((val)=>{\n            if (val instanceof Date) return val.toISOString();\n            if (Array.isArray(val)) return JSON.stringify(val);\n            if (typeof val === \"object\" && val !== null) return JSON.stringify(val);\n            return val;\n        });\n        const query = `UPDATE ${this.tableName} SET ${setClauses} WHERE ${filterConditions}`;\n        const params = [\n            ...updateValues,\n            ...Object.values(filter)\n        ];\n        const result = db.prepare(query).run(...params);\n        return {\n            matchedCount: result.changes,\n            modifiedCount: result.changes,\n            acknowledged: true\n        };\n    }\n    // Find one and update record (MongoDB-compatible method)\n    findOneAndUpdate(filter, update, options = {}) {\n        const updateData = update.$set || update;\n        // Check if record exists\n        const existing = this.findOne(filter);\n        // Handle upsert option\n        if (!existing && options.upsert) {\n            const insertData = {\n                ...filter,\n                ...updateData\n            };\n            if (!insertData.created_at) {\n                insertData.created_at = new Date().toISOString();\n            }\n            if (!insertData.updated_at) {\n                insertData.updated_at = new Date().toISOString();\n            }\n            this.insertOne(insertData);\n            const newRecord = this.findOne(filter);\n            return {\n                value: newRecord,\n                ok: 1\n            };\n        }\n        if (!existing) {\n            return {\n                value: null,\n                ok: 0\n            };\n        }\n        // Perform the update\n        this.updateOne(filter, {\n            $set: updateData\n        });\n        // Return the updated document based on returnDocument option\n        const returnAfter = options.returnDocument === \"after\" || options.returnOriginal === false;\n        if (returnAfter) {\n            const updated = this.findOne(filter);\n            return {\n                value: updated,\n                ok: 1\n            };\n        } else {\n            return {\n                value: existing,\n                ok: 1\n            };\n        }\n    }\n    // Delete one record\n    deleteOne(filter) {\n        const conditions = Object.keys(filter).map((key)=>`${key} = ?`).join(\" AND \");\n        const query = `DELETE FROM ${this.tableName} WHERE ${conditions}`;\n        const result = db.prepare(query).run(...Object.values(filter));\n        return {\n            deletedCount: result.changes\n        };\n    }\n    // Delete many records\n    deleteMany(filter) {\n        if (Object.keys(filter).length === 0) {\n            const result = db.prepare(`DELETE FROM ${this.tableName}`).run();\n            return {\n                deletedCount: result.changes\n            };\n        }\n        const conditions = Object.keys(filter).map((key)=>`${key} = ?`).join(\" AND \");\n        const query = `DELETE FROM ${this.tableName} WHERE ${conditions}`;\n        const result = db.prepare(query).run(...Object.values(filter));\n        return {\n            deletedCount: result.changes\n        };\n    }\n    // Count documents\n    countDocuments(filter = {}) {\n        let query = `SELECT COUNT(*) as count FROM ${this.tableName}`;\n        const params = [];\n        if (Object.keys(filter).length > 0) {\n            const conditions = Object.keys(filter).map((key)=>`${key} = ?`);\n            query += ` WHERE ${conditions.join(\" AND \")}`;\n            params.push(...Object.values(filter));\n        }\n        const result = db.prepare(query).get(...params);\n        return result.count;\n    }\n    // Drop collection (delete all data)\n    drop() {\n        db.prepare(`DELETE FROM ${this.tableName}`).run();\n        return true;\n    }\n    // Insert many records\n    insertMany(documents) {\n        const insertedIds = [];\n        for (const doc of documents){\n            const result = this.insertOne(doc);\n            insertedIds.push(result.insertedId);\n        }\n        return {\n            insertedIds,\n            insertedCount: insertedIds.length,\n            acknowledged: true\n        };\n    }\n}\n// Create a client-like interface similar to MongoDB\nconst sqliteClient = {\n    db: (dbName)=>({\n            collection: (collectionName)=>new SQLiteWrapper(collectionName),\n            // List all collections\n            listCollections: ()=>{\n                const tables = db.prepare(`\n        SELECT name FROM sqlite_master \n        WHERE type='table' AND name NOT LIKE 'sqlite_%'\n      `).all();\n                return {\n                    toArray: ()=>tables\n                };\n            }\n        })\n};\n// Export promise-like interface for compatibility\nconst clientPromise = Promise.resolve(sqliteClient);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ0Y7QUFDRjtBQUVBLG9EQUFvRDtBQUNwRCxNQUFNb0MsZUFBZTtJQUNuQmhILElBQUksQ0FBQ2lILFNBQVk7WUFDZkMsWUFBWSxDQUFDQyxpQkFBbUIsSUFBSWxHLGNBQWNrRztZQUNsRCx1QkFBdUI7WUFDdkJDLGlCQUFpQjtnQkFDZixNQUFNQyxTQUFTckgsR0FBR0ssT0FBTyxDQUFDLENBQUM7OztNQUczQixDQUFDLEVBQUVDLEdBQUc7Z0JBQ04sT0FBTztvQkFDTHlELFNBQVMsSUFBTXNEO2dCQUNqQjtZQUNGO1FBQ0Y7QUFDRjtBQUVBLGtEQUFrRDtBQUNsRCxNQUFNQyxnQkFBZ0JDLFFBQVFDLE9BQU8sQ0FBQ1I7QUFFdEMsaUVBQWVNLGFBQWFBLEVBQUM7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1zcWxpdGUtdGVtcGxhdGUvLi9saWIvc3FsaXRlLmpzP2NmNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFiYXNlIGZyb20gJ2JldHRlci1zcWxpdGUzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhYmFzZScsICdzYWRhLmRiJyk7XG5jb25zdCBkYkRpciA9IHBhdGguZGlybmFtZShkYlBhdGgpO1xuXG4vLyBFbnN1cmUgZGF0YWJhc2UgZGlyZWN0b3J5IGV4aXN0c1xuaWYgKCFmcy5leGlzdHNTeW5jKGRiRGlyKSkge1xuICBmcy5ta2RpclN5bmMoZGJEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuXG4vLyBDcmVhdGUgb3Igb3BlbiBkYXRhYmFzZVxuY29uc3QgZGIgPSBuZXcgRGF0YWJhc2UoZGJQYXRoKTtcblxuLy8gRW5hYmxlIFdBTCBtb2RlIGZvciBiZXR0ZXIgY29uY3VycmVudCBhY2Nlc3NcbmRiLnByYWdtYSgnam91cm5hbF9tb2RlID0gV0FMJyk7XG5cbi8vIEluaXRpYWxpemUgZGF0YWJhc2Ugc2NoZW1hXG5mdW5jdGlvbiBpbml0RGF0YWJhc2UoKSB7XG4gIC8vIFN0YWZmIFJlY29yZHMgLSDYqtuG2YXYp9ix25Xaqdin2YbbjCDYs9iq2KfZgVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzdGFmZl9yZWNvcmRzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBmdWxsTmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgbW9iaWxlIFRFWFQsXG4gICAgICBhZGRyZXNzIFRFWFQsXG4gICAgICBnZW5kZXIgVEVYVCxcbiAgICAgIGRhdGVPZkJpcnRoIFRFWFQsXG4gICAgICBjZXJ0aWZpY2F0ZSBURVhULFxuICAgICAgYWdlIElOVEVHRVIsXG4gICAgICBlZHVjYXRpb24gVEVYVCxcbiAgICAgIGF0dGVuZGFuY2UgVEVYVCBERUZBVUxUICdQcmVzZW50JyxcbiAgICAgIGRhdGUgVEVYVCxcbiAgICAgIGRlcGFydG1lbnQgVEVYVCxcbiAgICAgIGJsb29kVHlwZSBURVhULFxuICAgICAgY2VydGlmaWNhdGVJbWFnZXMgVEVYVCxcbiAgICAgIG5vdGVzIFRFWFQsXG4gICAgICBwYXNzIFRFWFQsXG4gICAgICBjb250cmFjdCBURVhUIERFRkFVTFQgJ1Blcm1hbmVudCcsXG4gICAgICBjdiBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBUZWFjaGVycyAtINiq24bZhdin2LHbjCDZhdin2YXbhtiz2KrYp9uM2KfZhlxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB0ZWFjaGVycyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZnVsbE5hbWUgVEVYVCxcbiAgICAgIGJpcnRoWWVhciBURVhULFxuICAgICAgY2VydGlmaWNhdGUgVEVYVCxcbiAgICAgIGpvYlRpdGxlIFRFWFQsXG4gICAgICBzcGVjaWFsaXN0IFRFWFQsXG4gICAgICBncmFkdWF0aW9uRGF0ZSBURVhULFxuICAgICAgc3RhcnREYXRlIFRFWFQsXG4gICAgICBwcmV2aW91c0luc3RpdHV0aW9uIFRFWFQsXG4gICAgICBibG9vZFR5cGUgVEVYVCxcbiAgICAgIGNlcnRpZmljYXRlSW1hZ2VzIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3YgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gVGVhY2hlciBJbmZvIC0g2LLYp9mG24zYp9ix24wg2YXYp9mF24bYs9iq2KdcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdGVhY2hlcl9pbmZvIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBwb2xpdGljYWxOYW1lIFRFWFQsXG4gICAgICByZWFsTmFtZSBURVhULFxuICAgICAgZGVwYXJ0bWVudCBURVhULFxuICAgICAgc3ViamVjdCBURVhULFxuICAgICAgZ3JhZGUgVEVYVCxcbiAgICAgIHBob25lTnVtYmVyIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBFbXBsb3llZSBMZWF2ZXMgLSDZhduG2rXbldiq24wg2YXYp9mF24bYs9iq2KcgKGZsZXhpYmxlIHNjaGVtYSlcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZW1wbG95ZWVfbGVhdmVzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBkYXRhIFRFWFQgTk9UIE5VTEwsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIE9mZmljZXIgTGVhdmVzIC0g2YXbhtq125XYqtuMINmB25XYsdmF2KfZhtio25XYsSAoZmxleGlibGUgc2NoZW1hKVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBvZmZpY2VyX2xlYXZlcyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZGF0YSBURVhUIE5PVCBOVUxMLFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBDYWxlbmRhciAtINio25XYsduO2YjYqNix2K/ZhtuMINiz2KfatdmG2KfZhduVXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNhbGVuZGFyX2VudHJpZXMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIG1vbnRoIFRFWFQsXG4gICAgICB3ZWVrMSBURVhULFxuICAgICAgd2VlazIgVEVYVCxcbiAgICAgIHdlZWszIFRFWFQsXG4gICAgICB3ZWVrNCBURVhULFxuICAgICAgeWVhciBJTlRFR0VSLFxuICAgICAgZW1haWxUYXNrcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBBY3Rpdml0aWVzIC0g2obYp9mE2KfaqduMXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGFjdGl2aXRpZXMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGFjdGl2aXR5VHlwZSBURVhULFxuICAgICAgcHJlcGFyYXRpb25EYXRlIFRFWFQsXG4gICAgICBjb250ZW50IFRFWFQsXG4gICAgICBzdGFydERhdGUgVEVYVCxcbiAgICAgIHdob0RpZEl0IFRFWFQsXG4gICAgICBoZWxwZXIgVEVYVCxcbiAgICAgIGFjdGl2aXR5SW1hZ2VzIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBFeGFtIFN1cGVydmlzaW9uIC0g2obYp9mI2K/bjtix24zaqdix2K/ZhtuMINiq2KfZgtuM2qnYsdiv2YbbldmI25VcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZXhhbV9zdXBlcnZpc2lvbiAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgc3ViamVjdCBURVhULFxuICAgICAgc3RhZ2UgVEVYVCxcbiAgICAgIGVuZFRpbWUgVEVYVCxcbiAgICAgIGV4YW1BY2hpZXZlbWVudCBURVhULFxuICAgICAgc3VwZXJ2aXNvck5hbWUgVEVYVCxcbiAgICAgIG9idGFpbmVkU2NvcmUgVEVYVCxcbiAgICAgIG5vdGVzIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIFN1cGVydmlzaW9uIC0g2obYp9mI2K/bjtix24wgKGZsZXhpYmxlIHNjaGVtYSlcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc3VwZXJ2aXNpb24gKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGRhdGEgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gQnVzIC0g2b7Yp9izXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJ1c19yZWNvcmRzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBidXNOdW1iZXIgVEVYVCxcbiAgICAgIGJ1c1R5cGUgVEVYVCxcbiAgICAgIHJvdXRlIFRFWFQsXG4gICAgICBjYXBhY2l0eSBURVhULFxuICAgICAgc3R1ZGVudENvdW50IFRFWFQsXG4gICAgICB0ZWFjaGVyQ291bnQgVEVYVCxcbiAgICAgIGRyaXZlck5hbWUgVEVYVCxcbiAgICAgIGRyaXZlclBob25lIFRFWFQsXG4gICAgICBkcml2ZXJMaWNlbnNlIFRFWFQsXG4gICAgICBkcml2ZXJQaG90byBURVhULFxuICAgICAgZHJpdmVyTGljZW5zZVBob3RvIFRFWFQsXG4gICAgICBkcml2ZXJWaWRlb3MgVEVYVCxcbiAgICAgIG5vdGVzIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIFBheXJvbGwgLSDZhNuM2LPYqtuMINio2pXbjCDZhdmI2obblVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwYXlyb2xsIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBlbXBsb3llZU5hbWUgVEVYVCxcbiAgICAgIHNhbGFyeSBSRUFMLFxuICAgICAgYWJzZW5jZSBSRUFMLFxuICAgICAgZGVkdWN0aW9uIFJFQUwsXG4gICAgICBib251cyBSRUFMLFxuICAgICAgdG90YWwgUkVBTCxcbiAgICAgIG1vbnRoIFRFWFQsXG4gICAgICB5ZWFyIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBJbnN0YWxsbWVudHMgLSDZgtuM2LPYqtuMINiz2Kfatdin2YbblVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBpbnN0YWxsbWVudHMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGZ1bGxOYW1lIFRFWFQsXG4gICAgICBncmFkZSBURVhULFxuICAgICAgaW5zdGFsbG1lbnRUeXBlIFRFWFQsXG4gICAgICBhbm51YWxBbW91bnQgUkVBTCxcbiAgICAgIGZpcnN0SW5zdGFsbG1lbnQgUkVBTCxcbiAgICAgIHNlY29uZEluc3RhbGxtZW50IFJFQUwsXG4gICAgICB0aGlyZEluc3RhbGxtZW50IFJFQUwsXG4gICAgICBmb3VydGhJbnN0YWxsbWVudCBSRUFMLFxuICAgICAgZmlmdGhJbnN0YWxsbWVudCBSRUFMLFxuICAgICAgc2l4dGhJbnN0YWxsbWVudCBSRUFMLFxuICAgICAgdG90YWxSZWNlaXZlZCBSRUFMLFxuICAgICAgcmVtYWluaW5nIFJFQUwsXG4gICAgICByZWNlaXB0SW1hZ2VzIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBNb250aGx5IEV4cGVuc2VzIC0g2K7bldix2KzbjCDZhdin2Ybar9in2YbblVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBtb250aGx5X2V4cGVuc2VzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICB5ZWFyIFRFWFQsXG4gICAgICBtb250aCBURVhULFxuICAgICAgc3RhZmZTYWxhcnkgUkVBTCxcbiAgICAgIGV4cGVuc2VzIFJFQUwsXG4gICAgICBidWlsZGluZ1JlbnQgUkVBTCxcbiAgICAgIGRyYW1hRmVlIFJFQUwsXG4gICAgICBzb2NpYWxTdXBwb3J0IFJFQUwsXG4gICAgICBlbGVjdHJpY2l0eSBSRUFMLFxuICAgICAgYm9va3MgUkVBTCxcbiAgICAgIGNsb3RoZXMgUkVBTCxcbiAgICAgIHRyYXZlbCBSRUFMLFxuICAgICAgdHJhbnNwb3J0YXRpb24gUkVBTCxcbiAgICAgIHRvdGFsIFJFQUwsXG4gICAgICByZXF1aXJlbWVudCBURVhULFxuICAgICAgcmVjZWlwdEltYWdlcyBURVhULFxuICAgICAgbm90ZXMgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gQnVpbGRpbmcgRXhwZW5zZXMgLSDZhduV2LPYsdmI2YHYp9iq24wg2KjbjNmG2KdcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYnVpbGRpbmdfZXhwZW5zZXMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGl0ZW0gVEVYVCxcbiAgICAgIGNvc3QgUkVBTCxcbiAgICAgIHllYXIgVEVYVCxcbiAgICAgIG1vbnRoIElOVEVHRVIsXG4gICAgICBkYXRlIFRFWFQsXG4gICAgICBub3RlcyBURVhULFxuICAgICAgaW1hZ2VzIFRFWFQsXG4gICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTExcbiAgICApXG4gIGApO1xuXG4gIC8vIERhaWx5IEFjY291bnRzIC0g2K3Ys9in2KjYp9iq24wg2LHbhtqY2KfZhtuVXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGRhaWx5X2FjY291bnRzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBudW1iZXIgSU5URUdFUixcbiAgICAgIHdlZWsgVEVYVCxcbiAgICAgIHB1cnBvc2UgVEVYVCxcbiAgICAgIGNoZWNrTnVtYmVyIFRFWFQsXG4gICAgICBhbW91bnQgUkVBTCxcbiAgICAgIGRhdGUgVEVYVCxcbiAgICAgIGRheU9mV2VlayBURVhULFxuICAgICAgcmVjZWlwdEltYWdlcyBURVhULFxuICAgICAgbm90ZXMgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gS2l0Y2hlbiBFeHBlbnNlcyAtINiu25XYsdis24wg2K7ZiNin2LHYr9mG2q/blVxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBraXRjaGVuX2V4cGVuc2VzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBpdGVtIFRFWFQsXG4gICAgICBjb3N0IFJFQUwsXG4gICAgICBkYXRlIFRFWFQsXG4gICAgICBtb250aCBURVhULFxuICAgICAgeWVhciBURVhULFxuICAgICAgcHVycG9zZSBURVhULFxuICAgICAgcmVjZWlwdEltYWdlcyBURVhULFxuICAgICAgbm90ZXMgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gU3R1ZGVudCBQZXJtaXNzaW9ucyAtINmF24batduV2KogKGZsZXhpYmxlIHNjaGVtYSlcbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc3R1ZGVudF9wZXJtaXNzaW9ucyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgZGF0YSBURVhUIE5PVCBOVUxMLFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgKVxuICBgKTtcblxuICAvLyBTdXBlcnZpc2VkIFN0dWRlbnRzIC0g2YLZiNiq2KfYqNuMINqG2KfZiNiv247YsduMINqp2LHYp9mIIChmbGV4aWJsZSBzY2hlbWEpXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHN1cGVydmlzZWRfc3R1ZGVudHMgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGRhdGEgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgLy8gQWRkaXRpb25hbCB0YWJsZXMgZm9yIG90aGVyIGZlYXR1cmVzXG4gIGRiLmV4ZWMoYFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGxlZ2VuZF9lbnRyaWVzIChcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICBhYmJyZXZpYXRpb24gVEVYVCBOT1QgTlVMTCxcbiAgICAgIGZ1bGxfZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgIGNhdGVnb3J5IFRFWFQsXG4gICAgICB1c2FnZV9jb3VudCBJTlRFR0VSIERFRkFVTFQgMSxcbiAgICAgIGxhc3RfdXNlZCBURVhULFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgdXBkYXRlZF9hdCBURVhUXG4gICAgKVxuICBgKTtcblxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBlbWFpbF9zZXR0aW5ncyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgaG9zdCBURVhULFxuICAgICAgcG9ydCBJTlRFR0VSLFxuICAgICAgc2VjdXJlIElOVEVHRVIsXG4gICAgICB1c2VybmFtZSBURVhULFxuICAgICAgcGFzc3dvcmQgVEVYVCxcbiAgICAgIGZyb21fZW1haWwgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTFxuICAgIClcbiAgYCk7XG5cbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZW1haWxfdGFza3MgKFxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgIGNhbGVuZGFyRW50cnlJZCBURVhULFxuICAgICAgdG9fZW1haWwgVEVYVCxcbiAgICAgIHN1YmplY3QgVEVYVCxcbiAgICAgIGJvZHkgVEVYVCxcbiAgICAgIHN0YXR1cyBURVhUIERFRkFVTFQgJ1BlbmRpbmcnLFxuICAgICAgc2NoZWR1bGVkX3RpbWUgVEVYVCxcbiAgICAgIGRhdGUgVEVYVCxcbiAgICAgIGNvZGVzIFRFWFQsXG4gICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgbW9udGhDb250ZXh0IFRFWFQsXG4gICAgICB5ZWFyIElOVEVHRVIsXG4gICAgICB3ZWVrQ29udGV4dCBURVhULFxuICAgICAgZGF5Q29udGV4dCBURVhULFxuICAgICAgc2VudF9hdCBURVhULFxuICAgICAgZXJyb3IgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgIHVwZGF0ZWRfYXQgVEVYVFxuICAgIClcbiAgYCk7XG5cbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcl9wcm9maWxlcyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgdXNlcm5hbWUgVEVYVCBVTklRVUUgTk9UIE5VTEwsXG4gICAgICBwYXNzd29yZCBURVhULFxuICAgICAgZnVsbE5hbWUgVEVYVCxcbiAgICAgIGRpc3BsYXlOYW1lIFRFWFQsXG4gICAgICBlbWFpbCBURVhULFxuICAgICAgYmlvIFRFWFQsXG4gICAgICBwaG9uZSBURVhULFxuICAgICAgbG9jYXRpb24gVEVYVCxcbiAgICAgIGluc3RpdHV0aW9uIFRFWFQsXG4gICAgICByb2xlIFRFWFQgREVGQVVMVCAndXNlcicsXG4gICAgICBqb2luRGF0ZSBURVhULFxuICAgICAgYXZhdGFyIFRFWFQsXG4gICAgICBsYW5ndWFnZSBURVhUIERFRkFVTFQgJ2t1cmRpc2gnLFxuICAgICAgdGhlbWUgVEVYVCBERUZBVUxUICdzeXN0ZW0nLFxuICAgICAgZW1haWxOb3RpZmljYXRpb25zIElOVEVHRVIgREVGQVVMVCAxLFxuICAgICAgc3lzdGVtQWxlcnRzIElOVEVHRVIgREVGQVVMVCAxLFxuICAgICAgYmFja3VwUmVtaW5kZXJzIElOVEVHRVIgREVGQVVMVCAxLFxuICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgY3JlYXRlZEF0IFRFWFQsXG4gICAgICB1cGRhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICB1cGRhdGVkQXQgVEVYVFxuICAgIClcbiAgYCk7XG5cbiAgZGIuZXhlYyhgXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2VjdXJpdHlfbG9ncyAoXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgYWN0aW9uIFRFWFQgTk9UIE5VTEwsXG4gICAgICB1c2VySWQgVEVYVCxcbiAgICAgIHVzZXJuYW1lIFRFWFQsXG4gICAgICBpcEFkZHJlc3MgVEVYVCxcbiAgICAgIHVzZXJBZ2VudCBURVhULFxuICAgICAgdGltZXN0YW1wIFRFWFQgTk9UIE5VTEwsXG4gICAgICBkZXRhaWxzIFRFWFRcbiAgICApXG4gIGApO1xuXG4gIC8vIE1pZ3JhdGlvbjogQWRkIG1vbnRoIGFuZCB5ZWFyIGNvbHVtbnMgdG8gcGF5cm9sbCB0YWJsZSBpZiB0aGV5IGRvbid0IGV4aXN0XG4gIHRyeSB7XG4gICAgY29uc3QgdGFibGVJbmZvID0gZGIucHJlcGFyZShcIlBSQUdNQSB0YWJsZV9pbmZvKHBheXJvbGwpXCIpLmFsbCgpO1xuICAgIGNvbnN0IGNvbHVtbk5hbWVzID0gdGFibGVJbmZvLm1hcChjb2wgPT4gY29sLm5hbWUpO1xuICAgIFxuICAgIGlmICghY29sdW1uTmFtZXMuaW5jbHVkZXMoJ21vbnRoJykpIHtcbiAgICAgIGRiLmV4ZWMoJ0FMVEVSIFRBQkxFIHBheXJvbGwgQUREIENPTFVNTiBtb250aCBURVhUJyk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIEFkZGVkIG1vbnRoIGNvbHVtbiB0byBwYXlyb2xsIHRhYmxlJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICghY29sdW1uTmFtZXMuaW5jbHVkZXMoJ3llYXInKSkge1xuICAgICAgZGIuZXhlYygnQUxURVIgVEFCTEUgcGF5cm9sbCBBREQgQ09MVU1OIHllYXIgVEVYVCcpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBZGRlZCB5ZWFyIGNvbHVtbiB0byBwYXlyb2xsIHRhYmxlJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ01pZ3JhdGlvbiBlcnJvciBmb3IgcGF5cm9sbCB0YWJsZTonLCBlcnJvcik7XG4gIH1cblxuICAvLyBNaWdyYXRpb246IEFkZCB0eXBlIGNvbHVtbiB0byBlbWFpbF9zZXR0aW5ncyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gIHRyeSB7XG4gICAgY29uc3QgZW1haWxTZXR0aW5nc0luZm8gPSBkYi5wcmVwYXJlKFwiUFJBR01BIHRhYmxlX2luZm8oZW1haWxfc2V0dGluZ3MpXCIpLmFsbCgpO1xuICAgIGNvbnN0IGVtYWlsU2V0dGluZ3NDb2x1bW5zID0gZW1haWxTZXR0aW5nc0luZm8ubWFwKGNvbCA9PiBjb2wubmFtZSk7XG4gICAgXG4gICAgaWYgKCFlbWFpbFNldHRpbmdzQ29sdW1ucy5pbmNsdWRlcygndHlwZScpKSB7XG4gICAgICBkYi5leGVjKCdBTFRFUiBUQUJMRSBlbWFpbF9zZXR0aW5ncyBBREQgQ09MVU1OIHR5cGUgVEVYVCcpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBZGRlZCB0eXBlIGNvbHVtbiB0byBlbWFpbF9zZXR0aW5ncyB0YWJsZScpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaWdyYXRpb24gZXJyb3IgZm9yIGVtYWlsX3NldHRpbmdzIHRhYmxlOicsIGVycm9yKTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCfinIUgU1FMaXRlIGRhdGFiYXNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xufVxuXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlIG9uIG1vZHVsZSBsb2FkXG5pbml0RGF0YWJhc2UoKTtcblxuLy8gSGVscGVyIGNsYXNzIHRvIHdyYXAgU1FMaXRlIG9wZXJhdGlvbnMgc2ltaWxhciB0byBNb25nb0RCIEFQSVxuY2xhc3MgU1FMaXRlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKHRhYmxlTmFtZSkge1xuICAgIHRoaXMudGFibGVOYW1lID0gdGFibGVOYW1lO1xuICAgIC8vIENoZWNrIGlmIHRoaXMgdGFibGUgdXNlcyBmbGV4aWJsZSBzY2hlbWEgKGRhdGEgY29sdW1uKVxuICAgIHRoaXMuaXNGbGV4aWJsZVNjaGVtYSA9IHRoaXMuX2hhc0RhdGFDb2x1bW4oKTtcbiAgfVxuXG4gIF9oYXNEYXRhQ29sdW1uKCkge1xuICAgIGNvbnN0IGZsZXhpYmxlVGFibGVzID0gWydlbXBsb3llZV9sZWF2ZXMnLCAnb2ZmaWNlcl9sZWF2ZXMnLCAnc3VwZXJ2aXNpb24nLCAnc3R1ZGVudF9wZXJtaXNzaW9ucycsICdzdXBlcnZpc2VkX3N0dWRlbnRzJ107XG4gICAgcmV0dXJuIGZsZXhpYmxlVGFibGVzLmluY2x1ZGVzKHRoaXMudGFibGVOYW1lKTtcbiAgfVxuXG4gIF9wYXJzZVJvdyhyb3cpIHtcbiAgICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRoaXMuaXNGbGV4aWJsZVNjaGVtYSAmJiByb3cuZGF0YSkge1xuICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2Uocm93LmRhdGEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJvdy5pZCwgIC8vIEFsd2F5cyBpbmNsdWRlIHRoZSBpZCBmcm9tIHRoZSBkYXRhYmFzZSByb3dcbiAgICAgICAgLi4ucGFyc2VkRGF0YSxcbiAgICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHJvdy51cGRhdGVkX2F0XG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBQYXJzZSBKU09OIHN0cmluZ3MgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyBpbiByZWd1bGFyIHRhYmxlc1xuICAgIGNvbnN0IHBhcnNlZFJvdyA9IHsgLi4ucm93IH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyc2VkUm93KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlZFJvd1trZXldO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgKHZhbHVlLnN0YXJ0c1dpdGgoJ1snKSB8fCB2YWx1ZS5zdGFydHNXaXRoKCd7JykpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFyc2VkUm93W2tleV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIElmIHBhcnNpbmcgZmFpbHMsIGtlZXAgdGhlIG9yaWdpbmFsIHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWRSb3c7XG4gIH1cblxuICBfcGFyc2VSb3dzKHJvd3MpIHtcbiAgICByZXR1cm4gcm93cy5tYXAocm93ID0+IHRoaXMuX3BhcnNlUm93KHJvdykpO1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBidWlsZCBXSEVSRSBjb25kaXRpb25zIGZyb20gTW9uZ29EQi1zdHlsZSBmaWx0ZXJzXG4gIF9idWlsZFdoZXJlQ2xhdXNlKGZpbHRlcikge1xuICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBbXTtcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmaWx0ZXIpKSB7XG4gICAgICAvLyBIYW5kbGUgJG9yIG9wZXJhdG9yXG4gICAgICBpZiAoa2V5ID09PSAnJG9yJyAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBvckNvbmRpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBvckZpbHRlciBvZiB2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgY29uZGl0aW9uczogc3ViQ29uZGl0aW9ucywgcGFyYW1zOiBzdWJQYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2Uob3JGaWx0ZXIpO1xuICAgICAgICAgIGlmIChzdWJDb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9yQ29uZGl0aW9ucy5wdXNoKGAoJHtzdWJDb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9KWApO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4uc3ViUGFyYW1zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yQ29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKGAoJHtvckNvbmRpdGlvbnMuam9pbignIE9SICcpfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAvLyBIYW5kbGUgTW9uZ29EQi1zdHlsZSBvcGVyYXRvcnNcbiAgICAgICAgZm9yIChjb25zdCBbb3BlcmF0b3IsIG9wZXJhdG9yVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgJyRndGUnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA+PSA/YCk7XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9wZXJhdG9yVmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gb3BlcmF0b3JWYWx1ZS50b0lTT1N0cmluZygpIDogb3BlcmF0b3JWYWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnJGx0ZSc6XG4gICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9IDw9ID9gKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob3BlcmF0b3JWYWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBvcGVyYXRvclZhbHVlLnRvSVNPU3RyaW5nKCkgOiBvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckZ3QnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA+ID9gKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob3BlcmF0b3JWYWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBvcGVyYXRvclZhbHVlLnRvSVNPU3RyaW5nKCkgOiBvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckbHQnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA8ID9gKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob3BlcmF0b3JWYWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBvcGVyYXRvclZhbHVlLnRvSVNPU3RyaW5nKCkgOiBvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckbmUnOlxuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSAhPSA/YCk7XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9wZXJhdG9yVmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyRpbic6XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wZXJhdG9yVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gb3BlcmF0b3JWYWx1ZS5tYXAoKCkgPT4gJz8nKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9IElOICgke3BsYWNlaG9sZGVyc30pYCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4ub3BlcmF0b3JWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICckZXhpc3RzJzpcbiAgICAgICAgICAgICAgLy8gSW4gU1FMaXRlLCBjaGVjayBpZiBjb2x1bW4gaXMgTlVMTCBvciBOT1QgTlVMTFxuICAgICAgICAgICAgICBpZiAob3BlcmF0b3JWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSBJUyBOVUxMYCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKGAke2tleX0gSVMgTk9UIE5VTExgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIC8vIFVua25vd24gb3BlcmF0b3IsIHRyZWF0IGFzIGVxdWFsaXR5XG4gICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9ID0gP2ApO1xuICAgICAgICAgICAgICBwYXJhbXMucHVzaChvcGVyYXRvclZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gSGFuZGxlIE5VTEwgdmFsdWVzXG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChgJHtrZXl9IElTIE5VTExgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNpbXBsZSBlcXVhbGl0eVxuICAgICAgICBjb25kaXRpb25zLnB1c2goYCR7a2V5fSA9ID9gKTtcbiAgICAgICAgcGFyYW1zLnB1c2godmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gdmFsdWUudG9JU09TdHJpbmcoKSA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgY29uZGl0aW9ucywgcGFyYW1zIH07XG4gIH1cblxuICAvLyBGaW5kIGFsbCByZWNvcmRzIHdpdGggb3B0aW9uYWwgZmlsdGVyXG4gIGZpbmQoZmlsdGVyID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgc29ydDogKHNvcnRPcHRpb25zKSA9PiAoe1xuICAgICAgICBsaW1pdDogKGxpbWl0VmFsdWUpID0+ICh7XG4gICAgICAgICAgdG9BcnJheTogKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCAqIEZST00gJHt0aGlzLnRhYmxlTmFtZX1gO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBXSEVSRSBjbGF1c2UgaWYgZmlsdGVyIGV4aXN0c1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zdCB7IGNvbmRpdGlvbnMsIHBhcmFtczogZmlsdGVyUGFyYW1zIH0gPSB0aGlzLl9idWlsZFdoZXJlQ2xhdXNlKGZpbHRlcik7XG4gICAgICAgICAgICAgIHF1ZXJ5ICs9IGAgV0hFUkUgJHtjb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9YDtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4uZmlsdGVyUGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIE9SREVSIEJZXG4gICAgICAgICAgICBpZiAoc29ydE9wdGlvbnMgJiYgT2JqZWN0LmtleXMoc29ydE9wdGlvbnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JkZXJDbGF1c2VzID0gT2JqZWN0LmVudHJpZXMoc29ydE9wdGlvbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBcbiAgICAgICAgICAgICAgICBgJHtrZXl9ICR7dmFsdWUgPT09IC0xID8gJ0RFU0MnIDogJ0FTQyd9YFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWVyeSArPSBgIE9SREVSIEJZICR7b3JkZXJDbGF1c2VzLmpvaW4oJywgJyl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIExJTUlUXG4gICAgICAgICAgICBpZiAobGltaXRWYWx1ZSkge1xuICAgICAgICAgICAgICBxdWVyeSArPSBgIExJTUlUID9gO1xuICAgICAgICAgICAgICBwYXJhbXMucHVzaChsaW1pdFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgcm93cyA9IGRiLnByZXBhcmUocXVlcnkpLmFsbCguLi5wYXJhbXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlUm93cyhyb3dzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICB0b0FycmF5OiAoKSA9PiB7XG4gICAgICAgICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCAqIEZST00gJHt0aGlzLnRhYmxlTmFtZX1gO1xuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29uZGl0aW9ucywgcGFyYW1zOiBmaWx0ZXJQYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2UoZmlsdGVyKTtcbiAgICAgICAgICAgIHF1ZXJ5ICs9IGAgV0hFUkUgJHtjb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9YDtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKC4uLmZpbHRlclBhcmFtcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChzb3J0T3B0aW9ucyAmJiBPYmplY3Qua2V5cyhzb3J0T3B0aW9ucykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJDbGF1c2VzID0gT2JqZWN0LmVudHJpZXMoc29ydE9wdGlvbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBcbiAgICAgICAgICAgICAgYCR7a2V5fSAke3ZhbHVlID09PSAtMSA/ICdERVNDJyA6ICdBU0MnfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBxdWVyeSArPSBgIE9SREVSIEJZICR7b3JkZXJDbGF1c2VzLmpvaW4oJywgJyl9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qgcm93cyA9IGRiLnByZXBhcmUocXVlcnkpLmFsbCguLi5wYXJhbXMpO1xuICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJzZVJvd3Mocm93cyk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgdG9BcnJheTogKCkgPT4ge1xuICAgICAgICBsZXQgcXVlcnkgPSBgU0VMRUNUICogRlJPTSAke3RoaXMudGFibGVOYW1lfWA7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHsgY29uZGl0aW9ucywgcGFyYW1zOiBmaWx0ZXJQYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2UoZmlsdGVyKTtcbiAgICAgICAgICBxdWVyeSArPSBgIFdIRVJFICR7Y29uZGl0aW9ucy5qb2luKCcgQU5EICcpfWA7XG4gICAgICAgICAgcGFyYW1zLnB1c2goLi4uZmlsdGVyUGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgcm93cyA9IGRiLnByZXBhcmUocXVlcnkpLmFsbCguLi5wYXJhbXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VSb3dzKHJvd3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBGaW5kIG9uZSByZWNvcmRcbiAgZmluZE9uZShmaWx0ZXIpIHtcbiAgICBsZXQgcXVlcnkgPSBgU0VMRUNUICogRlJPTSAke3RoaXMudGFibGVOYW1lfWA7XG4gICAgXG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBjb25kaXRpb25zLCBwYXJhbXMgfSA9IHRoaXMuX2J1aWxkV2hlcmVDbGF1c2UoZmlsdGVyKTtcbiAgICAgIHF1ZXJ5ICs9IGAgV0hFUkUgJHtjb25kaXRpb25zLmpvaW4oJyBBTkQgJyl9IExJTUlUIDFgO1xuICAgICAgY29uc3Qgcm93ID0gZGIucHJlcGFyZShxdWVyeSkuZ2V0KC4uLnBhcmFtcyk7XG4gICAgICByZXR1cm4gdGhpcy5fcGFyc2VSb3cocm93KTtcbiAgICB9XG4gICAgXG4gICAgcXVlcnkgKz0gYCBMSU1JVCAxYDtcbiAgICBjb25zdCByb3cgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5nZXQoKTtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VSb3cocm93KTtcbiAgfVxuXG4gIC8vIEluc2VydCBvbmUgcmVjb3JkXG4gIGluc2VydE9uZShkYXRhKSB7XG4gICAgaWYgKHRoaXMuaXNGbGV4aWJsZVNjaGVtYSkge1xuICAgICAgLy8gRm9yIGZsZXhpYmxlIHNjaGVtYSB0YWJsZXMsIHN0b3JlIGV2ZXJ5dGhpbmcgaW4gZGF0YSBjb2x1bW5cbiAgICAgIGNvbnN0IHsgaWQsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQsIC4uLnJlc3QgfSA9IGRhdGE7XG4gICAgICBjb25zdCBxdWVyeSA9IGBJTlNFUlQgSU5UTyAke3RoaXMudGFibGVOYW1lfSAoaWQsIGRhdGEsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPylgO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZGIucHJlcGFyZShxdWVyeSkucnVuKFxuICAgICAgICBpZCxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdCksXG4gICAgICAgIGNyZWF0ZWRfYXQgaW5zdGFuY2VvZiBEYXRlID8gY3JlYXRlZF9hdC50b0lTT1N0cmluZygpIDogY3JlYXRlZF9hdCxcbiAgICAgICAgdXBkYXRlZF9hdCBpbnN0YW5jZW9mIERhdGUgPyB1cGRhdGVkX2F0LnRvSVNPU3RyaW5nKCkgOiB1cGRhdGVkX2F0XG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5zZXJ0ZWRJZDogaWQsXG4gICAgICAgIGFja25vd2xlZGdlZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIC8vIENvbnZlcnQgRGF0ZSBvYmplY3RzIGFuZCBhcnJheXMgdG8gc3RyaW5nc1xuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoZGF0YSkubWFwKHZhbCA9PiB7XG4gICAgICBpZiAodmFsIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHZhbC50b0lTT1N0cmluZygpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSk7XG4gICAgY29uc3QgcGxhY2Vob2xkZXJzID0ga2V5cy5tYXAoKCkgPT4gJz8nKS5qb2luKCcsICcpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gYElOU0VSVCBJTlRPICR7dGhpcy50YWJsZU5hbWV9ICgke2tleXMuam9pbignLCAnKX0pIFZBTFVFUyAoJHtwbGFjZWhvbGRlcnN9KWA7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gZGIucHJlcGFyZShxdWVyeSkucnVuKC4uLnZhbHVlcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluc2VydGVkSWQ6IGRhdGEuaWQsXG4gICAgICBhY2tub3dsZWRnZWQ6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgLy8gVXBkYXRlIG9uZSByZWNvcmRcbiAgdXBkYXRlT25lKGZpbHRlciwgdXBkYXRlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0gdXBkYXRlLiRzZXQgfHwgdXBkYXRlO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHJlY29yZCBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgIFxuICAgIC8vIEhhbmRsZSB1cHNlcnQgb3B0aW9uXG4gICAgaWYgKCFleGlzdGluZyAmJiBvcHRpb25zLnVwc2VydCkge1xuICAgICAgLy8gSW5zZXJ0IG5ldyByZWNvcmQgd2l0aCBmaWx0ZXIgZmllbGRzICsgdXBkYXRlIGRhdGFcbiAgICAgIGNvbnN0IGluc2VydERhdGEgPSB7IC4uLmZpbHRlciwgLi4udXBkYXRlRGF0YSB9O1xuICAgICAgLy8gRW5zdXJlIHRpbWVzdGFtcHMgZXhpc3RcbiAgICAgIGlmICghaW5zZXJ0RGF0YS5jcmVhdGVkX2F0KSB7XG4gICAgICAgIGluc2VydERhdGEuY3JlYXRlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIGlmICghaW5zZXJ0RGF0YS51cGRhdGVkX2F0KSB7XG4gICAgICAgIGluc2VydERhdGEudXBkYXRlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmluc2VydE9uZShpbnNlcnREYXRhKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFleGlzdGluZykge1xuICAgICAgcmV0dXJuIHsgbWF0Y2hlZENvdW50OiAwLCBtb2RpZmllZENvdW50OiAwLCBhY2tub3dsZWRnZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuaXNGbGV4aWJsZVNjaGVtYSkge1xuICAgICAgLy8gRm9yIGZsZXhpYmxlIHNjaGVtYSwgbmVlZCB0byByZWFkLCBtb2RpZnksIGFuZCB3cml0ZSBiYWNrXG4gICAgICBjb25zdCB7IGNyZWF0ZWRfYXQsIC4uLmRhdGFGaWVsZHMgfSA9IGV4aXN0aW5nO1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZGF0YUZpZWxkcywgLi4udXBkYXRlRGF0YSB9O1xuICAgICAgY29uc3QgeyBpZCwgdXBkYXRlZF9hdCwgLi4ucmVzdCB9ID0gdXBkYXRlZDtcbiAgICAgIFxuICAgICAgY29uc3QgcXVlcnkgPSBgVVBEQVRFICR7dGhpcy50YWJsZU5hbWV9IFNFVCBkYXRhID0gPywgdXBkYXRlZF9hdCA9ID8gV0hFUkUgaWQgPSA/YDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRiLnByZXBhcmUocXVlcnkpLnJ1bihcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdCksXG4gICAgICAgIHVwZGF0ZWRfYXQgaW5zdGFuY2VvZiBEYXRlID8gdXBkYXRlZF9hdC50b0lTT1N0cmluZygpIDogdXBkYXRlZF9hdCxcbiAgICAgICAgZmlsdGVyLmlkXG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVkQ291bnQ6IHJlc3VsdC5jaGFuZ2VzLFxuICAgICAgICBtb2RpZmllZENvdW50OiByZXN1bHQuY2hhbmdlcyxcbiAgICAgICAgYWNrbm93bGVkZ2VkOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZXRDbGF1c2VzID0gT2JqZWN0LmtleXModXBkYXRlRGF0YSkubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApLmpvaW4oJywgJyk7XG4gICAgY29uc3QgZmlsdGVyQ29uZGl0aW9ucyA9IE9iamVjdC5rZXlzKGZpbHRlcikubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApLmpvaW4oJyBBTkQgJyk7XG4gICAgXG4gICAgLy8gQ29udmVydCBEYXRlIG9iamVjdHMgYW5kIGFycmF5cyB0byBzdHJpbmdzXG4gICAgY29uc3QgdXBkYXRlVmFsdWVzID0gT2JqZWN0LnZhbHVlcyh1cGRhdGVEYXRhKS5tYXAodmFsID0+IHtcbiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdmFsLnRvSVNPU3RyaW5nKCk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWwpO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBxdWVyeSA9IGBVUERBVEUgJHt0aGlzLnRhYmxlTmFtZX0gU0VUICR7c2V0Q2xhdXNlc30gV0hFUkUgJHtmaWx0ZXJDb25kaXRpb25zfWA7XG4gICAgY29uc3QgcGFyYW1zID0gWy4uLnVwZGF0ZVZhbHVlcywgLi4uT2JqZWN0LnZhbHVlcyhmaWx0ZXIpXTtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5ydW4oLi4ucGFyYW1zKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlZENvdW50OiByZXN1bHQuY2hhbmdlcyxcbiAgICAgIG1vZGlmaWVkQ291bnQ6IHJlc3VsdC5jaGFuZ2VzLFxuICAgICAgYWNrbm93bGVkZ2VkOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIC8vIEZpbmQgb25lIGFuZCB1cGRhdGUgcmVjb3JkIChNb25nb0RCLWNvbXBhdGlibGUgbWV0aG9kKVxuICBmaW5kT25lQW5kVXBkYXRlKGZpbHRlciwgdXBkYXRlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0gdXBkYXRlLiRzZXQgfHwgdXBkYXRlO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHJlY29yZCBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgIFxuICAgIC8vIEhhbmRsZSB1cHNlcnQgb3B0aW9uXG4gICAgaWYgKCFleGlzdGluZyAmJiBvcHRpb25zLnVwc2VydCkge1xuICAgICAgY29uc3QgaW5zZXJ0RGF0YSA9IHsgLi4uZmlsdGVyLCAuLi51cGRhdGVEYXRhIH07XG4gICAgICBpZiAoIWluc2VydERhdGEuY3JlYXRlZF9hdCkge1xuICAgICAgICBpbnNlcnREYXRhLmNyZWF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAoIWluc2VydERhdGEudXBkYXRlZF9hdCkge1xuICAgICAgICBpbnNlcnREYXRhLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmluc2VydE9uZShpbnNlcnREYXRhKTtcbiAgICAgIGNvbnN0IG5ld1JlY29yZCA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IG5ld1JlY29yZCxcbiAgICAgICAgb2s6IDFcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiB7IHZhbHVlOiBudWxsLCBvazogMCB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBQZXJmb3JtIHRoZSB1cGRhdGVcbiAgICB0aGlzLnVwZGF0ZU9uZShmaWx0ZXIsIHsgJHNldDogdXBkYXRlRGF0YSB9KTtcbiAgICBcbiAgICAvLyBSZXR1cm4gdGhlIHVwZGF0ZWQgZG9jdW1lbnQgYmFzZWQgb24gcmV0dXJuRG9jdW1lbnQgb3B0aW9uXG4gICAgY29uc3QgcmV0dXJuQWZ0ZXIgPSBvcHRpb25zLnJldHVybkRvY3VtZW50ID09PSAnYWZ0ZXInIHx8IG9wdGlvbnMucmV0dXJuT3JpZ2luYWwgPT09IGZhbHNlO1xuICAgIGlmIChyZXR1cm5BZnRlcikge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHRoaXMuZmluZE9uZShmaWx0ZXIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHVwZGF0ZWQsXG4gICAgICAgIG9rOiAxXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogZXhpc3RpbmcsXG4gICAgICAgIG9rOiAxXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIERlbGV0ZSBvbmUgcmVjb3JkXG4gIGRlbGV0ZU9uZShmaWx0ZXIpIHtcbiAgICBjb25zdCBjb25kaXRpb25zID0gT2JqZWN0LmtleXMoZmlsdGVyKS5tYXAoa2V5ID0+IGAke2tleX0gPSA/YCkuam9pbignIEFORCAnKTtcbiAgICBjb25zdCBxdWVyeSA9IGBERUxFVEUgRlJPTSAke3RoaXMudGFibGVOYW1lfSBXSEVSRSAke2NvbmRpdGlvbnN9YDtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5ydW4oLi4uT2JqZWN0LnZhbHVlcyhmaWx0ZXIpKTtcbiAgICByZXR1cm4ge1xuICAgICAgZGVsZXRlZENvdW50OiByZXN1bHQuY2hhbmdlc1xuICAgIH07XG4gIH1cblxuICAvLyBEZWxldGUgbWFueSByZWNvcmRzXG4gIGRlbGV0ZU1hbnkoZmlsdGVyKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcikubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKGBERUxFVEUgRlJPTSAke3RoaXMudGFibGVOYW1lfWApLnJ1bigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVsZXRlZENvdW50OiByZXN1bHQuY2hhbmdlc1xuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29uZGl0aW9ucyA9IE9iamVjdC5rZXlzKGZpbHRlcikubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApLmpvaW4oJyBBTkQgJyk7XG4gICAgY29uc3QgcXVlcnkgPSBgREVMRVRFIEZST00gJHt0aGlzLnRhYmxlTmFtZX0gV0hFUkUgJHtjb25kaXRpb25zfWA7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gZGIucHJlcGFyZShxdWVyeSkucnVuKC4uLk9iamVjdC52YWx1ZXMoZmlsdGVyKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlbGV0ZWRDb3VudDogcmVzdWx0LmNoYW5nZXNcbiAgICB9O1xuICB9XG5cbiAgLy8gQ291bnQgZG9jdW1lbnRzXG4gIGNvdW50RG9jdW1lbnRzKGZpbHRlciA9IHt9KSB7XG4gICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NICR7dGhpcy50YWJsZU5hbWV9YDtcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBcbiAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjb25kaXRpb25zID0gT2JqZWN0LmtleXMoZmlsdGVyKS5tYXAoa2V5ID0+IGAke2tleX0gPSA/YCk7XG4gICAgICBxdWVyeSArPSBgIFdIRVJFICR7Y29uZGl0aW9ucy5qb2luKCcgQU5EICcpfWA7XG4gICAgICBwYXJhbXMucHVzaCguLi5PYmplY3QudmFsdWVzKGZpbHRlcikpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5nZXQoLi4ucGFyYW1zKTtcbiAgICByZXR1cm4gcmVzdWx0LmNvdW50O1xuICB9XG5cbiAgLy8gRHJvcCBjb2xsZWN0aW9uIChkZWxldGUgYWxsIGRhdGEpXG4gIGRyb3AoKSB7XG4gICAgZGIucHJlcGFyZShgREVMRVRFIEZST00gJHt0aGlzLnRhYmxlTmFtZX1gKS5ydW4oKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEluc2VydCBtYW55IHJlY29yZHNcbiAgaW5zZXJ0TWFueShkb2N1bWVudHMpIHtcbiAgICBjb25zdCBpbnNlcnRlZElkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgZG9jIG9mIGRvY3VtZW50cykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5pbnNlcnRPbmUoZG9jKTtcbiAgICAgIGluc2VydGVkSWRzLnB1c2gocmVzdWx0Lmluc2VydGVkSWQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaW5zZXJ0ZWRJZHMsXG4gICAgICBpbnNlcnRlZENvdW50OiBpbnNlcnRlZElkcy5sZW5ndGgsXG4gICAgICBhY2tub3dsZWRnZWQ6IHRydWVcbiAgICB9O1xuICB9XG59XG5cbi8vIENyZWF0ZSBhIGNsaWVudC1saWtlIGludGVyZmFjZSBzaW1pbGFyIHRvIE1vbmdvREJcbmNvbnN0IHNxbGl0ZUNsaWVudCA9IHtcbiAgZGI6IChkYk5hbWUpID0+ICh7XG4gICAgY29sbGVjdGlvbjogKGNvbGxlY3Rpb25OYW1lKSA9PiBuZXcgU1FMaXRlV3JhcHBlcihjb2xsZWN0aW9uTmFtZSksXG4gICAgLy8gTGlzdCBhbGwgY29sbGVjdGlvbnNcbiAgICBsaXN0Q29sbGVjdGlvbnM6ICgpID0+IHtcbiAgICAgIGNvbnN0IHRhYmxlcyA9IGRiLnByZXBhcmUoYFxuICAgICAgICBTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXIgXG4gICAgICAgIFdIRVJFIHR5cGU9J3RhYmxlJyBBTkQgbmFtZSBOT1QgTElLRSAnc3FsaXRlXyUnXG4gICAgICBgKS5hbGwoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQXJyYXk6ICgpID0+IHRhYmxlc1xuICAgICAgfTtcbiAgICB9XG4gIH0pXG59O1xuXG4vLyBFeHBvcnQgcHJvbWlzZS1saWtlIGludGVyZmFjZSBmb3IgY29tcGF0aWJpbGl0eVxuY29uc3QgY2xpZW50UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShzcWxpdGVDbGllbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlO1xuZXhwb3J0IHsgZGIgfTtcbiJdLCJuYW1lcyI6WyJEYXRhYmFzZSIsInBhdGgiLCJmcyIsImRiUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZGJEaXIiLCJkaXJuYW1lIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImRiIiwicHJhZ21hIiwiaW5pdERhdGFiYXNlIiwiZXhlYyIsInRhYmxlSW5mbyIsInByZXBhcmUiLCJhbGwiLCJjb2x1bW5OYW1lcyIsIm1hcCIsImNvbCIsIm5hbWUiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImVtYWlsU2V0dGluZ3NJbmZvIiwiZW1haWxTZXR0aW5nc0NvbHVtbnMiLCJTUUxpdGVXcmFwcGVyIiwiY29uc3RydWN0b3IiLCJ0YWJsZU5hbWUiLCJpc0ZsZXhpYmxlU2NoZW1hIiwiX2hhc0RhdGFDb2x1bW4iLCJmbGV4aWJsZVRhYmxlcyIsIl9wYXJzZVJvdyIsInJvdyIsImRhdGEiLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwiaWQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInBhcnNlZFJvdyIsImtleSIsInZhbHVlIiwic3RhcnRzV2l0aCIsImUiLCJfcGFyc2VSb3dzIiwicm93cyIsIl9idWlsZFdoZXJlQ2xhdXNlIiwiZmlsdGVyIiwiY29uZGl0aW9ucyIsInBhcmFtcyIsIk9iamVjdCIsImVudHJpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJvckNvbmRpdGlvbnMiLCJvckZpbHRlciIsInN1YkNvbmRpdGlvbnMiLCJzdWJQYXJhbXMiLCJsZW5ndGgiLCJwdXNoIiwiRGF0ZSIsIm9wZXJhdG9yIiwib3BlcmF0b3JWYWx1ZSIsInRvSVNPU3RyaW5nIiwicGxhY2Vob2xkZXJzIiwiZmluZCIsInNvcnQiLCJzb3J0T3B0aW9ucyIsImxpbWl0IiwibGltaXRWYWx1ZSIsInRvQXJyYXkiLCJxdWVyeSIsImtleXMiLCJmaWx0ZXJQYXJhbXMiLCJvcmRlckNsYXVzZXMiLCJmaW5kT25lIiwiZ2V0IiwiaW5zZXJ0T25lIiwicmVzdCIsInJlc3VsdCIsInJ1biIsInN0cmluZ2lmeSIsImluc2VydGVkSWQiLCJhY2tub3dsZWRnZWQiLCJ2YWx1ZXMiLCJ2YWwiLCJ1cGRhdGVPbmUiLCJ1cGRhdGUiLCJvcHRpb25zIiwidXBkYXRlRGF0YSIsIiRzZXQiLCJleGlzdGluZyIsInVwc2VydCIsImluc2VydERhdGEiLCJtYXRjaGVkQ291bnQiLCJtb2RpZmllZENvdW50IiwiZGF0YUZpZWxkcyIsInVwZGF0ZWQiLCJjaGFuZ2VzIiwic2V0Q2xhdXNlcyIsImZpbHRlckNvbmRpdGlvbnMiLCJ1cGRhdGVWYWx1ZXMiLCJmaW5kT25lQW5kVXBkYXRlIiwibmV3UmVjb3JkIiwib2siLCJyZXR1cm5BZnRlciIsInJldHVybkRvY3VtZW50IiwicmV0dXJuT3JpZ2luYWwiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJkZWxldGVNYW55IiwiY291bnREb2N1bWVudHMiLCJjb3VudCIsImRyb3AiLCJpbnNlcnRNYW55IiwiZG9jdW1lbnRzIiwiaW5zZXJ0ZWRJZHMiLCJkb2MiLCJpbnNlcnRlZENvdW50Iiwic3FsaXRlQ2xpZW50IiwiZGJOYW1lIiwiY29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwibGlzdENvbGxlY3Rpb25zIiwidGFibGVzIiwiY2xpZW50UHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/sqlite.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer","vendor-chunks/node-cron"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscheduler%2Froute&page=%2Fapi%2Fscheduler%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscheduler%2Froute.js&appDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fswyanswartz%2FDocuments%2Fsada%2Fsada29%2Fsada144&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();